"use strict";(self.webpackChunkforest_atlas_template=self.webpackChunkforest_atlas_template||[]).push([[174],{9997:(e,t,i)=>{i.d(t,{createRoot:()=>ye}),i(39553);var s=i(65009),a=i(83067),r=i(63872),n=i(4631);class o{constructor(){Object.defineProperty(this,"_observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._observer=new ResizeObserver((e=>{(0,s.i)(e,(e=>{(0,s.i)(this._targets,(t=>{t.target===e.target&&t.callback()}))}))}))}addTarget(e,t){this._observer.observe(e,{box:"border-box"}),this._targets.push({target:e,callback:t})}removeTarget(e){this._observer.unobserve(e),(0,s.Q)(this._targets,(t=>t.target!==e))}}class l{constructor(){Object.defineProperty(this,"_timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]})}addTarget(e,t){if(null===this._timer){let e=null;const t=()=>{const i=Date.now();(null===e||i>e+l.delay)&&(e=i,(0,s.i)(this._targets,(e=>{let t=e.target.getBoundingClientRect();t.width===e.size.width&&t.height===e.size.height||(e.size=t,e.callback())}))),0===this._targets.length?this._timer=null:this._timer=requestAnimationFrame(t)};this._timer=requestAnimationFrame(t)}this._targets.push({target:e,callback:t,size:{width:0,height:0,left:0,right:0,top:0,bottom:0,x:0,y:0}})}removeTarget(e){(0,s.Q)(this._targets,(t=>t.target!==e)),0===this._targets.length&&null!==this._timer&&(cancelAnimationFrame(this._timer),this._timer=null)}}Object.defineProperty(l,"delay",{enumerable:!0,configurable:!0,writable:!0,value:200});let h=null;class d{constructor(e,t){Object.defineProperty(this,"_sensor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_listener",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this._sensor=(null===h&&(h="undefined"!=typeof ResizeObserver?new o:new l),h),this._element=e,this._listener=(0,s.O)(t),this._sensor.addTarget(e,t)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element),this._listener.dispose())}get sensor(){return this._sensor}}class u extends s.E{}Object.defineProperty(u,"className",{enumerable:!0,configurable:!0,writable:!0,value:"InterfaceColors"}),Object.defineProperty(u,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.E.classNames.concat([u.className])});class c extends s.E{_setDefaults(){this._setDefault("negativeBase",0),this._setDefault("numberFormat","#,###.#####"),this._setDefault("smallNumberThreshold",1);const e="_big_number_suffix_",t="_small_number_suffix_",i="_byte_suffix_";this._setDefault("bigNumberPrefixes",[{number:1e3,suffix:this._t(e+"3")},{number:1e6,suffix:this._t(e+"6")},{number:1e9,suffix:this._t(e+"9")},{number:1e12,suffix:this._t(e+"12")},{number:1e15,suffix:this._t(e+"15")},{number:1e18,suffix:this._t(e+"18")},{number:1e21,suffix:this._t(e+"21")},{number:1e24,suffix:this._t(e+"24")}]),this._setDefault("smallNumberPrefixes",[{number:1e-24,suffix:this._t(t+"24")},{number:1e-21,suffix:this._t(t+"21")},{number:1e-18,suffix:this._t(t+"18")},{number:1e-15,suffix:this._t(t+"15")},{number:1e-12,suffix:this._t(t+"12")},{number:1e-9,suffix:this._t(t+"9")},{number:1e-6,suffix:this._t(t+"6")},{number:.001,suffix:this._t(t+"3")}]),this._setDefault("bytePrefixes",[{number:1,suffix:this._t(i+"B")},{number:1024,suffix:this._t(i+"KB")},{number:1048576,suffix:this._t(i+"MB")},{number:1073741824,suffix:this._t(i+"GB")},{number:1099511627776,suffix:this._t(i+"TB")},{number:0x4000000000000,suffix:this._t(i+"PB")}]),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,t,i){let a;(null==t||(0,s.U)(t)&&"number"===t.toLowerCase())&&(t=this.get("numberFormat",""));let r=Number(e);if((0,s.V)(t))try{return this.get("intlLocales")?new Intl.NumberFormat(this.get("intlLocales"),t).format(r):new Intl.NumberFormat(void 0,t).format(r)}catch(e){return"Invalid"}else{t=(0,s.W)(t);let e,n=this.parseFormat(t,this._root.language);e=r>this.get("negativeBase")?n.positive:r<this.get("negativeBase")?n.negative:n.zero,null==i||e.mod||(e=(0,s.X)(e),e.decimals.active=0==r?0:i),a=e.template.split(s.Y).join(this.applyFormat(r,e))}return!0===this.get("forceLTR")&&(a="‎"+a),a}parseFormat(e,t){const i=t.translateEmpty("_thousandSeparator"),a=t.translateEmpty("_decimalSeparator");let r={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:a},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:a},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:a},template:"",source:"",parsed:!1}},n=(e=e.replace("||",s.Z)).split("|");return r.positive.source=n[0],void 0===n[2]?r.zero=r.positive:r.zero.source=n[2],void 0===n[1]?r.negative=r.positive:r.negative.source=n[1],(0,s._)(r,((e,t)=>{if(t.parsed)return;let i=t.source;"number"===i.toLowerCase()&&(i=this.get("numberFormat","#,###.#####"));let a=s.$.chunk(i,!0);for(let e=0;e<a.length;e++){let i=a[e];if(i.text=i.text.replace(s.Z,"|"),"value"===i.type){let e=i.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP‰!]?/);if(e)if(null===e||""===e[0])t.template+=i.text;else{let a=e[0].match(/[abespABESP%‰!]{2}|[abespABESP%‰]{1}$/);a&&(t.mod=a[0].toLowerCase(),t.modSpacing=!!e[0].match(/[ ]{1}[abespABESP%‰!]{1}$/));let r=e[0].split(".");if(""===r[0]);else{t.thousands.active=(r[0].match(/0/g)||[]).length,t.thousands.passive=(r[0].match(/\#/g)||[]).length+t.thousands.active;let e=r[0].split(",");1===e.length||(t.thousands.interval=(e.pop()||"").length,0===t.thousands.interval&&(t.thousands.interval=-1))}void 0===r[1]||(t.decimals.active=(r[1].match(/0/g)||[]).length,t.decimals.passive=(r[1].match(/\#/g)||[]).length+t.decimals.active),t.template+=i.text.split(e[0]).join(s.Y)}}else t.template+=i.text}t.parsed=!0})),r}applyFormat(e,t){let i=e<0;e=Math.abs(e);let a="",r="",n=t.mod?t.mod.split(""):[];if(-1!==n.indexOf("b")){let i=this.applyPrefix(e,this.get("bytePrefixes"),-1!==n.indexOf("!"));e=i[0],a=i[1],r=i[2],t.modSpacing&&(r=" "+r)}else if(-1!==n.indexOf("a")){let i=this.applyPrefix(e,e<this.get("smallNumberThreshold")?this.get("smallNumberPrefixes"):this.get("bigNumberPrefixes"),-1!==n.indexOf("!"));e=i[0],a=i[1],r=i[2],t.modSpacing&&(r=" "+r)}else if(-1!==n.indexOf("p")){let t=Math.min(e.toString().length+2,21);e=parseFloat(e.toPrecision(t)),a=this._root.language.translate("_percentPrefix"),r=this._root.language.translate("_percentSuffix"),""==a&&""==r&&(r="%")}else if(-1!==n.indexOf("%")){let t=Math.min(e.toString().length+2,21);e*=100,e=parseFloat(e.toPrecision(t)),r="%"}else if(-1!==n.indexOf("‰")){let t=Math.min(e.toString().length+3,21);e*=1e3,e=parseFloat(e.toPrecision(t)),r="‰"}if(-1!==n.indexOf("e")){let i;i=t.decimals.passive>=0?e.toExponential(t.decimals.passive).split("e"):e.toExponential().split("e"),e=Number(i[0]),r="e"+i[1],t.modSpacing&&(r=" "+r)}else if(0===t.decimals.passive)e=Math.round(e);else if(t.decimals.passive>0){const i=(0,s.a0)(e);if(i>0){const s=Math.pow(10,t.decimals.passive);e=Math.round(parseFloat((e*s).toFixed(i)))/s}}let o="",l=(0,s.a1)(e).split("."),h=l[0];if(h.length<t.thousands.active&&(h=Array(t.thousands.active-h.length+1).join("0")+h),t.thousands.interval>0){let e=[],i=h.split("").reverse().join("");for(let s=0,a=h.length;s<=a;s+=t.thousands.interval){let a=i.substr(s,t.thousands.interval).split("").reverse().join("");""!==a&&e.unshift(a)}h=e.join(t.thousands.separator)}o+=h,1===l.length&&l.push("");let d=l[1];return d.length<t.decimals.active&&(d+=Array(t.decimals.active-d.length+1).join("0")),""!==d&&(o+=t.decimals.separator+d),""===o&&(o="0"),0!==e&&i&&-1===n.indexOf("s")&&(o="-"+o),a&&(o=a+o),r&&(o+=r),o}applyPrefix(e,t,i=!1){let s=e,a="",r="",n=!1,o=1;for(let i=0,l=t.length;i<l;i++)t[i].number<=e&&(0===t[i].number?s=0:(s=e/t[i].number,o=t[i].number),a=t[i].prefix,r=t[i].suffix,n=!0);return!n&&i&&t.length&&0!=e&&(s=e/t[0].number,a=t[0].prefix,r=t[0].suffix,n=!0),n&&(s=parseFloat(s.toPrecision(Math.min(o.toString().length+Math.floor(s).toString().replace(/[^0-9]*/g,"").length,21)))),[s,a,r]}escape(e){return e.replace("||",s.Z)}unescape(e){return e.replace(s.Z,"|")}}function g(e,t){let i=0,s=0,a=1,r=0,n=0,o=0,l=0,h=0;return e.formatToParts(t).forEach((e=>{switch(e.type){case"year":i=+e.value;break;case"month":s=+e.value-1;break;case"day":a=+e.value;break;case"hour":r=+e.value;break;case"minute":n=+e.value;break;case"second":o=+e.value;break;case"fractionalSecond":l=+e.value;break;case"weekday":switch(e.value){case"Sun":h=0;break;case"Mon":h=1;break;case"Tue":h=2;break;case"Wed":h=3;break;case"Thu":h=4;break;case"Fri":h=5;break;case"Sat":h=6}}})),24===r&&(r=0),{year:i,month:s,day:a,hour:r,minute:n,second:o,millisecond:l,weekday:h}}function p(e,t){const{year:i,month:s,day:a,hour:r,minute:n,second:o,millisecond:l}=g(e,t);return Date.UTC(i,s,a,r,n,o,l)}class m{constructor(e,t){if(Object.defineProperty(this,"_utc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dtf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!t)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this.name=e,this._utc=new Intl.DateTimeFormat("UTC",{hour12:!1,timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3}),this._dtf=new Intl.DateTimeFormat("UTC",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3})}static new(e){return new this(e,!0)}convertLocal(e){const t=this.offsetUTC(e),i=e.getTimezoneOffset(),s=new Date(e);s.setUTCMinutes(s.getUTCMinutes()-(t-i));const a=s.getTimezoneOffset();return i!=a&&s.setUTCMinutes(s.getUTCMinutes()+a-i),s}offsetUTC(e){return(p(this._utc,e)-p(this._dtf,e))/6e4}parseDate(e){return g(this._dtf,e)}}class b extends s.E{_setDefaults(){this._setDefault("capitalize",!0),this._setDefault("dateFormat","yyyy-MM-dd"),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,t,i=!1){let a;void 0!==t&&""!==t||(t=this.get("dateFormat","yyyy-MM-dd"));let r=e;if((0,s.V)(t))try{const e=this.get("intlLocales");return e?new Intl.DateTimeFormat(e,t).format(r):new Intl.DateTimeFormat(void 0,t).format(r)}catch(e){return"Invalid"}let n=this.parseFormat(t);const o=this._root.timezone;return!o||this._root.utc||i||(r=o.convertLocal(r)),(0,s.k)(r.getTime())?(a=this.applyFormat(r,n,i),this.get("capitalize")&&(a=a.replace(/^.{1}/,a.substr(0,1).toUpperCase())),a):"Invalid date"}applyFormat(e,t,i=!1){let a,r,n,o,l,h,d,u,c=t.template,g=e.getTime();this._root.utc&&!i?(a=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),l=e.getUTCHours(),h=e.getUTCMinutes(),d=e.getUTCSeconds(),u=e.getUTCMilliseconds()):(a=e.getFullYear(),r=e.getMonth(),n=e.getDay(),o=e.getDate(),l=e.getHours(),h=e.getMinutes(),d=e.getSeconds(),u=e.getMilliseconds());for(let i=0,p=t.parts.length;i<p;i++){let p="";switch(t.parts[i]){case"G":p=this._t(a<0?"_era_bc":"_era_ad");break;case"yyyy":p=Math.abs(a).toString(),a<0&&(p+=this._t("_era_bc"));break;case"yyy":case"yy":case"y":p=Math.abs(a).toString().substr(-t.parts[i].length),a<0&&(p+=this._t("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":let c=(0,s.a9)(e,this._root.utc);p="YYYY"==t.parts[i]?Math.abs(c).toString():Math.abs(c).toString().substr(-t.parts[i].length),c<0&&(p+=this._t("_era_bc"));break;case"u":case"F":case"g":break;case"q":p=""+Math.ceil((e.getMonth()+1)/3);break;case"MMMMM":p=this._t(this._getMonth(r)).substr(0,1);break;case"MMMM":p=this._t(this._getMonth(r));break;case"MMM":p=this._t(this._getShortMonth(r));break;case"MM":p=(0,s.a3)(r+1,2,"0");break;case"M":p=(r+1).toString();break;case"ww":p=(0,s.a3)((0,s.a8)(e,this._root.utc),2,"0");break;case"w":p=(0,s.a8)(e,this._root.utc).toString();break;case"W":p=(0,s.a7)(e,this._root.utc).toString();break;case"dd":p=(0,s.a3)(o,2,"0");break;case"d":p=o.toString();break;case"DD":case"DDD":p=(0,s.a3)((0,s.a6)(e,this._root.utc).toString(),t.parts[i].length,"0");break;case"D":p=(0,s.a6)(e,this._root.utc).toString();break;case"t":p=this._root.language.translateFunc("_dateOrd").call(this,o);break;case"E":p=(n||7).toString();break;case"EE":p=(0,s.a3)((n||7).toString(),2,"0");break;case"EEE":case"eee":p=this._t(this._getShortWeekday(n));break;case"EEEE":case"eeee":p=this._t(this._getWeekday(n));break;case"EEEEE":case"eeeee":p=this._t(this._getShortWeekday(n)).substr(0,1);break;case"e":case"ee":p=(n-(this._root.locale.firstDayOfWeek||1)+1).toString(),"ee"==t.parts[i]&&(p=(0,s.a3)(p,2,"0"));break;case"a":p=l>=12?this._t("PM"):this._t("AM");break;case"aa":p=l>=12?this._t("P.M."):this._t("A.M.");break;case"aaa":p=l>=12?this._t("P"):this._t("A");break;case"h":p=(0,s.a5)(l).toString();break;case"hh":p=(0,s.a3)((0,s.a5)(l),2,"0");break;case"H":p=l.toString();break;case"HH":p=(0,s.a3)(l,2,"0");break;case"K":p=(0,s.a5)(l,0).toString();break;case"KK":p=(0,s.a3)((0,s.a5)(l,0),2,"0");break;case"k":p=(l+1).toString();break;case"kk":p=(0,s.a3)(l+1,2,"0");break;case"m":p=h.toString();break;case"mm":p=(0,s.a3)(h,2,"0");break;case"s":p=d.toString();break;case"ss":p=(0,s.a3)(d,2,"0");break;case"S":case"SS":case"SSS":p=Math.round(u/1e3*Math.pow(10,t.parts[i].length)).toString();break;case"x":p=g.toString();break;case"n":case"nn":case"nnn":p=(0,s.a3)(u,t.parts[i].length,"0");break;case"z":p=(0,s.a4)(e,!1,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zz":p=(0,s.a4)(e,!0,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"zzz":p=(0,s.a4)(e,!1,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zzzz":p=(0,s.a4)(e,!0,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"Z":case"ZZ":let b=this._root.utc?"UTC":this._root.timezone;b instanceof m&&(b=b.name);const f=b?(0,s.a2)(b):e.getTimezoneOffset();let _=Math.abs(f)/60,y=Math.floor(_),v=60*_-60*y;this._root.utc&&(y=0,v=0),"Z"==t.parts[i]?(p="GMT",p+=f>0?"-":"+",p+=(0,s.a3)(y,2)+":"+(0,s.a3)(v,2)):(p=f>0?"-":"+",p+=(0,s.a3)(y,2)+(0,s.a3)(v,2));break;case"i":p=e.toISOString();break;case"I":p=e.toUTCString()}c=c.replace(s.Y,p)}return c}parseFormat(e){let t={template:"",parts:[]},i=s.$.chunk(e,!0);for(let e=0;e<i.length;e++){let a=i[e];if("value"===a.type){if(a.text.match(/^date$/i)){let e=this.get("dateFormat","yyyy-MM-dd");(0,s.U)(e)||(e="yyyy-MM-dd"),a.text=e}let e=a.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(e)for(let i=0;i<e.length;i++)t.parts.push(e[i]),a.text=a.text.replace(e[i],s.Y)}t.template+=a.text}return t}_months(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}_getMonth(e){return this._months()[e]}_shortMonths(){return["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}_getShortMonth(e){return this._shortMonths()[e]}_weekdays(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}_getWeekday(e){return this._weekdays()[e]}_shortWeekdays(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}_getShortWeekday(e){return this._shortWeekdays()[e]}parse(e,t){if(e instanceof Date)return e;if((0,s.k)(e))return new Date(e);if("x"==t)return new Date(parseInt(e));let i;(0,s.U)(e)||(e=e.toString());let a="";t=(t=(0,s.W)(t)).substr(0,e.length);let r=this.parseFormat(t),n={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},o={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this._root.utc},l=0,h=0;for(let e=0;e<r.parts.length;e++){switch(h=e+l+1,r.parts[e]){case"yyyy":case"YYYY":a+="([0-9]{4})",n.year=h;break;case"yyy":case"YYY":a+="([0-9]{3})",n.year3=h;break;case"yy":case"YY":a+="([0-9]{2})",n.year2=h;break;case"y":case"Y":a+="([0-9]{1})",n.year1=h;break;case"MMMM":a+="("+this.getStringList(this._months()).join("|")+")",n.monthLong=h;break;case"MMM":a+="("+this.getStringList(this._shortMonths()).join("|")+")",n.monthShort=h;break;case"MM":case"M":a+="([0-9]{2}|[0-9]{1})",n.month=h;break;case"ww":case"w":a+="([0-9]{2}|[0-9]{1})",n.week=h;break;case"dd":case"d":a+="([0-9]{2}|[0-9]{1})",n.day=h;break;case"DDD":case"DD":case"D":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",n.yearDay=h;break;case"dddd":a+="("+this.getStringList(this._weekdays()).join("|")+")",n.weekdayLong=h;break;case"ddd":a+="("+this.getStringList(this._shortWeekdays()).join("|")+")",n.weekdayShort=h;break;case"aaa":case"aa":case"a":a+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",n.am=h;break;case"hh":case"h":a+="([0-9]{2}|[0-9]{1})",n.hour12Base1=h;break;case"HH":case"H":a+="([0-9]{2}|[0-9]{1})",n.hourBase0=h;break;case"KK":case"K":a+="([0-9]{2}|[0-9]{1})",n.hour12Base0=h;break;case"kk":case"k":a+="([0-9]{2}|[0-9]{1})",n.hourBase1=h;break;case"mm":case"m":a+="([0-9]{2}|[0-9]{1})",n.minute=h;break;case"ss":case"s":a+="([0-9]{2}|[0-9]{1})",n.second=h;break;case"SSS":case"SS":case"S":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",n.millisecond=h,n.millisecondDigits=r.parts[e].length;break;case"nnn":case"nn":case"n":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",n.millisecond=h;break;case"x":a+="([0-9]{1,})",n.timestamp=h;break;case"Z":a+="GMT([-+]+[0-9]{2}:[0-9]{2})",n.zone=h;break;case"ZZ":a+="([\\-+]+[0-9]{2}[0-9]{2})",n.zone=h;break;case"i":a+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\.?([0-9]{0,3})([zZ]|[+\\-][0-9]{2}:?[0-9]{2}|$)",n.iso=h,l+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":l--}a+="[^0-9]*"}let d=new RegExp(a),u=e.match(d);if(u){if(n.year>-1&&(o.year=parseInt(u[n.year])),n.year3>-1){let e=parseInt(u[n.year3]);e+=1e3,o.year=e}if(n.year2>-1){let e=parseInt(u[n.year2]);e+=e>50?1e3:2e3,o.year=e}if(n.year1>-1){let e=parseInt(u[n.year1]);e=10*Math.floor((new Date).getFullYear()/10)+e,o.year=e}if(n.monthLong>-1&&(o.month=this.resolveMonth(u[n.monthLong])),n.monthShort>-1&&(o.month=this.resolveShortMonth(u[n.monthShort])),n.month>-1&&(o.month=parseInt(u[n.month])-1),n.week>-1&&-1===n.day&&(o.month=0,o.day=(0,s.aa)(parseInt(u[n.week]),o.year,1,this._root.utc)),n.day>-1&&(o.day=parseInt(u[n.day])),n.yearDay>-1&&(o.month=0,o.day=parseInt(u[n.yearDay])),n.hourBase0>-1&&(o.hour=parseInt(u[n.hourBase0])),n.hourBase1>-1&&(o.hour=parseInt(u[n.hourBase1])-1),n.hour12Base0>-1){let e=parseInt(u[n.hour12Base0]);11==e&&(e=0),n.am>-1&&!this.isAm(u[n.am])&&(e+=12),o.hour=e}if(n.hour12Base1>-1){let e=parseInt(u[n.hour12Base1]);12==e&&(e=0),n.am>-1&&!this.isAm(u[n.am])&&(e+=12),o.hour=e}if(n.minute>-1&&(o.minute=parseInt(u[n.minute])),n.second>-1&&(o.second=parseInt(u[n.second])),n.millisecond>-1){let e=parseInt(u[n.millisecond]);2==n.millisecondDigits?e*=10:1==n.millisecondDigits&&(e*=100),o.millisecond=e}if(n.timestamp>-1){o.timestamp=parseInt(u[n.timestamp]);const e=new Date(o.timestamp);o.year=e.getUTCFullYear(),o.month=e.getUTCMonth(),o.day=e.getUTCDate(),o.hour=e.getUTCHours(),o.minute=e.getUTCMinutes(),o.second=e.getUTCSeconds(),o.millisecond=e.getUTCMilliseconds()}n.zone>-1&&(o.offset=this.resolveTimezoneOffset(new Date(o.year,o.month,o.day),u[n.zone])),n.iso>-1&&(o.year=(0,s.ab)(u[n.iso+0]),o.month=(0,s.ab)(u[n.iso+1])-1,o.day=(0,s.ab)(u[n.iso+2]),o.hour=(0,s.ab)(u[n.iso+3]),o.minute=(0,s.ab)(u[n.iso+4]),o.second=(0,s.ab)(u[n.iso+5]),o.millisecond=(0,s.ab)(u[n.iso+6]),"Z"==u[n.iso+7]||"z"==u[n.iso+7]?o.utc=!0:""!=u[n.iso+7]&&(o.offset=this.resolveTimezoneOffset(new Date(o.year,o.month,o.day),u[n.iso+7]))),i=o.utc?new Date(Date.UTC(o.year,o.month,o.day,o.hour,o.minute,o.second,o.millisecond)):new Date(o.year,o.month,o.day,o.hour,o.minute+o.offset,o.second,o.millisecond)}else i=new Date(e);return i}resolveTimezoneOffset(e,t){if(t.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)){let i=t.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/),s=i[1],a=i[2],r=i[3],n=60*parseInt(a)+parseInt(r);return"+"==s&&(n*=-1),n-(e||new Date).getTimezoneOffset()}return 0}resolveMonth(e){let t=this._months().indexOf(e);return t>-1||!this._root.language.isDefault()&&(t=this._root.language.translateAll(this._months()).indexOf(e),t>-1)?t:0}resolveShortMonth(e){let t=this._shortMonths().indexOf(e);return t>-1?t:(t=this._months().indexOf(e),t>-1||this._root.language&&!this._root.language.isDefault()&&(t=this._root.language.translateAll(this._shortMonths()).indexOf(e),t>-1)?t:0)}isAm(e){return this.getStringList(["AM","A.M.","A"]).indexOf(e.toUpperCase())>-1}getStringList(e){let t=[];for(let i=0;i<e.length;i++)this._root.language?t.push((0,s.ac)(this._t(e[i]))):t.push((0,s.ac)(e[i]));return t}}class f extends s.E{constructor(){super(...arguments),Object.defineProperty(this,"_unitAliases",{enumerable:!0,configurable:!0,writable:!0,value:{Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"}})}_setDefaults(){const e="_duration_millisecond",t="_duration_second",i="_duration_minute",s="_duration_hour",a="_duration_day",r="_duration_week",n="_duration_month",o="_minute",l="_hour",h="_day",d="_week",u="_week",c="_year";this._setDefault("negativeBase",0),this._setDefault("baseUnit","second"),this._setDefault("durationFormats",{millisecond:{millisecond:this._t(e),second:this._t(e+"_second"),minute:this._t(e+o),hour:this._t(e+l),day:this._t(e+h),week:this._t(e+d),month:this._t(e+u),year:this._t(e+c)},second:{second:this._t(t),minute:this._t(t+o),hour:this._t(t+l),day:this._t(t+h),week:this._t(t+d),month:this._t(t+u),year:this._t(t+c)},minute:{minute:this._t(i),hour:this._t(i+l),day:this._t(i+h),week:this._t(i+d),month:this._t(i+u),year:this._t(i+c)},hour:{hour:this._t(s),day:this._t(s+h),week:this._t(s+d),month:this._t(s+u),year:this._t(s+c)},day:{day:this._t(a),week:this._t(a+d),month:this._t(a+u),year:this._t(a+c)},week:{week:this._t(r),month:this._t(r+u),year:this._t(r+c)},month:{month:this._t(n),year:this._t(n+c)},year:{year:this._t("_duration_year")}}),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,t,i){let a=i||this.get("baseUnit");void 0!==t&&""!==t||(t=null!=this.get("durationFormat")?this.get("durationFormat"):this.getFormat((0,s.ab)(e),void 0,a)),t=(0,s.W)(t);let r,n=this.parseFormat(t,a),o=Number(e);r=o>this.get("negativeBase")?n.positive:o<this.get("negativeBase")?n.negative:n.zero;let l=this.applyFormat(o,r);return""!==r.color&&(l="["+r.color+"]"+l+"[/]"),l}parseFormat(e,t){let i=t||this.get("baseUnit"),a={positive:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1}},r=(e=e.replace("||",s.Z)).split("|");return a.positive.source=r[0],void 0===r[2]?a.zero=a.positive:a.zero.source=r[2],void 0===r[1]?a.negative=a.positive:a.negative.source=r[1],(0,s._)(a,((e,t)=>{if(t.parsed)return;let i=t.source,a=[];a=t.source.match(/^\[([^\]]*)\]/),a&&a.length&&""!==a[0]&&(i=t.source.substr(a[0].length),t.color=a[1]);let r=s.$.chunk(i,!0);for(let e=0;e<r.length;e++){let i=r[e];if(i.text=i.text.replace(s.Z,"|"),"value"===i.type){i.text.match(/[yYMdDwhHKkmsSn]+a/)&&(t.absolute=!0,i.text=i.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));let e=i.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(e)for(let a=0;a<e.length;a++)null==e[a]&&(e[a]=this._unitAliases[e[a]]),t.parts.push(e[a]),i.text=i.text.replace(e[a],s.Y)}t.template+=i.text}t.parsed=!0})),a}applyFormat(e,t){let i=!t.absolute&&e<this.get("negativeBase");e=Math.abs(e);let a=this.toTimeStamp(e,t.baseUnit),r=t.template;for(let e=0,i=t.parts.length;e<i;e++){let n,o=t.parts[e],l=this._toTimeUnit(o.substr(0,1)),h=o.length;const d=this._getUnitValue(l);n=e<i-1?Math.floor(a/d):Math.round(a/d),r=r.replace(s.Y,(0,s.a3)(n,h,"0")),a-=n*d}return i&&(r="-"+r),r}toTimeStamp(e,t){return e*this._getUnitValue(t)}_toTimeUnit(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}}getFormat(e,t,i){if(null!=this.get("durationFormat"))return this.get("durationFormat");if(i||(i=this.get("baseUnit")),null!=t&&e!=t){e=Math.abs(e),t=Math.abs(t);let s=this.getValueUnit(Math.max(e,t),i);return this.get("durationFormats")[i][s]}{let t=this.getValueUnit(e,i);return this.get("durationFormats")[i][t]}}getValueUnit(e,t){let i;t||(t=this.get("baseUnit"));let a=this.getMilliseconds(e,t);return(0,s.ad)(this._getUnitValues(),((e,s)=>{if(e==t||i){if(a/s<=1)return i||(i=e),!1;i=e}return!0})),i}getMilliseconds(e,t){return t||(t=this.get("baseUnit")),e*this._getUnitValue(t)}_getUnitValue(e){return this._getUnitValues()[e]}_getUnitValues(){return{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}}}const _={firstDayOfWeek:1,_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"μ",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - MMM dd, yyyy",_date_hour:"HH:mm",_date_hour_full:"HH:mm - MMM dd, yyyy",_date_day:"MMM dd",_date_day_full:"MMM dd, yyyy",_date_week:"ww",_date_week_full:"MMM dd, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(e){let t="th";if(e<11||e>13)switch(e%10){case 1:t="st";break;case 2:t="nd";break;case 3:t="rd"}return t},"Zoom Out":"",Play:"",Stop:"",Legend:"","Press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Press ENTER to open":"","Press ENTER to print.":"","Press ENTER to export as %1.":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""};class y extends s.E{_setDefaults(){this.setPrivate("defaultLocale",_),super._setDefaults()}translate(e,t,...i){t||(t=this._root.locale||this.getPrivate("defaultLocale"));let s=e,a=t[e];if(null===a)s="";else if(null!=a)a&&(s=a);else if(t!==this.getPrivate("defaultLocale"))return this.translate(e,this.getPrivate("defaultLocale"),...i);if(i.length)for(let e=i.length,t=0;t<e;++t)s=s.split("%"+(t+1)).join(i[t]);return s}translateAny(e,t,...i){return this.translate(e,t,...i)}setTranslationAny(e,t,i){(i||this._root.locale)[e]=t}setTranslationsAny(e,t){(0,s._)(e,((e,i)=>{this.setTranslationAny(e,i,t)}))}translateEmpty(e,t,...i){let s=this.translate(e,t,...i);return s==e?"":s}translateFunc(e,t){return this._root.locale[e]?this._root.locale[e]:t!==this.getPrivate("defaultLocale")?this.translateFunc(e,this.getPrivate("defaultLocale")):()=>""}translateAll(e,t){return this.isDefault()?e:(0,s.K)(e,(e=>this.translate(e,t)))}isDefault(){return this.getPrivate("defaultLocale")===this._root.locale}}class v{constructor(e=1,t=0,i=0,s=1,a=0,r=0){Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"c",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"d",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.a=e,this.b=t,this.c=i,this.d=s,this.tx=a,this.ty=r}setTransform(e,t,i,s,a,r=1){this.a=Math.cos(a)*r,this.b=Math.sin(a)*r,this.c=-Math.sin(a)*r,this.d=Math.cos(a)*r,this.tx=e-(i*this.a+s*this.c),this.ty=t-(i*this.b+s*this.d)}apply(e){return{x:this.a*e.x+this.c*e.y+this.tx,y:this.b*e.x+this.d*e.y+this.ty}}applyInverse(e){const t=1/(this.a*this.d+this.c*-this.b);return{x:this.d*t*e.x+-this.c*t*e.y+(this.ty*this.c-this.tx*this.d)*t,y:this.a*t*e.y+-this.b*t*e.x+(-this.ty*this.a+this.tx*this.b)*t}}append(e){const t=this.a,i=this.b,s=this.c,a=this.d;this.a=e.a*t+e.b*s,this.b=e.a*i+e.b*a,this.c=e.c*t+e.d*s,this.d=e.c*i+e.d*a,this.tx=e.tx*t+e.ty*s+this.tx,this.ty=e.tx*i+e.ty*a+this.ty}prepend(e){const t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){const t=this.a,i=this.c;this.a=t*e.a+this.b*e.c,this.b=t*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty}copyFrom(e){this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty}}var x=2*Math.PI,w=function(e,t,i,s,a,r,n){var o=e.x,l=e.y;return{x:s*(o*=t)-a*(l*=i)+r,y:a*o+s*l+n}},P=function(e,t){var i=1.5707963267948966===t?.551915024494:-1.5707963267948966===t?-.551915024494:4/3*Math.tan(t/4),s=Math.cos(e),a=Math.sin(e),r=Math.cos(e+t),n=Math.sin(e+t);return[{x:s-a*i,y:a+s*i},{x:r+n*i,y:n-r*i},{x:r,y:n}]},k=function(e,t,i,s){var a=e*i+t*s;return a>1&&(a=1),a<-1&&(a=-1),(e*s-t*i<0?-1:1)*Math.acos(a)},T=function(e){var t=e.px,i=e.py,s=e.cx,a=e.cy,r=e.rx,n=e.ry,o=e.xAxisRotation,l=void 0===o?0:o,h=e.largeArcFlag,d=void 0===h?0:h,u=e.sweepFlag,c=void 0===u?0:u,g=[];if(0===r||0===n)return[];var p=Math.sin(l*x/360),m=Math.cos(l*x/360),b=m*(t-s)/2+p*(i-a)/2,f=-p*(t-s)/2+m*(i-a)/2;if(0===b&&0===f)return[];r=Math.abs(r),n=Math.abs(n);var _=Math.pow(b,2)/Math.pow(r,2)+Math.pow(f,2)/Math.pow(n,2);_>1&&(r*=Math.sqrt(_),n*=Math.sqrt(_));var y=function(e,t,i,s,a,r,n,o,l,h,d,u){var c=Math.pow(a,2),g=Math.pow(r,2),p=Math.pow(d,2),m=Math.pow(u,2),b=c*g-c*m-g*p;b<0&&(b=0),b/=c*m+g*p;var f=(b=Math.sqrt(b)*(n===o?-1:1))*a/r*u,_=b*-r/a*d,y=h*f-l*_+(e+i)/2,v=l*f+h*_+(t+s)/2,w=(d-f)/a,P=(u-_)/r,T=(-d-f)/a,D=(-u-_)/r,M=k(1,0,w,P),A=k(w,P,T,D);return 0===o&&A>0&&(A-=x),1===o&&A<0&&(A+=x),[y,v,M,A]}(t,i,s,a,r,n,d,c,p,m,b,f),v=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],s=!0,a=!1,r=void 0;try{for(var n,o=e[Symbol.iterator]();!(s=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{!s&&o.return&&o.return()}finally{if(a)throw r}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(y,4),T=v[0],D=v[1],M=v[2],A=v[3],C=Math.abs(A)/(x/4);Math.abs(1-C)<1e-7&&(C=1);var O=Math.max(Math.ceil(C),1);A/=O;for(var S=0;S<O;S++)g.push(P(M,A)),M+=A;return g.map((function(e){var t=w(e[0],r,n,m,p,T,D),i=t.x,s=t.y,a=w(e[1],r,n,m,p,T,D),o=a.x,l=a.y,h=w(e[2],r,n,m,p,T,D);return{x1:i,y1:s,x2:o,y2:l,x:h.x,y:h.y}}))};function D(e,t,i){if(t!==i)throw new Error("Required "+i+" arguments for "+e+" but got "+t)}function M(e,t,i){if(t<i)throw new Error("Required at least "+i+" arguments for "+e+" but got "+t)}function A(e,t,i){if(M(e,t,i),t%i!=0)throw new Error("Arguments for "+e+" must be in pairs of "+i)}function C(e){for(let t=0;t<e.length;t+=7){let i=t+3,s=e[i];if(s.length>1){const t=/^([01])([01])(.*)$/.exec(s);null!==t&&(e.splice(i,0,t[1]),++i,e.splice(i,0,t[2]),++i,t[3].length>0?e[i]=t[3]:e.splice(i,1))}if(++i,s=e[i],s.length>1){const t=/^([01])(.+)$/.exec(s);null!==t&&(e.splice(i,0,t[1]),++i,e[i]=t[2])}}}function O(e){if(0===e||1===e)return e;throw new Error("Flag must be 0 or 1")}function S(e,t){for(;(!e.interactive||t(e))&&e._parent;)e=e._parent}function L(e,t,i){return(0,s.h)(e,(0,s.ak)(t),(e=>{const t=(0,s.al)(e);let a=e.touches;a?(0==a.length&&(a=e.changedTouches),i((0,s.an)(a),t)):i([e],t)}))}function R(e){const t=document.createElement("canvas");t.width=1,t.height=1;const i=t.getContext("2d",{willReadFrequently:!0});i.drawImage(e,0,0,1,1);try{return i.getImageData(0,0,1,1),!1}catch(t){return console.warn('Image "'+e.src+'" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors'),!0}}function j(e){e.width=0,e.height=0,e.style.width="0px",e.style.height="0px"}function I(e){return Math.floor(e)+.5}class B{constructor(){Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0})}get x(){return this._x}get y(){return this._y}set x(e){this._x=e}set y(e){this._y=e}}class E extends s.au{constructor(e){super(),Object.defineProperty(this,"_layer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mask",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"interactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inactive",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"wheelable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"cancelTouch",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isMeasured",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"buttonMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"alpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"compoundAlpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"angle",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"crisp",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"pivot",{enumerable:!0,configurable:!0,writable:!0,value:new B}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cursorOverStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_replacedCursorStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new v}),Object.defineProperty(this,"_matrix",{enumerable:!0,configurable:!0,writable:!0,value:new v}),Object.defineProperty(this,"_uMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new v}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._renderer=e}subStatus(e){return{inactive:null==this.inactive?e.inactive:this.inactive,layer:this._layer||e.layer}}_dispose(){this._renderer._removeObject(this),this.getLayer().dirty=!0}getCanvas(){return this.getLayer().view}getLayer(){let e=this;for(;;){if(e._layer)return e._layer;if(!e._parent)return this._renderer.defaultLayer;e=e._parent}}setLayer(e,t){if(null==e)this._layer=void 0;else{const i=!0;this._layer=this._renderer.getLayer(e,i),this._layer.visible=i,this._layer.margin=t,t&&(0,s.av)(this._layer.view,!1),this._renderer._ghostLayer.setMargin(this._renderer.layers),this._parent&&this._parent.registerChildLayer(this._layer),this._layer.dirty=!0,this._renderer.resizeLayer(this._layer),this._renderer.resizeGhost()}}markDirtyLayer(){this.getLayer().dirty=!0}clear(){this.invalidateBounds()}invalidateBounds(){this._localBounds=void 0}_addBounds(e){}_getColorId(){return void 0===this._colorId&&(this._colorId=this._renderer.paintId(this)),this._colorId}_isInteractive(e){return!e.inactive&&(this.interactive||this._renderer._forceInteractive>0)}_isInteractiveMask(e){return this._isInteractive(e)}contains(e){for(;;){if(e===this)return!0;if(!e._parent)return!1;e=e._parent}}toGlobal(e){return this._matrix.apply(e)}toLocal(e){return this._matrix.applyInverse(e)}getLocalMatrix(){return this._uMatrix.setTransform(0,0,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._uMatrix}getLocalBounds(){if(!this._localBounds){const e=1e7;this._localBounds={left:e,top:e,right:-e,bottom:-e},this._addBounds(this._localBounds)}return this._localBounds}getAdjustedBounds(e){this._setMatrix();const t=this.getLocalMatrix(),i=t.apply({x:e.left,y:e.top}),s=t.apply({x:e.right,y:e.top}),a=t.apply({x:e.right,y:e.bottom}),r=t.apply({x:e.left,y:e.bottom});return{left:Math.min(i.x,s.x,a.x,r.x),top:Math.min(i.y,s.y,a.y,r.y),right:Math.max(i.x,s.x,a.x,r.x),bottom:Math.max(i.y,s.y,a.y,r.y)}}on(e,t,i){return this.interactive?this._renderer._addEvent(this,e,t,i):new s.af((()=>{}))}_setMatrix(){this._localMatrix.setTransform(this.x,this.y,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._matrix.copyFrom(this._localMatrix),this._parent&&this._matrix.prepend(this._parent._matrix)}_transform(e,t){const i=this._matrix;let s=i.tx*t,a=i.ty*t;this.crisp&&(s=I(s),a=I(a)),e.setTransform(i.a*t,i.b*t,i.c*t,i.d*t,s,a)}_transformMargin(e,t,i){const s=this._matrix;e.setTransform(s.a*t,s.b*t,s.c*t,s.d*t,(s.tx+i.left)*t,(s.ty+i.top)*t)}_transformLayer(e,t,i){i.margin?this._transformMargin(e,i.scale||t,i.margin):this._transform(e,i.scale||t)}render(e){if(this.visible&&(!1!==this.exportable||!this._renderer._omitTainted)){this._setMatrix();const t=this.subStatus(e),i=this._renderer.resolution,a=this._renderer.layers,r=this._renderer._ghostLayer,n=r.context,o=this.mask;o&&o._setMatrix(),(0,s.i)(a,(e=>{if(e){const t=e.context;t.save(),o&&(o._transformLayer(t,i,e),o._runPath(t),t.clip()),t.globalAlpha=this.compoundAlpha*this.alpha,this._transformLayer(t,i,e),this.filter&&(t.filter=this.filter)}})),n.save(),o&&this._isInteractiveMask(t)&&(o._transformMargin(n,i,r.margin),o._runPath(n),n.clip()),this._transformMargin(n,i,r.margin),this._render(t),n.restore(),(0,s.i)(a,(e=>{e&&e.context.restore()}))}}_render(e){!1===this.exportable&&(e.layer.tainted=!0)}hovering(){return this._renderer._hovering.has(this)}dragging(){return this._renderer._dragging.some((e=>e.value===this))}shouldCancelTouch(){const e=this._renderer;return!(e.tapToActivate&&!e._touchActive)&&(!!this.cancelTouch||!!this._parent&&this._parent.shouldCancelTouch())}}class X extends E{constructor(){super(...arguments),Object.defineProperty(this,"interactiveChildren",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_childLayers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_children",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_isInteractiveMask(e){return this.interactiveChildren||super._isInteractiveMask(e)}addChild(e){e._parent=this,this._children.push(e),e._layer&&this.registerChildLayer(e._layer)}addChildAt(e,t){e._parent=this,this._children.splice(t,0,e),e._layer&&this.registerChildLayer(e._layer)}removeChild(e){e._parent=void 0,(0,s.am)(this._children,e)}_render(e){super._render(e);const t=this._renderer;this.interactive&&this.interactiveChildren&&++t._forceInteractive,(0,s.i)(this._children,(t=>{t.compoundAlpha=this.compoundAlpha*this.alpha,t.render(e)})),this.interactive&&this.interactiveChildren&&--t._forceInteractive}registerChildLayer(e){this._childLayers||(this._childLayers=[]),(0,s.ao)(this._childLayers,e),this._parent&&this._parent.registerChildLayer(e)}markDirtyLayer(e=!1){super.markDirtyLayer(),e&&this._childLayers&&(0,s.i)(this._childLayers,(e=>e.dirty=!0))}_dispose(){super._dispose(),this._childLayers&&(0,s.i)(this._childLayers,(e=>{e.dirty=!0}))}}function F(e,t){e.left=Math.min(e.left,t.x),e.top=Math.min(e.top,t.y),e.right=Math.max(e.right,t.x),e.bottom=Math.max(e.bottom,t.y)}class Y{colorize(e,t){}colorizeGhost(e,t){this.colorize(e,t)}path(e){}pathGhost(e){this.path(e)}addBounds(e){}}class z extends Y{colorize(e,t){e.beginPath()}}class H extends Y{constructor(e){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,t){e.fillStyle=void 0!==t?t:this.color}}class V extends Y{constructor(e){super(),Object.defineProperty(this,"clearShadow",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,t){e.fill(),this.clearShadow&&(e.shadowColor="",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}}class G extends Y{colorize(e,t){e.stroke()}}class N extends Y{constructor(e,t,i){super(),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"lineJoin",{enumerable:!0,configurable:!0,writable:!0,value:i})}colorize(e,t){e.strokeStyle=void 0!==t?t:this.color,e.lineWidth=this.width,this.lineJoin&&(e.lineJoin=this.lineJoin)}}class U extends Y{constructor(e){super(),Object.defineProperty(this,"dash",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,t){e.setLineDash(this.dash)}}class W extends Y{constructor(e){super(),Object.defineProperty(this,"dashOffset",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,t){e.lineDashOffset=this.dashOffset}}class Z extends Y{constructor(e,t,i,s){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:s})}path(e){e.rect(this.x,this.y,this.width,this.height)}addBounds(e){const t=this.x,i=this.y,s=t+this.width,a=i+this.height;F(e,{x:t,y:i}),F(e,{x:s,y:i}),F(e,{x:t,y:a}),F(e,{x:s,y:a})}}class $ extends Y{constructor(e,t,i){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:i})}path(e){e.moveTo(this.x+this.radius,this.y),e.arc(this.x,this.y,this.radius,0,2*Math.PI)}addBounds(e){F(e,{x:this.x-this.radius,y:this.y-this.radius}),F(e,{x:this.x+this.radius,y:this.y+this.radius})}}class q extends Y{constructor(e,t,i,s){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"radiusX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"radiusY",{enumerable:!0,configurable:!0,writable:!0,value:s})}path(e){e.ellipse(0,0,this.radiusX,this.radiusY,0,0,2*Math.PI)}addBounds(e){F(e,{x:this.x-this.radiusX,y:this.y-this.radiusY}),F(e,{x:this.x+this.radiusX,y:this.y+this.radiusY})}}class K extends Y{constructor(e,t,i,s,a,r){super(),Object.defineProperty(this,"cx",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cy",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"endAngle",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"anticlockwise",{enumerable:!0,configurable:!0,writable:!0,value:r})}path(e){this.radius>0&&e.arc(this.cx,this.cy,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}addBounds(e){let t=(0,s.B)(this.cx,this.cy,this.startAngle*s.aw,this.endAngle*s.aw,this.radius);F(e,{x:t.left,y:t.top}),F(e,{x:t.right,y:t.bottom})}}class J extends Y{constructor(e,t,i,s,a){super(),Object.defineProperty(this,"x1",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y1",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"x2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"y2",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:a})}path(e){this.radius>0&&e.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)}addBounds(e){}}class Q extends Y{constructor(e,t){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t})}path(e){e.lineTo(this.x,this.y)}addBounds(e){F(e,{x:this.x,y:this.y})}}class ee extends Y{constructor(e,t){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t})}path(e){e.moveTo(this.x,this.y)}addBounds(e){F(e,{x:this.x,y:this.y})}}class te extends Y{path(e){e.closePath()}}class ie extends Y{constructor(e,t,i,s,a,r){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"cpX2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"cpY2",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:r})}path(e){e.bezierCurveTo(this.cpX,this.cpY,this.cpX2,this.cpY2,this.toX,this.toY)}addBounds(e){F(e,{x:this.cpX,y:this.cpY}),F(e,{x:this.cpX2,y:this.cpY2}),F(e,{x:this.toX,y:this.toY})}}class se extends Y{constructor(e,t,i,s){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:s})}path(e){e.quadraticCurveTo(this.cpX,this.cpY,this.toX,this.toY)}addBounds(e){F(e,{x:this.cpX,y:this.cpY}),F(e,{x:this.toX,y:this.toY})}}class ae extends Y{constructor(e,t,i,s,a){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"blur",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"offsetX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"offsetY",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"opacity",{enumerable:!0,configurable:!0,writable:!0,value:a})}colorize(e,t){this.opacity&&(e.fillStyle=this.color),e.shadowColor=this.color,e.shadowBlur=this.blur,e.shadowOffsetX=this.offsetX,e.shadowOffsetY=this.offsetY}colorizeGhost(e,t){}}class re extends Y{constructor(e,t,i,s,a){super(),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:a})}path(e){e.drawImage(this.image,this.x,this.y,this.width,this.height)}addBounds(e){F(e,{x:this.x,y:this.y}),F(e,{x:this.width,y:this.height})}}class ne extends E{constructor(){super(...arguments),Object.defineProperty(this,"_operations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"blendMode",{enumerable:!0,configurable:!0,writable:!0,value:s.ap.NORMAL}),Object.defineProperty(this,"_hasShadows",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_fillAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}clear(){super.clear(),this._operations.length=0}_pushOp(e){this._operations.push(e)}beginFill(e,t=1){this._fillAlpha=t,e?e instanceof s.C?this._pushOp(new H(e.toCSS(t))):(this.isMeasured=!0,this._pushOp(new H(e))):this._pushOp(new H("rgba(0, 0, 0, "+t+")"))}endFill(){this._pushOp(new V(this._hasShadows))}endStroke(){this._pushOp(new G)}beginPath(){this._pushOp(new z)}lineStyle(e=0,t,i=1,a){this._strokeAlpha=i,t?t instanceof s.C?this._pushOp(new N(e,t.toCSS(i),a)):this._pushOp(new N(e,t,a)):this._pushOp(new N(e,"rgba(0, 0, 0, "+i+")",a))}setLineDash(e){this._pushOp(new U(e||[]))}setLineDashOffset(e=0){this._pushOp(new W(e))}drawRect(e,t,i,s){this._pushOp(new Z(e,t,i,s))}drawCircle(e,t,i){this._pushOp(new $(e,t,i))}drawEllipse(e,t,i,s){this._pushOp(new q(e,t,i,s))}arc(e,t,i,s,a,r=!1){this._pushOp(new K(e,t,i,s,a,r))}arcTo(e,t,i,s,a){this._pushOp(new J(e,t,i,s,a))}lineTo(e,t){this._pushOp(new Q(e,t))}moveTo(e,t){this._pushOp(new ee(e,t))}bezierCurveTo(e,t,i,s,a,r){this._pushOp(new ie(e,t,i,s,a,r))}quadraticCurveTo(e,t,i,s){this._pushOp(new se(e,t,i,s))}closePath(){this._pushOp(new te)}shadow(e,t=0,i=0,s=0,a){this._hasShadows=!0,this._pushOp(new ae(a?e.toCSS(a):e.toCSS(this._fillAlpha||this._strokeAlpha),t,i,s))}image(e,t,i,s,a){this._pushOp(new re(e,t,i,s,a))}svgPath(e){let t=0,i=0,a=null,r=null,n=null,o=null;const l=/([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g,h=/[\u0009\u0020\u000A\u000C\u000D]*([\+\-]?[0-9]*\.?[0-9]+(?:[eE][\+\-]?[0-9]+)?)[\u0009\u0020\u000A\u000C\u000D]*,?/g;let d;for(;null!==(d=l.exec(e));){const e=d[1],l=d[2],u=[];for(;null!==(d=h.exec(l));)u.push(d[1]);switch("S"!==e&&"s"!==e&&"C"!==e&&"c"!==e&&(a=null,r=null),"Q"!==e&&"q"!==e&&"T"!==e&&"t"!==e&&(n=null,o=null),e){case"M":A(e,u.length,2),t=+u[0],i=+u[1],this.moveTo(t,i);for(let e=2;e<u.length;e+=2)t=+u[e],i=+u[e+1],this.lineTo(t,i);break;case"m":A(e,u.length,2),t+=+u[0],i+=+u[1],this.moveTo(t,i);for(let e=2;e<u.length;e+=2)t+=+u[e],i+=+u[e+1],this.lineTo(t,i);break;case"L":A(e,u.length,2);for(let e=0;e<u.length;e+=2)t=+u[e],i=+u[e+1],this.lineTo(t,i);break;case"l":A(e,u.length,2);for(let e=0;e<u.length;e+=2)t+=+u[e],i+=+u[e+1],this.lineTo(t,i);break;case"H":M(e,u.length,1);for(let e=0;e<u.length;++e)t=+u[e],this.lineTo(t,i);break;case"h":M(e,u.length,1);for(let e=0;e<u.length;++e)t+=+u[e],this.lineTo(t,i);break;case"V":M(e,u.length,1);for(let e=0;e<u.length;++e)i=+u[e],this.lineTo(t,i);break;case"v":M(e,u.length,1);for(let e=0;e<u.length;++e)i+=+u[e],this.lineTo(t,i);break;case"C":A(e,u.length,6);for(let e=0;e<u.length;e+=6){const s=+u[e],n=+u[e+1];a=+u[e+2],r=+u[e+3],t=+u[e+4],i=+u[e+5],this.bezierCurveTo(s,n,a,r,t,i)}break;case"c":A(e,u.length,6);for(let e=0;e<u.length;e+=6){const s=+u[e]+t,n=+u[e+1]+i;a=+u[e+2]+t,r=+u[e+3]+i,t+=+u[e+4],i+=+u[e+5],this.bezierCurveTo(s,n,a,r,t,i)}break;case"S":A(e,u.length,4),null!==a&&null!==r||(a=t,r=i);for(let e=0;e<u.length;e+=4){const s=2*t-a,n=2*i-r;a=+u[e],r=+u[e+1],t=+u[e+2],i=+u[e+3],this.bezierCurveTo(s,n,a,r,t,i)}break;case"s":A(e,u.length,4),null!==a&&null!==r||(a=t,r=i);for(let e=0;e<u.length;e+=4){const s=2*t-a,n=2*i-r;a=+u[e]+t,r=+u[e+1]+i,t+=+u[e+2],i+=+u[e+3],this.bezierCurveTo(s,n,a,r,t,i)}break;case"Q":A(e,u.length,4);for(let e=0;e<u.length;e+=4)n=+u[e],o=+u[e+1],t=+u[e+2],i=+u[e+3],this.quadraticCurveTo(n,o,t,i);break;case"q":A(e,u.length,4);for(let e=0;e<u.length;e+=4)n=+u[e]+t,o=+u[e+1]+i,t+=+u[e+2],i+=+u[e+3],this.quadraticCurveTo(n,o,t,i);break;case"T":A(e,u.length,2),null!==n&&null!==o||(n=t,o=i);for(let e=0;e<u.length;e+=2)n=2*t-n,o=2*i-o,t=+u[e],i=+u[e+1],this.quadraticCurveTo(n,o,t,i);break;case"t":A(e,u.length,2),null!==n&&null!==o||(n=t,o=i);for(let e=0;e<u.length;e+=2)n=2*t-n,o=2*i-o,t+=+u[e],i+=+u[e+1],this.quadraticCurveTo(n,o,t,i);break;case"A":case"a":const l="a"===e;C(u),A(e,u.length,7);for(let e=0;e<u.length;e+=7){let a=+u[e+5],r=+u[e+6];l&&(a+=t,r+=i);const n=T({px:t,py:i,rx:+u[e],ry:+u[e+1],xAxisRotation:+u[e+2],largeArcFlag:O(+u[e+3]),sweepFlag:O(+u[e+4]),cx:a,cy:r});(0,s.i)(n,(e=>{this.bezierCurveTo(e.x1,e.y1,e.x2,e.y2,e.x,e.y),t=e.x,i=e.y}))}break;case"Z":case"z":D(e,u.length,0),this.closePath()}}}_runPath(e){e.beginPath(),(0,s.i)(this._operations,(t=>{t.path(e)}))}_render(e){super._render(e);const t=e.layer.dirty,i=this._isInteractive(e);if(t||i){const a=e.layer.context,r=this._renderer._ghostLayer.context;let n;t&&(a.globalCompositeOperation=this.blendMode,a.beginPath()),i&&(r.beginPath(),n=this._getColorId()),(0,s.i)(this._operations,(e=>{t&&(e.path(a),e.colorize(a,void 0)),i&&(e.pathGhost(r),e.colorizeGhost(r,n))}))}}renderDetached(e){if(this.visible){this._setMatrix(),e.save();const t=this.mask;t&&(t._setMatrix(),t._transform(e,1),t._runPath(e),e.clip()),e.globalAlpha=this.compoundAlpha*this.alpha,this._transform(e,1),this.filter&&(e.filter=this.filter),e.globalCompositeOperation=this.blendMode,e.beginPath(),(0,s.i)(this._operations,(t=>{t.path(e),t.colorize(e,void 0)})),e.restore()}}_addBounds(e){this.visible&&this.isMeasured&&(0,s.i)(this._operations,(t=>{t.addBounds(e)}))}}class oe extends E{constructor(e,t,i){super(e),Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"textVisible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_textInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:1}),this.text=t,this.style=i}invalidateBounds(){super.invalidateBounds(),this._textInfo=void 0}_shared(e){this.style.textAlign&&(e.textAlign=this.style.textAlign),this.style.direction&&(e.direction=this.style.direction),this.style.textBaseline&&(e.textBaseline=this.style.textBaseline)}_prerender(e,t=!1,i=!1){super._render(e);const a=e.layer.context,r=this._renderer._ghostLayer.context,n=this.style;let o=this._getFontStyle(void 0,i);a.font=o,this._isInteractive(e)&&!t&&(r.font=o),n.fill&&(n.fill instanceof s.C?a.fillStyle=n.fill.toCSS(null!=n.fillOpacity?n.fillOpacity:1):a.fillStyle=n.fill),n.shadowColor&&(e.layer.context.shadowColor=n.shadowColor.toCSS(n.shadowOpacity||1)),n.shadowBlur&&(e.layer.context.shadowBlur=n.shadowBlur),n.shadowOffsetX&&(e.layer.context.shadowOffsetX=n.shadowOffsetX),n.shadowOffsetY&&(e.layer.context.shadowOffsetY=n.shadowOffsetY),this._shared(a),this._isInteractive(e)&&!t&&(r.fillStyle=this._getColorId(),this._shared(r))}_getFontStyle(e,t=!1){const i=this.style;let a=[];return e&&e.fontVariant?a.push(e.fontVariant):i.fontVariant&&a.push(i.fontVariant),t||(e&&e.fontWeight?a.push(e.fontWeight):i.fontWeight&&a.push(i.fontWeight)),e&&e.fontStyle?a.push(e.fontStyle):i.fontStyle&&a.push(i.fontStyle),e&&e.fontSize?((0,s.k)(e.fontSize)&&(e.fontSize=e.fontSize+"px"),a.push(e.fontSize)):i.fontSize&&((0,s.k)(i.fontSize)&&(i.fontSize=i.fontSize+"px"),a.push(i.fontSize)),e&&e.fontFamily?a.push(e.fontFamily):i.fontFamily?a.push(i.fontFamily):a.length&&a.push("Arial"),a.join(" ")}_render(e){if(this._textInfo||this._measure(e),this.textVisible){const t=this._isInteractive(e),i=e.layer.context,a=e.layer.dirty,r=this._renderer._ghostLayer.context;i.save(),r.save(),this._prerender(e),(0,s.i)(this._textInfo,((n,o)=>{(0,s.i)(n.textChunks,((o,l)=>{if(o.style&&(i.save(),r.save(),i.font=o.style,this._isInteractive(e)&&(r.font=o.style)),o.fill&&(i.save(),i.fillStyle=o.fill.toCSS()),a&&i.fillText(o.text,o.offsetX,n.offsetY+o.offsetY),"underline"==o.textDecoration||"line-through"==o.textDecoration){let e=1,t=1,a=o.height;const r=this.style.oversizedBehavior||"";if(["truncate","wrap","wrap-no-break"].indexOf(r)>-1){const e=this._measureText(o.text,i);o.width=e.actualBoundingBoxLeft+e.actualBoundingBoxRight}let l,h=o.offsetX;switch(this.style.textAlign){case"right":case"end":h-=o.width;break;case"center":h-=o.width/2}if(o.style)switch(s.$.getTextStyle(o.style).fontWeight){case"bolder":case"bold":case"700":case"800":case"900":e=2}a&&(t=a/20),l="line-through"==o.textDecoration?e+n.offsetY+o.offsetY-o.height/2:e+1.5*t+n.offsetY+o.offsetY,i.save(),i.beginPath(),o.fill?i.strokeStyle=o.fill.toCSS():this.style.fill&&this.style.fill instanceof s.C&&(i.strokeStyle=this.style.fill.toCSS()),i.lineWidth=e*t,i.moveTo(h,l),i.lineTo(h+o.width,l),i.stroke(),i.restore()}t&&this.interactive&&r.fillText(o.text,o.offsetX,n.offsetY+o.offsetY),o.fill&&i.restore(),o.style&&(i.restore(),r.restore())}))})),i.restore(),r.restore()}}_addBounds(e){if(this.visible&&this.isMeasured){const t=this._measure({inactive:this.inactive,layer:this.getLayer()});F(e,{x:t.left,y:t.top}),F(e,{x:t.right,y:t.bottom})}}_ignoreFontWeight(){return/apple/i.test(navigator.vendor)}_measure(e){const t=e.layer.context,i=this._renderer._ghostLayer.context,a="rtl"==this.style.direction;this._textInfo=[];const r=this.style.oversizedBehavior,n=this.style.maxWidth,o=(0,s.k)(n)&&"truncate"==r,l=(0,s.k)(n)&&("wrap"==r||"wrap-no-break"==r);t.save(),i.save(),this._prerender(e,!0,this._ignoreFontWeight());const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",d=this.text.toString().replace(/\r/g,"").split(/\n/);let u,c=!0,g=0,p=0,m=0;(0,s.i)(d,((e,a)=>{let r;for(r=""==e?[{type:"value",text:""}]:s.$.chunk(e,!1,this.style.ignoreFormatting);r.length>0;){let e={offsetY:m,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]};const a=this._measureText(h,t),d=a.actualBoundingBoxAscent+a.actualBoundingBoxDescent;let b;e.height=d,e.ascent=a.actualBoundingBoxAscent;let f,_,y,v=this.style.textDecoration,x=!1,w=!0,P=[];(0,s.aq)(r,((a,d)=>{if("format"==a.type)if("[/]"==a.text)c||(t.restore(),i.restore(),c=!0),f=void 0,u=void 0,_=void 0,v=this.style.textDecoration,y=void 0,b=a.text;else{c||(t.restore(),i.restore());let r=s.$.getTextStyle(a.text);const n=this._getFontStyle(r);t.save(),i.save(),t.font=n,u=n,b=a.text,r.textDecoration&&(v=r.textDecoration),r.fill&&(f=r.fill),r.width&&(_=(0,s.ab)(r.width)),r.verticalAlign&&(y=r.verticalAlign),c=!1;const o=this._measureText(h,t),l=o.actualBoundingBoxAscent+o.actualBoundingBoxDescent;l>e.height&&(e.height=l),o.actualBoundingBoxAscent>e.ascent&&(e.ascent=o.actualBoundingBoxAscent)}else if("value"==a.type&&!x){const i=this._measureText(a.text,t);let h=i.actualBoundingBoxLeft+i.actualBoundingBoxRight;if(o){let i=w||this.style.breakWords||!1;const s=this.style.ellipsis||"",r=this._measureText(s,t),o=r.actualBoundingBoxLeft+r.actualBoundingBoxRight;if(e.width+h>n){const r=n-e.width-o;a.text=this._truncateText(t,a.text,r,i),a.text+=s,x=!0}}else if(l&&e.width+h>n){const i=n-e.width,o=this._truncateText(t,a.text,i,!1,w&&"wrap-no-break"!=this.style.oversizedBehavior);if(""==o)return this.textVisible=!0,!1;P=r.slice(d+1),(0,s.ar)(o)!=(0,s.ar)(a.text)&&(P.unshift({type:"value",text:a.text.substr(o.length)}),b&&P.unshift({type:"format",text:b})),a.text=(0,s.ar)(o),r=[],x=!0}let c=1,g=1;if(u&&_&&_>h){const e=h/_;switch(this.style.textAlign){case"right":case"end":c=e;break;case"center":c=e,g=e;break;default:g=e}h=_}const p=i.actualBoundingBoxAscent+i.actualBoundingBoxDescent;p>e.height&&(e.height=p),i.actualBoundingBoxAscent>e.ascent&&(e.ascent=i.actualBoundingBoxAscent),e.width+=h,e.left+=i.actualBoundingBoxLeft/c,e.right+=i.actualBoundingBoxRight/g,e.textChunks.push({style:u,fill:f,text:a.text,width:h,height:p,left:i.actualBoundingBoxLeft,right:i.actualBoundingBoxRight,ascent:i.actualBoundingBoxAscent,offsetX:0,offsetY:0,textDecoration:v,verticalAlign:y}),w=!1}return!0})),this.style.lineHeight instanceof s.P?(e.height*=this.style.lineHeight.value,e.ascent*=this.style.lineHeight.value):(e.height*=this.style.lineHeight||1.2,e.ascent*=this.style.lineHeight||1.2),g<e.left&&(g=e.left),p<e.right&&(p=e.right),this._textInfo.push(e),m+=e.height,r=P||[]}})),c||(t.restore(),i.restore()),(0,s.i)(this._textInfo,((e,t)=>{let i=0;(0,s.i)(e.textChunks,(t=>{if(t.offsetX=i+t.left-e.left,t.offsetY+=e.height-e.height*(this.style.baselineRatio||.19),i+=t.width,t.verticalAlign)switch(t.verticalAlign){case"super":t.offsetY-=e.height/2-t.height/2;break;case"sub":t.offsetY+=t.height/2}}))}));const b={left:a?-p:-g,top:0,right:a?g:p,bottom:m};if("none"!==r){const e=this._fitRatio(b);if(e<1)if("fit"==r)(0,s.k)(this.style.minScale)&&e<this.style.minScale?(this.textVisible=!1,b.left=0,b.top=0,b.right=0,b.bottom=0):(this._originalScale&&1!=this._originalScale||(this._originalScale=this.scale),this.scale=e,this.textVisible=!0);else if("hide"==r)this.textVisible=!1,b.left=0,b.top=0,b.right=0,b.bottom=0;else{switch(this.style.textAlign){case"right":case"end":b.left=a?n:-n,b.right=0;break;case"center":b.left=-n/2,b.right=n/2;break;default:b.left=0,b.right=a?-n:n}this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}else this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}return t.restore(),i.restore(),b}_fitRatio(e){const t=this.style.maxWidth,i=this.style.maxHeight;if(!(0,s.k)(t)&&!(0,s.k)(i))return 1;const a=e.right-e.left,r=e.bottom-e.top;return Math.min(t/a||1,i/r||1)}_truncateText(e,t,i,s=!1,a=!0){let r;do{if(s)t=t.slice(0,-1);else{let e=t.replace(/[^,;:!?\\\/\s​]+[,;:!?\\\/\s​]*$/g,"");if(""!=e&&e!==t||!a){if(""==e)return t;t=e}else s=!0}const i=this._measureText(t,e);r=i.actualBoundingBoxLeft+i.actualBoundingBoxRight}while(r>i&&""!=t);return t}_measureText(e,t){let i=t.measureText(e),s={};if(null==i.actualBoundingBoxAscent){const t=document.createElement("div");t.innerText=e,t.style.visibility="hidden",t.style.position="absolute",t.style.top="-1000000px;",t.style.fontFamily=this.style.fontFamily||"",t.style.fontSize=this.style.fontSize+"",document.body.appendChild(t);const a=t.getBoundingClientRect();document.body.removeChild(t);const r=a.height,n=i.width;s={actualBoundingBoxAscent:r,actualBoundingBoxDescent:0,actualBoundingBoxLeft:0,actualBoundingBoxRight:n,fontBoundingBoxAscent:r,fontBoundingBoxDescent:0,width:n}}else s={actualBoundingBoxAscent:i.actualBoundingBoxAscent,actualBoundingBoxDescent:i.actualBoundingBoxDescent,actualBoundingBoxLeft:i.actualBoundingBoxLeft,actualBoundingBoxRight:i.actualBoundingBoxRight,fontBoundingBoxAscent:i.actualBoundingBoxAscent,fontBoundingBoxDescent:i.actualBoundingBoxDescent,width:i.width};const a=i.width;switch(this.style.textAlign){case"right":case"end":s.actualBoundingBoxLeft=a,s.actualBoundingBoxRight=0;break;case"center":s.actualBoundingBoxLeft=a/2,s.actualBoundingBoxRight=a/2;break;default:s.actualBoundingBoxLeft=0,s.actualBoundingBoxRight=a}return s}}class le{constructor(){Object.defineProperty(this,"fill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fillOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textAlign",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontFamily",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontWeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontVariant",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textDecoration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lineHeight",{enumerable:!0,configurable:!0,writable:!0,value:(0,s.j)(120)}),Object.defineProperty(this,"baselineRatio",{enumerable:!0,configurable:!0,writable:!0,value:.19}),Object.defineProperty(this,"direction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textBaseline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"oversizedBehavior",{enumerable:!0,configurable:!0,writable:!0,value:"none"}),Object.defineProperty(this,"breakWords",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ellipsis",{enumerable:!0,configurable:!0,writable:!0,value:"…"}),Object.defineProperty(this,"maxWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreFormatting",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class he extends oe{constructor(){super(...arguments),Object.defineProperty(this,"textType",{enumerable:!0,configurable:!0,writable:!0,value:"circular"}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inside",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"orientation",{enumerable:!0,configurable:!0,writable:!0,value:"auto"}),Object.defineProperty(this,"kerning",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_textReversed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_render(e){"circular"===this.textType?this._renderCircular(e):super._render(e)}_renderCircular(e){if(this.textVisible){this._prerender(e);const t=this._isInteractive(e),i=e.layer.context,a=e.layer.dirty,r=this._renderer._ghostLayer.context;i.save(),t&&r.save(),this._textInfo||this._measure(e);let n=this.radius||0,o=this.startAngle||0,l=0,h=this.orientation,d="auto"==h?"auto":"inward"==h;const u=this.inside,c=this.style.textAlign||"left",g=this.kerning||0;let p="left"==c?1:-1;const m=!this._textReversed;if("auto"==d){let e=0,t=0;(0,s.i)(this._textInfo,((t,i)=>{const s=o+t.width/(n-t.height)/2*-p;s>e&&(e=s)})),t="left"==c?(e+l/2)*s.aw:"right"==c?(e-l/2)*s.aw:o*s.aw,t=(0,s.y)(t),d=t>=270||t<=90}1==d&&m&&(this._textInfo.reverse(),this._textReversed=!0),(0,s.i)(this._textInfo,((e,h)=>{const b=e.height;u||(n+=b),(-1==p&&d||1==p&&!d)&&m&&e.textChunks.reverse();let f=o;l=0,"center"==c&&(f+=e.width/(n-b)/2*-p,l=f-o),f+=Math.PI*(d?0:1),i.save(),t&&r.save(),i.rotate(f),t&&r.rotate(f);let _=0;(0,s.i)(e.textChunks,((e,s)=>{const o=e.text,l=e.width;_=l/2/(n-b)*p,i.rotate(_),t&&r.rotate(_),e.style&&(i.save(),r.save(),i.font=e.style,t&&(r.font=e.style)),e.fill&&(i.save(),i.fillStyle=e.fill.toCSS()),i.textBaseline="middle",i.textAlign="center",t&&(r.textBaseline="middle",r.textAlign="center"),a&&i.fillText(o,0,(d?1:-1)*(0-n+b/2)),t&&r.fillText(o,0,(d?1:-1)*(0-n+b/2)),e.fill&&i.restore(),e.style&&(i.restore(),r.restore()),_=(l/2+g)/(n-b)*p,i.rotate(_),t&&r.rotate(_)})),i.restore(),t&&r.restore(),u&&(n-=b)})),i.restore(),t&&r.restore()}}_measure(e){return"circular"===this.textType?this._measureCircular(e):super._measure(e)}_measureCircular(e){const t=e.layer.context,i=this._renderer._ghostLayer.context,a="rtl"==this.style.direction,r=this.style.oversizedBehavior,n=this.style.maxWidth,o=(0,s.k)(n)&&"truncate"==r,l=this.style.ellipsis||"";let h;this.textVisible=!0,this._textInfo=[],this._textReversed=!1,t.save(),i.save(),this._prerender(e,!0);const d=this.text.toString().replace(/\r/g,"").split(/\n/);let u=!0,c=0,g=0;return(0,s.i)(d,((e,r)=>{let d,p,m,b=s.$.chunk(e,!1,this.style.ignoreFormatting),f={offsetY:g,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]};(0,s.i)(b,((e,r)=>{if("format"==e.type){if("[/]"==e.text)u||(t.restore(),i.restore(),u=!0),p=void 0,d=void 0,m=void 0;else{let a=s.$.getTextStyle(e.text);const r=this._getFontStyle(a);t.save(),i.save(),t.font=r,d=r,a.fill&&(p=a.fill),a.width&&(m=(0,s.ab)(a.width)),u=!1}o&&(h=this._measureText(l,t))}else if("value"==e.type){let i=e.text.match(/./gu)||[];a&&(i=(0,s.as)(e.text),i.reverse());for(let e=0;e<i.length;e++){const s=i[e],a=this._measureText(s,t);let r=a.width;d&&m&&m>r&&(r=m);const u=a.actualBoundingBoxAscent+a.actualBoundingBoxDescent;if(u>f.height&&(f.height=u),a.actualBoundingBoxAscent>f.ascent&&(f.ascent=a.actualBoundingBoxAscent),c+=r,o){h||(h=this._measureText(l,t));const e=h.actualBoundingBoxLeft+h.actualBoundingBoxRight;if(c+e>n){1==f.textChunks.length?this.textVisible=!1:(f.width+=e,f.left+=h.actualBoundingBoxLeft,f.right+=h.actualBoundingBoxRight,f.textChunks.push({style:d,fill:p,text:l,width:e,height:u+h.actualBoundingBoxDescent,left:h.actualBoundingBoxLeft,right:h.actualBoundingBoxRight,ascent:h.actualBoundingBoxAscent,offsetX:0,offsetY:u,textDecoration:void 0}));break}}f.width+=r,f.left+=a.actualBoundingBoxLeft,f.right+=a.actualBoundingBoxRight,f.textChunks.push({style:d,fill:p,text:s,width:r,height:u+a.actualBoundingBoxDescent,left:a.actualBoundingBoxLeft,right:a.actualBoundingBoxRight,ascent:a.actualBoundingBoxAscent,offsetX:0,offsetY:u,textDecoration:void 0})}}})),this.style.lineHeight instanceof s.P?f.height*=this.style.lineHeight.value:f.height*=this.style.lineHeight||1.2,this._textInfo.push(f),g+=f.height})),u||(t.restore(),i.restore()),"hide"==r&&c>n&&(this.textVisible=!1),(0,s.i)(this._textInfo,(e=>{(0,s.i)(e.textChunks,(t=>{t.offsetY+=Math.round((e.height-t.height+(e.ascent-t.ascent))/2)}))})),t.restore(),i.restore(),{left:0,top:0,right:0,bottom:0}}}class de extends E{constructor(e,t){super(e),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_imageMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.image=t}_dispose(){super._dispose(),this._imageMask&&j(this._imageMask)}getLocalBounds(){if(!this._localBounds){let e=0,t=0;this.width&&(e=this.width),this.height&&(t=this.height),this._localBounds={left:0,top:0,right:e,bottom:t},this._addBounds(this._localBounds)}return this._localBounds}_render(e){if(super._render(e),this.image){if(void 0===this.tainted&&(this.tainted=R(this.image),e.layer.tainted=!0),this.tainted&&this._renderer._omitTainted)return;if(e.layer.dirty){this.shadowColor&&(e.layer.context.shadowColor=this.shadowColor.toCSS(this.shadowOpacity||1)),this.shadowBlur&&(e.layer.context.shadowBlur=this.shadowBlur),this.shadowOffsetX&&(e.layer.context.shadowOffsetX=this.shadowOffsetX),this.shadowOffsetY&&(e.layer.context.shadowOffsetY=this.shadowOffsetY);const t=this.width||this.image.naturalWidth,i=this.height||this.image.naturalHeight;e.layer.context.drawImage(this.image,0,0,t,i)}if(this.interactive&&this._isInteractive(e)){const e=this._getMask(this.image);this._renderer._ghostLayer.context.drawImage(e,0,0)}}}clear(){super.clear(),this.image=void 0,this._imageMask=void 0}_getMask(e){if(void 0===this._imageMask){const t=this.width||e.naturalWidth,i=this.height||e.naturalHeight,s=document.createElement("canvas");s.width=t,s.height=i;const a=s.getContext("2d");a.imageSmoothingEnabled=!1,a.fillStyle=this._getColorId(),a.fillRect(0,0,t,i),R(e)||(a.globalCompositeOperation="destination-in",a.drawImage(e,0,0,t,i)),this._imageMask=s}return this._imageMask}}class ue{constructor(e,t,i,a){Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"originalPoint",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"point",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"bbox",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"simulated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"native",{enumerable:!0,configurable:!0,writable:!0,value:!0}),(0,s.ag)("touchevents")&&e instanceof Touch?this.id=e.identifier:this.id=null}}class ce extends s.ae{constructor(e){if(super(),Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"_layerDom",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"layers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_dirtyLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"defaultLayer",{enumerable:!0,configurable:!0,writable:!0,value:this.getLayer(0)}),Object.defineProperty(this,"_ghostLayer",{enumerable:!0,configurable:!0,writable:!0,value:new ge}),Object.defineProperty(this,"_patternCanvas",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("canvas")}),Object.defineProperty(this,"_patternContext",{enumerable:!0,configurable:!0,writable:!0,value:this._patternCanvas.getContext("2d")}),Object.defineProperty(this,"_realWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_realHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_calculatedWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_calculatedHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interactionsEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_colorMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_forceInteractive",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_omitTainted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_hovering",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"_dragging",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mousedown",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_lastPointerMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tapToActivate",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"tapToActivateTimeout",{enumerable:!0,configurable:!0,writable:!0,value:3e3}),Object.defineProperty(this,"_touchActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_touchActiveTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.resolution=e??window.devicePixelRatio,this.view.style.position="absolute",this.view.setAttribute("aria-hidden","true"),this.view.appendChild(this._layerDom),this._disposers.push(new s.af((()=>{(0,s._)(this._events,((e,t)=>{t.disposer.dispose()})),(0,s.i)(this.layers,(e=>{j(e.view),e.exportableView&&j(e.exportableView)})),j(this._ghostLayer.view),j(this._patternCanvas)}))),this._disposers.push((0,s.O)((()=>{null==e&&(this.resolution=window.devicePixelRatio)}))),(0,s.ag)("touchevents")){const e=e=>{0!==this._dragging.length&&(0,s.aq)(this._dragging,(t=>!t.value.shouldCancelTouch()||(e.preventDefault(),!1))),this._touchActiveTimeout&&this._delayTouchDeactivate()};this._disposers.push((0,s.h)(window,"touchstart",e,{passive:!1})),this._disposers.push((0,s.h)(this.view,"touchstart",e,{passive:!1})),this._disposers.push((0,s.h)(this.view,"touchmove",(()=>{this._touchActiveTimeout&&this._delayTouchDeactivate()}),{passive:!0})),this._disposers.push((0,s.h)(window,"click",(e=>{this._touchActive=!1}),{passive:!0})),this._disposers.push((0,s.h)(this.view,"click",(e=>{window.setTimeout((()=>{this._touchActive=!0,this._delayTouchDeactivate()}),100)}),{passive:!0}))}(0,s.ag)("wheelevents")&&this._disposers.push((0,s.h)(this.view,"wheel",(e=>{let t=!1;this._hovering.forEach((e=>{if(e.wheelable)return t=!0,!1})),t&&e.preventDefault()}),{passive:!1}))}resetImageArray(){this._ghostLayer.imageArray=void 0}_delayTouchDeactivate(){this._touchActiveTimeout&&clearTimeout(this._touchActiveTimeout),this.tapToActivateTimeout>0&&(this._touchActiveTimeout=window.setTimeout((()=>{this._touchActive=!1}),this.tapToActivateTimeout))}get debugGhostView(){return!!this._ghostLayer.view.parentNode}set debugGhostView(e){e?this._ghostLayer.view.parentNode||this.view.appendChild(this._ghostLayer.view):this._ghostLayer.view.parentNode&&this._ghostLayer.view.parentNode.removeChild(this._ghostLayer.view)}createLinearGradient(e,t,i,s){return this.defaultLayer.context.createLinearGradient(e,t,i,s)}createRadialGradient(e,t,i,s,a,r){return this.defaultLayer.context.createRadialGradient(e,t,i,s,a,r)}createPattern(e,t,i,s,a){return this._patternCanvas.width=s,this._patternCanvas.height=a,this._patternContext.clearRect(0,0,s,a),t.renderDetached(this._patternContext),e.renderDetached(this._patternContext),this._patternContext.createPattern(this._patternCanvas,i)}makeContainer(){return new X(this)}makeGraphics(){return new ne(this)}makeText(e,t){return new oe(this,e,t)}makeTextStyle(){return new le}makeRadialText(e,t){return new he(this,e,t)}makePicture(e){return new de(this,e)}resizeLayer(e){e.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resizeGhost(){this._ghostLayer.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resize(e,t,i,a){this._realWidth=e,this._realHeight=t,this._calculatedWidth=i,this._calculatedHeight=a,(0,s.i)(this.layers,(e=>{e&&(e.dirty=!0,this.resizeLayer(e))})),this.resizeGhost(),this.view.style.width=i+"px",this.view.style.height=a+"px"}createDetachedLayer(e=!1){const t=document.createElement("canvas"),i=t.getContext("2d",{willReadFrequently:e}),s=new pe(t,i);return t.style.position="absolute",t.style.top="0px",t.style.left="0px",s}getLayerByOrder(e){const t=this.layers,i=t.length;for(let s=0;s<i;s++){const i=t[s];if(i.order==e)return i}}getLayer(e,t=!0){let i=this.getLayerByOrder(e);if(i)return i;const a=this.createDetachedLayer(99==e);a.order=e,a.visible=t,a.view.className="am5-layer-"+e,a.visible&&this.resizeLayer(a);const r=this.layers;r.push(a),r.sort(((e,t)=>e.order>t.order?1:e.order<t.order?-1:0));const n=r.length;let o;for(let e=(0,s.ah)(r,a)+1;e<n;e++)if(r[e].visible){o=r[e];break}return a.visible&&(void 0===o?this._layerDom.appendChild(a.view):this._layerDom.insertBefore(a.view,o.view)),a}render(e){if(this._dirtyLayers.length=0,(0,s.i)(this.layers,(e=>{e&&e.dirty&&e.visible&&(this._dirtyLayers.push(e),e.clear())})),this._ghostLayer.clear(),e.render({inactive:null,layer:this.defaultLayer}),this._ghostLayer.context.restore(),(0,s.i)(this.layers,(e=>{if(e){const t=e.context;t.beginPath(),t.moveTo(0,0),t.stroke()}})),(0,s.i)(this._dirtyLayers,(e=>{e.context.restore(),e.dirty=!1})),this._hovering.size&&this._lastPointerMoveEvent){const{events:e,target:t,native:i}=this._lastPointerMoveEvent;(0,s.i)(e,(e=>{this._dispatchGlobalMousemove(e,t,i)}))}}paintId(e){const t=function(e){const t=[0,0,0];for(let i=0;i<24;i++)t[i%3]<<=1,t[i%3]|=1&e,e>>=1;return(0|t[0])+(t[1]<<8)+(t[2]<<16)}(++this._colorId),i=s.C.fromHex(t).toCSS();return this._colorMap[i]=e,i}_removeObject(e){void 0!==e._colorId&&delete this._colorMap[e._colorId]}_adjustBoundingBox(e){const t=this._ghostLayer.margin;return new DOMRect(-t.left,-t.top,e.width+t.left+t.right,e.height+t.top+t.bottom)}getEvent(e,t=!0){const i=this.view.getBoundingClientRect(),s=e.clientX||0,a=e.clientY||0,r=this._calculatedWidth/this._realWidth,n=this._calculatedHeight/this._realHeight,o={x:s-i.left,y:a-i.top},l={x:(s-(t?i.left:0))*r,y:(a-(t?i.top:0))*n};return new ue(e,o,l,this._adjustBoundingBox(i))}_getHitTarget(e,t,i){if(0===t.width||0===t.height||e.x<t.left||e.x>t.right||e.y<t.top||e.y>t.bottom)return;if(!i||!this._layerDom.contains(i))return;const a=this._ghostLayer.getImageData(e,t);if(0===a.data[0]&&0===a.data[1]&&0===a.data[2])return!1;const r=s.C.fromRGB(a.data[0],a.data[1],a.data[2]).toCSS();return this._colorMap[r]}getObjectAtPoint(e){const t=this._ghostLayer.getImageArray(e);if(0===t[0]&&0===t[1]&&0===t[2])return;const i=s.C.fromRGB(t[0],t[1],t[2]).toCSS();return this._colorMap[i]}_withEvents(e,t){const i=this._events[e];if(void 0!==i){i.dispatching=!0;try{t(i)}finally{i.dispatching=!1,i.cleanup&&(i.cleanup=!1,(0,s.Q)(i.callbacks,(e=>!e.disposed)),0===i.callbacks.length&&(i.disposer.dispose(),delete this._events[e]))}}}_dispatchEventAll(e,t){this.interactionsEnabled&&this._withEvents(e,(e=>{(0,s.i)(e.callbacks,(e=>{e.disposed||e.callback.call(e.context,t)}))}))}_dispatchEvent(e,t,i){if(!this.interactionsEnabled)return!1;let a=!1;return this._withEvents(e,(e=>{(0,s.i)(e.callbacks,(e=>{e.disposed||e.object!==t||(e.callback.call(e.context,i),a=!0)}))})),a}_dispatchMousedown(e,t){const i=e.button;if(0!=i&&2!=i&&1!=i&&void 0!==i)return;const s=this.getEvent(e),a=this._getHitTarget(s.originalPoint,s.bbox,t);if(a){const e=s.id;let t=!1;S(a,(i=>{const a={id:e,value:i};return this._mousedown.push(a),!t&&this._dispatchEvent("pointerdown",i,s)&&(t=!0,this._dragging.some((t=>t.value===i&&t.id===e))||this._dragging.push(a)),!0}))}}_dispatchGlobalMousemove(e,t,i){const a=this.getEvent(e),r=this._getHitTarget(a.originalPoint,a.bbox,t);a.native=i,r?(this._hovering.forEach((e=>{e.contains(r)||(this._hovering.delete(e),e.cursorOverStyle&&(0,s.ai)(document.body,"cursor",e._replacedCursorStyle),this._dispatchEvent("pointerout",e,a))})),a.native&&S(r,(e=>(this._hovering.has(e)||(this._hovering.add(e),e.cursorOverStyle&&(e._replacedCursorStyle=(0,s.at)(document.body,"cursor"),(0,s.ai)(document.body,"cursor",e.cursorOverStyle)),this._dispatchEvent("pointerover",e,a)),!0)))):(this._hovering.forEach((e=>{e.cursorOverStyle&&(0,s.ai)(document.body,"cursor",e._replacedCursorStyle),this._dispatchEvent("pointerout",e,a)})),this._hovering.clear()),this._dispatchEventAll("globalpointermove",a)}removeHovering(e){this._hovering.delete(e),e.cursorOverStyle&&(0,s.ai)(document.body,"cursor",e._replacedCursorStyle)}_dispatchGlobalMouseup(e,t){const i=this.getEvent(e);i.native=t,this._dispatchEventAll("globalpointerup",i)}_dispatchDragMove(e){if(0!==this._dragging.length){const t=this.getEvent(e),i=t.id;this._dragging.forEach((e=>{e.id===i&&this._dispatchEvent("pointermove",e.value,t)}))}}_dispatchDragEnd(e,t){const i=e.button;let s;if(0==i||void 0===i)s="click";else if(2==i)s="rightclick";else{if(1!=i)return;s="middleclick"}const a=this.getEvent(e),r=a.id;if(0!==this._mousedown.length){const e=this._getHitTarget(a.originalPoint,a.bbox,t);e&&this._mousedown.forEach((t=>{t.id===r&&t.value.contains(e)&&this._dispatchEvent(s,t.value,a)})),this._mousedown.length=0}0!==this._dragging.length&&(this._dragging.forEach((e=>{e.id===r&&this._dispatchEvent("pointerup",e.value,a)})),this._dragging.length=0)}_dispatchDoubleClick(e,t){const i=this.getEvent(e),s=this._getHitTarget(i.originalPoint,i.bbox,t);s&&S(s,(e=>!this._dispatchEvent("dblclick",e,i)))}_dispatchWheel(e,t){const i=this.getEvent(e),s=this._getHitTarget(i.originalPoint,i.bbox,t);s&&S(s,(e=>!this._dispatchEvent("wheel",e,i)))}_makeSharedEvent(e,t){if(void 0===this._listeners[e]){const i=t();this._listeners[e]=new s.aj((()=>{delete this._listeners[e],i.dispose()}))}return this._listeners[e].increment()}_onPointerEvent(e,t){let i=!1,a=null;function r(){a=null,i=!1}return new s.M([new s.af((()=>{null!==a&&clearTimeout(a),r()})),(0,s.h)(this.view,(0,s.ak)(e),(e=>{i=!0,null!==a&&clearTimeout(a),a=window.setTimeout(r,0)})),L(window,e,((e,s)=>{null!==a&&(clearTimeout(a),a=null),t(e,s,i),i=!1}))])}_initEvent(e){switch(e){case"globalpointermove":case"pointerover":case"pointerout":return this._makeSharedEvent("pointermove",(()=>{const e=(e,t,i)=>{this._lastPointerMoveEvent={events:e,target:t,native:i},(0,s.i)(e,(e=>{this._dispatchGlobalMousemove(e,t,i)}))};return new s.M([this._onPointerEvent("pointerdown",e),this._onPointerEvent("pointermove",e)])}));case"globalpointerup":return this._makeSharedEvent("pointerup",(()=>{const e=this._onPointerEvent("pointerup",((e,t,i)=>{(0,s.i)(e,(e=>{this._dispatchGlobalMouseup(e,i)})),this._lastPointerMoveEvent={events:e,target:t,native:i}})),t=this._onPointerEvent("pointercancel",((e,t,i)=>{(0,s.i)(e,(e=>{this._dispatchGlobalMouseup(e,i)})),this._lastPointerMoveEvent={events:e,target:t,native:i}}));return new s.af((()=>{e.dispose(),t.dispose()}))}));case"click":case"rightclick":case"middleclick":case"pointerdown":case"pointermove":case"pointerup":return this._makeSharedEvent("pointerdown",(()=>{const e=this._onPointerEvent("pointerdown",((e,t)=>{(0,s.i)(e,(e=>{this._dispatchMousedown(e,t)}))})),t=this._onPointerEvent("pointermove",(e=>{(0,s.i)(e,(e=>{this._dispatchDragMove(e)}))})),i=this._onPointerEvent("pointerup",((e,t)=>{(0,s.i)(e,(e=>{this._dispatchDragEnd(e,t)}))})),a=this._onPointerEvent("pointercancel",((e,t)=>{(0,s.i)(e,(e=>{this._dispatchDragEnd(e,t)}))}));return new s.af((()=>{e.dispose(),t.dispose(),i.dispose(),a.dispose()}))}));case"dblclick":return this._makeSharedEvent("dblclick",(()=>this._onPointerEvent("dblclick",((e,t)=>{(0,s.i)(e,(e=>{this._dispatchDoubleClick(e,t)}))}))));case"wheel":return this._makeSharedEvent("wheel",(()=>(0,s.h)(this.view,(0,s.ak)("wheel"),(e=>{this._dispatchWheel(e,(0,s.al)(e))}),{passive:!1})))}}_addEvent(e,t,i,a){let r=this._events[t];void 0===r&&(r=this._events[t]={disposer:this._initEvent(t),callbacks:[],dispatching:!1,cleanup:!1});const n={object:e,context:a,callback:i,disposed:!1};return r.callbacks.push(n),new s.af((()=>{n.disposed=!0,r.dispatching?r.cleanup=!0:((0,s.am)(r.callbacks,n),0===r.callbacks.length&&(r.disposer.dispose(),delete this._events[t]))}))}getCanvas(e,t){this.render(e),t||(t={});let i=this.resolution,a=Math.floor(this._calculatedWidth*this.resolution),r=Math.floor(this._calculatedHeight*this.resolution);if(t.minWidth&&t.minWidth>a){let e=t.minWidth/a;e>i&&(i=e*this.resolution)}if(t.minHeight&&t.minHeight>r){let e=t.minHeight/r;e>i&&(i=e*this.resolution)}if(t.maxWidth&&t.maxWidth<a){let e=t.maxWidth/a;e<i&&(i=e*this.resolution)}if(t.maxHeight&&t.maxHeight>r){let e=t.maxHeight/r;e<i&&(i=e*this.resolution)}t.maintainPixelRatio&&(i/=this.resolution);const n=[];let o=!1;const l=document.createElement("canvas");i!=this.resolution&&(o=!0,a=a*i/this.resolution,r=r*i/this.resolution),l.width=a,l.height=r,l.style.position="fixed",l.style.top="-10000px",this.view.appendChild(l),n.push(l);const h=l.getContext("2d");let d=0,u=0,c=!1;return(0,s.i)(this.layers,(e=>{if(e&&e.visible&&(e.tainted||o)){c=!0,e.exportableView=e.view,e.exportableContext=e.context,e.view=document.createElement("canvas"),e.view.style.position="fixed",e.view.style.top="-10000px",this.view.appendChild(e.view),n.push(e.view);let t=0,s=0;e.margin&&(t+=e.margin.left||0+e.margin.right||0,s+=e.margin.top||0+e.margin.bottom||0),e.view.width=a+t,e.view.height=r+s,e.context=e.view.getContext("2d"),e.dirty=!0,e.scale=i}})),c&&(this._omitTainted=!0,this.render(e),this._omitTainted=!1),(0,s.i)(this.layers,(e=>{if(e&&e.visible){let t=0,i=0;e.margin&&(t=-(e.margin.left||0)*this.resolution,i=-(e.margin.top||0)*this.resolution),h.drawImage(e.view,t,i),e.exportableView&&(e.view=e.exportableView,e.exportableView=void 0),e.exportableContext&&(e.context=e.exportableContext,e.exportableContext=void 0),d<e.view.clientWidth&&(d=e.view.clientWidth),u<e.view.clientHeight&&(u=e.view.clientHeight),e.scale=void 0}})),l.style.width=d+"px",l.style.height=u+"px",(0,s.i)(n,(e=>{e.style.position="",e.style.top="",this.view.removeChild(e)})),l}}class ge{constructor(){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"imageArray",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.view=document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.context.imageSmoothingEnabled=!1,this.view.style.position="absolute",this.view.style.top="0px",this.view.style.left="0px"}resize(e,t,i,s,a){this._resolution=a,e+=this.margin.left+this.margin.right,t+=this.margin.top+this.margin.bottom,i+=this.margin.left+this.margin.right,s+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px",this._width=Math.floor(e*a),this._height=Math.floor(t*a),this.view.width=this._width,this.view.style.width=i+"px",this.view.height=this._height,this.view.style.height=s+"px"}getImageData(e,t){return this.context.getImageData(Math.round((e.x-t.left)/t.width*this._width),Math.round((e.y-t.top)/t.height*this._height),1,1)}getImageArray(e){this.imageArray||(this.imageArray=this.context.getImageData(0,0,this._width,this._height).data);const t=this.imageArray,i=Math.round(e.x*this._resolution),s=4*(Math.round(e.y*this._resolution)*this._width+i);return[t[s],t[s+1],t[s+2],t[s+3]]}setMargin(e){this.margin.left=0,this.margin.right=0,this.margin.top=0,this.margin.bottom=0,(0,s.i)(e,(e=>{e.margin&&(this.margin.left=Math.max(this.margin.left,e.margin.left),this.margin.right=Math.max(this.margin.right,e.margin.right),this.margin.top=Math.max(this.margin.top,e.margin.top),this.margin.bottom=Math.max(this.margin.bottom,e.margin.bottom))}))}clear(){this.context.save(),this.context.fillStyle="#000",this.context.fillRect(0,0,this._width,this._height)}}class pe{constructor(e,t){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dirty",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportableView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exportableContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=e,this.context=t}resize(e,t,i,s,a){null!=this.width&&(e=this.width,i=this.width),null!=this.height&&(t=this.height,s=this.height),this.margin?(e+=this.margin.left+this.margin.right,t+=this.margin.top+this.margin.bottom,i+=this.margin.left+this.margin.right,s+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px"):(this.view.style.left="0px",this.view.style.top="0px"),this._width=Math.floor(e*a),this._height=Math.floor(t*a),this.view.width=this._width,this.view.style.width=i+"px",this.view.height=this._height,this.view.style.height=s+"px"}clear(){this.context.save(),this.context.clearRect(0,0,this._width,this._height)}}function me(e,t){null==e?requestAnimationFrame(t):setTimeout((()=>{requestAnimationFrame(t)}),1e3/e)}class be{constructor(e,t={},i){if(Object.defineProperty(this,"dom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_inner",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyAnimation",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyBounds",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPositions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_ticker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_tickers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_updateTick",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new s.ax}),Object.defineProperty(this,"animationTime",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_animations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rootContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tooltipContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipContainerSettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"language",{enumerable:!0,configurable:!0,writable:!0,value:y.new(this,{})}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:_}),Object.defineProperty(this,"utc",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timezone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numberFormatter",{enumerable:!0,configurable:!0,writable:!0,value:c.new(this,{})}),Object.defineProperty(this,"dateFormatter",{enumerable:!0,configurable:!0,writable:!0,value:b.new(this,{})}),Object.defineProperty(this,"durationFormatter",{enumerable:!0,configurable:!0,writable:!0,value:f.new(this,{})}),Object.defineProperty(this,"tabindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tabindexes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_a11yD",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusedSprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isShift",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_keyboardDragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_readerAlertElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_logo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDiv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nonce",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interfaceColors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verticalLayout",{enumerable:!0,configurable:!0,writable:!0,value:s.ay.new(this,{})}),Object.defineProperty(this,"horizontalLayout",{enumerable:!0,configurable:!0,writable:!0,value:s.az.new(this,{})}),Object.defineProperty(this,"gridLayout",{enumerable:!0,configurable:!0,writable:!0,value:s.G.new(this,{})}),Object.defineProperty(this,"_paused",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"autoResize",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_fontHash",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"_isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_resizeSensorDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltips",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_htmlElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlEnabledContainers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");let a,r;if(this._settings=t,0==t.accessible&&(this._a11yD=!0),null==t.useSafeResolution&&(t.useSafeResolution=!0),t.useSafeResolution&&(a=(0,s.aI)()),this._renderer=new ce(a),r=e instanceof HTMLElement?e:document.getElementById(e),(0,s.i)(s.aA.rootElements,(e=>{if(e.dom===r)throw new Error("You cannot have multiple Roots on the same DOM node")})),this.interfaceColors=u.new(this,{}),null===r)throw new Error("Could not find HTML element with id `"+e+"`");this.dom=r;let n=document.createElement("div");n.style.position="relative",n.style.width="100%",n.style.height="100%",r.appendChild(n);const o=t.tooltipContainerBounds;o&&(this._tooltipContainerSettings=o),this._inner=n,this._updateComputedStyles(),s.aA.rootElements.push(this)}static new(e,t){const i=new be(e,t,!0);return i._init(),i}moveDOM(e){let t;if(t=e instanceof HTMLElement?e:document.getElementById(e),t){for(;this.dom.childNodes.length>0;)t.appendChild(this.dom.childNodes[0]);this.dom=t,this._initResizeSensor(),this.resize()}}_handleLogo(){if(this._logo){const e=this.dom.offsetWidth,t=this.dom.offsetHeight;e<=150||t<=60?this._logo.hide():this._logo.show()}}_showBranding(){if(!this._logo){const e=this.tooltipContainer.children.push(s.g.new(this,{interactive:!0,interactiveChildren:!1,position:"absolute",setStateOnChildren:!0,paddingTop:9,paddingRight:9,paddingBottom:9,paddingLeft:9,scale:.6,y:(0,s.j)(100),centerY:s.a,tooltipText:"Created using amCharts 5",tooltipX:s.a,cursorOverStyle:"pointer",background:s.R.new(this,{fill:(0,s.d)(4671320),fillOpacity:0,tooltipY:5})})),t=a.T.new(this,{pointerOrientation:"horizontal",paddingTop:4,paddingRight:7,paddingBottom:4,paddingLeft:7});t.label.setAll({fontSize:12}),t.get("background").setAll({fill:this.interfaceColors.get("background"),stroke:this.interfaceColors.get("grid"),strokeOpacity:.3}),e.set("tooltip",t),e.events.on("click",(()=>{window.open("https://www.amcharts.com/","_blank")})),e.states.create("hover",{}),e.children.push(s.e.new(this,{stroke:(0,s.d)(13421772),strokeWidth:3,svgPath:"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6"})).states.create("hover",{stroke:(0,s.d)(3976191)}),e.children.push(s.e.new(this,{stroke:(0,s.d)(8947848),strokeWidth:3,svgPath:"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0"})).states.create("hover",{stroke:(0,s.d)(4671320)}),this._logo=e,this._handleLogo()}}_getRealSize(){return this.dom.getBoundingClientRect()}_getCalculatedSize(e){return this._settings.calculateSize?this._settings.calculateSize(e):{width:e.width,height:e.height}}_init(){const e=this._settings;!1!==e.accessible&&(e.focusable&&(this._inner.setAttribute("focusable","true"),this._inner.setAttribute("tabindex",this.tabindex+"")),e.ariaLabel&&this._inner.setAttribute("aria-label",e.ariaLabel),e.role&&this._inner.setAttribute("role",e.role));const t=this._renderer,i=this._getRealSize(),a=this._getCalculatedSize(i),n=Math.floor(a.width),o=Math.floor(a.height),l=Math.floor(i.width),h=Math.floor(i.height),d=s.g.new(this,{visible:!0,width:n,height:o});this._rootContainer=d,this._rootContainer._defaultThemes.push(r.D.new(this));const u=d.children.push(s.g.new(this,{visible:!0,width:s.a,height:s.a}));this.container=u,t.resize(l,h,n,o),this._inner.appendChild(t.view),this._initResizeSensor();const c=document.createElement("div");if(this._htmlElementContainer=c,c.className="am5-html-container",c.style.position="absolute",c.style.pointerEvents="none",this._tooltipContainerSettings||(c.style.overflow="hidden"),this._inner.appendChild(c),!0!==this._a11yD){const e=document.createElement("div");e.className="am5-reader-container",e.setAttribute("role","alert"),e.style.position="absolute",e.style.width="1px",e.style.height="1px",e.style.overflow="hidden",e.style.clip="rect(1px, 1px, 1px, 1px)",this._readerAlertElement=e,this._inner.appendChild(this._readerAlertElement);const i=document.createElement("div");i.className="am5-focus-container",i.style.position="absolute",i.style.pointerEvents="none",i.style.top="0px",i.style.left="0px",i.style.overflow="hidden",i.style.width=n+"px",i.style.height=o+"px",i.setAttribute("role","graphics-document"),(0,s.av)(i,!1),this._focusElementContainer=i,this._inner.appendChild(this._focusElementContainer);const a=document.createElement("div");this._tooltipElementContainer=a,a.className="am5-tooltip-container",this._inner.appendChild(a),(0,s.ag)("keyboardevents")&&(this._disposers.push((0,s.h)(window,"keydown",(e=>{const t=(0,s.aB)(e);"Shift"==t?this._isShift=!0:"Tab"==t&&(this._isShift=e.shiftKey)}))),this._disposers.push((0,s.h)(window,"keyup",(e=>{"Shift"==(0,s.aB)(e)&&(this._isShift=!1)}))),this._disposers.push((0,s.h)(i,"click",(()=>{const e=this._focusedSprite;if(e){const i=t.getEvent(new MouseEvent("click"));e.events.dispatch("click",{type:"click",originalEvent:i.event,point:i.point,simulated:!0,target:e})}}))),this._disposers.push((0,s.h)(i,"keydown",(e=>{const i=this._focusedSprite;if(i){"Escape"==e.key&&((0,s.aC)(),this._focusedSprite=void 0);let a=0,r=0;const n=(0,s.aB)(e);switch(n){case"Enter":case" ":if(" "==n&&"checkbox"!=i.get("role"))return;e.preventDefault();const s=t.getEvent(new MouseEvent("mouse"));return void i.events.dispatch("click",{type:"click",originalEvent:s.event,point:s.point,simulated:!0,target:i});case"ArrowLeft":a=-6;break;case"ArrowRight":a=6;break;case"ArrowUp":r=-6;break;case"ArrowDown":r=6;break;default:return}if(0!=a||0!=r){if(e.preventDefault(),!i.isDragging()){this._keyboardDragPoint={x:0,y:0};const e=t.getEvent(new MouseEvent("mousedown",{clientX:0,clientY:0}));e.point={x:0,y:0},i.events.isEnabled("pointerdown")&&i.events.dispatch("pointerdown",{type:"pointerdown",originalEvent:e.event,point:e.point,simulated:!0,target:i})}const s=this._keyboardDragPoint;s.x+=a,s.y+=r;const n=t.getEvent(new MouseEvent("mousemove",{clientX:s.x,clientY:s.y}),!1);i.events.isEnabled("globalpointermove")&&i.events.dispatch("globalpointermove",{type:"globalpointermove",originalEvent:n.event,point:n.point,simulated:!0,target:i})}}}))),this._disposers.push((0,s.h)(i,"keyup",(e=>{if(this._focusedSprite){const i=this._focusedSprite,a=(0,s.aB)(e);switch(a){case"ArrowLeft":case"ArrowRight":case"ArrowTop":case"ArrowDown":if(i.isDragging()){const e=this._keyboardDragPoint,s=t.getEvent(new MouseEvent("mouseup",{clientX:e.x,clientY:e.y}));return i.events.isEnabled("globalpointerup")&&i.events.dispatch("globalpointerup",{type:"globalpointerup",originalEvent:s.event,point:s.point,simulated:!0,target:i}),void(this._keyboardDragPoint=void 0)}if(i.get("focusableGroup")){const e=i.get("focusableGroup"),t=this._tabindexes.filter((t=>!(t.get("focusableGroup")!=e||!1===t.getPrivate("focusable")||!t.isVisibleDeep())));let r=t.indexOf(i);const n=t.length-1;r+="ArrowRight"==a||"ArrowDown"==a?1:-1,r<0?r=n:r>n&&(r=0),(0,s.aD)(t[r].getPrivate("focusElement").dom)}}}}))))}this._startTicker(),this.setThemes([]),this._addTooltip(),this._hasLicense()||this._showBranding()}_initResizeSensor(){this._resizeSensorDisposer&&this._resizeSensorDisposer.dispose(),this._resizeSensorDisposer=new d(this.dom,(()=>{this.autoResize&&this.resize()})),this._disposers.push(this._resizeSensorDisposer)}resize(){const e=this._getRealSize(),t=this._getCalculatedSize(e),i=Math.floor(t.width),s=Math.floor(t.height);if(i>0&&s>0){const t=Math.floor(e.width),a=Math.floor(e.height),r=this._htmlElementContainer;if(r.style.width=i+"px",r.style.height=s+"px",!0!==this._a11yD){const e=this._focusElementContainer;e.style.width=i+"px",e.style.height=s+"px"}this._renderer.resize(t,a,i,s);const n=this._rootContainer;n.setPrivate("width",i),n.setPrivate("height",s),this._render(),this._handleLogo()}}_render(){this._renderer.render(this._rootContainer._display),this._focusElementDirty&&(this._updateCurrentFocus(),this._focusElementDirty=!1)}_runTickers(e){(0,s.i)(this._tickers,(t=>{t(e)}))}_runAnimations(e){let t=0;return(0,s.Q)(this._animations,(i=>{const a=i._runAnimation(e);return a!==s.aJ.Stopped&&(a!==s.aJ.Playing||(++t,!0))})),this._isDirtyAnimation=!1,0===t}_runDirties(){let e={};for(;this._isDirtyParents;)this._isDirtyParents=!1,(0,s.H)(this._dirtyParents).forEach((t=>{const i=this._dirtyParents[t];delete this._dirtyParents[t],i.isDisposed()||(e[i.uid]=i,i._prepareChildren())}));(0,s.H)(e).forEach((t=>{e[t]._updateChildren()}));const t=[];(0,s.H)(this._dirty).forEach((e=>{const i=this._dirty[e];i.isDisposed()?delete this._dirty[i.uid]:(t.push(i),i._beforeChanged())})),t.forEach((e=>{e._changed(),delete this._dirty[e.uid],e._clearDirty()})),this._isDirty=!1;const i={},a=[];(0,s.H)(this._dirtyBounds).forEach((e=>{const t=this._dirtyBounds[e];delete this._dirtyBounds[e],t.isDisposed()||(i[t.uid]=t.depth(),a.push(t))})),this._positionHTMLElements(),a.sort(((e,t)=>(0,s.aE)(i[t.uid],i[e.uid]))),a.forEach((e=>{e._updateBounds()}));const r=this._dirtyPositions;(0,s.H)(r).forEach((e=>{const t=r[e];delete r[e],t.isDisposed()||t._updatePosition()})),t.forEach((e=>{e._afterChanged()}))}_renderFrame(e){if(this._updateTick){this.events.isEnabled("framestarted")&&this.events.dispatch("framestarted",{type:"framestarted",target:this,timestamp:e}),this._checkComputedStyles(),this._runTickers(e);const t=this._runAnimations(e);return this._runDirties(),this._render(),this._renderer.resetImageArray(),this._positionHTMLElements(),this.events.isEnabled("frameended")&&this.events.dispatch("frameended",{type:"frameended",target:this,timestamp:e}),0===this._tickers.length&&t&&!this._isDirtyAnimation&&!this._isDirty}return!0}_runTicker(e,t){this.isDisposed()||(this.animationTime=e,this._renderFrame(e)?(this._ticker=null,this.animationTime=null):this._paused||(t?this._ticker:me(this.fps,this._ticker)))}_runTickerNow(e=1e4){if(!this.isDisposed()){const t=performance.now()+e;for(;;){const e=performance.now();if(e>=t){this.animationTime=null;break}if(this.animationTime=e,this._renderFrame(e)){this.animationTime=null;break}}}}_startTicker(){null===this._ticker&&(this.animationTime=null,this._ticker=e=>{this._runTicker(e)},me(this.fps,this._ticker))}get updateTick(){return this._updateTick}set updateTick(e){this._updateTick=e,e&&this._startTicker()}_addDirtyEntity(e){this._isDirty=!0,void 0===this._dirty[e.uid]&&(this._dirty[e.uid]=e),this._startTicker()}_addDirtyParent(e){this._isDirty=!0,this._isDirtyParents=!0,void 0===this._dirtyParents[e.uid]&&(this._dirtyParents[e.uid]=e),this._startTicker()}_addDirtyBounds(e){this._isDirty=!0,void 0===this._dirtyBounds[e.uid]&&(this._dirtyBounds[e.uid]=e),this._startTicker()}_addDirtyPosition(e){this._isDirty=!0,void 0===this._dirtyPositions[e.uid]&&(this._dirtyPositions[e.uid]=e),this._startTicker()}_addAnimation(e){this._isDirtyAnimation=!0,-1===this._animations.indexOf(e)&&this._animations.push(e),this._startTicker()}_markDirty(){this._isDirty=!0}_markDirtyRedraw(){this.events.once("frameended",(()=>{this._isDirty=!0,this._startTicker()}))}eachFrame(e){return this._tickers.push(e),this._startTicker(),new s.af((()=>{(0,s.am)(this._tickers,e)}))}markDirtyGlobal(e){e||(e=this.container),e.walkChildren((e=>{e instanceof s.g&&this.markDirtyGlobal(e),e.markDirty(),e.markDirtyBounds()}))}width(){return Math.floor(this._getCalculatedSize(this._getRealSize()).width)}height(){return Math.floor(this._getCalculatedSize(this._getRealSize()).height)}dispose(){this._isDisposed||(this._isDisposed=!0,this._rootContainer.dispose(),this._renderer.dispose(),this.horizontalLayout.dispose(),this.verticalLayout.dispose(),this.interfaceColors.dispose(),(0,s.i)(this._disposers,(e=>{e.dispose()})),this._inner&&(0,s.aF)(this._inner),(0,s.r)(s.aA.rootElements,this))}isDisposed(){return this._isDisposed}readerAlert(e){!0!==this._a11yD&&(this._readerAlertElement.innerHTML=(0,s.aG)(e))}setThemes(e){this._rootContainer.set("themes",e);const t=this.tooltipContainer;t&&t._applyThemes();const i=this.interfaceColors;i&&i._applyThemes()}_addTooltip(){if(!this.tooltipContainer){const e=this._tooltipContainerSettings,t=this._rootContainer.children.push(s.g.new(this,{position:"absolute",isMeasured:!1,width:s.a,height:s.a,layer:e?35:30,layerMargin:e||void 0}));this.tooltipContainer=t;const i=a.T.new(this,{});this.container.set("tooltip",i),i.hide(0),this._tooltip=i}}_registerTabindexOrder(e){1!=this._a11yD&&(e.get("focusable")?(0,s.ao)(this._tabindexes,e):(0,s.r)(this._tabindexes,e),this._invalidateTabindexes())}_unregisterTabindexOrder(e){1!=this._a11yD&&((0,s.r)(this._tabindexes,e),this._invalidateTabindexes())}_invalidateTabindexes(){if(1==this._a11yD)return;this._tabindexes.sort(((e,t)=>{const i=e.get("tabindexOrder",0),s=t.get("tabindexOrder",0);return i==s?0:i>s?1:-1}));const e=[];(0,s.i)(this._tabindexes,((t,i)=>{t.getPrivate("focusElement")?this._moveFocusElement(i,t):this._makeFocusElement(i,t);const s=t.get("focusableGroup");s&&!1!==t.getPrivate("focusable")&&(-1!==e.indexOf(s)?t.getPrivate("focusElement").dom.setAttribute("tabindex","-1"):e.push(s))}))}_updateCurrentFocus(){1!=this._a11yD&&this._focusedSprite&&(this._decorateFocusElement(this._focusedSprite),this._positionFocusElement(this._focusedSprite))}_decorateFocusElement(e,t){if(1==this._a11yD)return;if(t||(t=e.getPrivate("focusElement").dom),!t)return;const i=e.get("role");i?t.setAttribute("role",i):t.removeAttribute("role");const a=e.get("ariaLabel");if(a){const i=(0,s.s)(e,a);t.setAttribute("aria-label",i)}else t.removeAttribute("aria-label");const r=e.get("ariaLive");r?t.setAttribute("aria-live",r):t.removeAttribute("aria-live");const n=e.get("ariaChecked");null!=n&&i&&-1!==["checkbox","option","radio","menuitemcheckbox","menuitemradio","treeitem"].indexOf(i)?t.setAttribute("aria-checked",n?"true":"false"):t.removeAttribute("aria-checked");const o=e.get("ariaCurrent");null!=o?t.setAttribute("aria-current",o):t.removeAttribute("aria-current");const l=e.get("ariaSelected");null!=l&&i&&-1!==["gridcell","option","row","tab","columnheader","rowheader","treeitem"].indexOf(i)?t.setAttribute("aria-selected",l?"true":"false"):t.removeAttribute("aria-selected"),e.get("ariaHidden")?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden");const h=e.get("ariaOrientation");h?t.setAttribute("aria-orientation",h):t.removeAttribute("aria-orientation");const d=e.get("ariaValueNow");d?t.setAttribute("aria-valuenow",d):t.removeAttribute("aria-valuenow");const u=e.get("ariaValueMin");u?t.setAttribute("aria-valuemin",u):t.removeAttribute("aria-valuemin");const c=e.get("ariaValueMax");c?t.setAttribute("aria-valuemax",c):t.removeAttribute("aria-valuemax");const g=e.get("ariaValueText");g?t.setAttribute("aria-valuetext",g):t.removeAttribute("aria-valuetext");const p=e.get("ariaControls");p?t.setAttribute("aria-controls",p):t.removeAttribute("aria-controls"),e.get("visible")&&0!==e.get("opacity")&&"tooltip"!=e.get("role")&&!e.isHidden()&&!1!==e.getPrivate("focusable")?("-1"!=t.getAttribute("tabindex")&&t.setAttribute("tabindex",""+this.tabindex),t.removeAttribute("aria-hidden")):(t.removeAttribute("tabindex"),t.setAttribute("aria-hidden","true"))}_makeFocusElement(e,t){if(t.getPrivate("focusElement")||1==this._a11yD)return;const i=document.createElement("div");"tooltip"!=t.get("role")&&(i.tabIndex=this.tabindex),i.style.position="absolute",(0,s.av)(i,!1);const a=[];t.setPrivate("focusElement",{dom:i,disposers:a}),this._decorateFocusElement(t),a.push((0,s.h)(i,"focus",(e=>{this._handleFocus(e)}))),a.push((0,s.h)(i,"blur",(e=>{this._handleBlur(e)}))),this._moveFocusElement(e,t)}_removeFocusElement(e){if(1==this._a11yD)return;(0,s.r)(this._tabindexes,e);const t=e.getPrivate("focusElement");t&&(this._focusElementContainer.removeChild(t.dom),(0,s.i)(t.disposers,(e=>{e.dispose()})))}_hideFocusElement(e){1!=this._a11yD&&(e.getPrivate("focusElement").dom.style.display="none")}_moveFocusElement(e,t){if(1==this._a11yD)return;const i=this._focusElementContainer,s=t.getPrivate("focusElement").dom;if(s===this._focusElementContainer.children[e])return;const a=this._focusElementContainer.children[e+1];a?i.insertBefore(s,a):i.append(s)}_positionFocusElement(e){if(1==this._a11yD||null==e)return;const t=e.globalBounds();let i=t.right==t.left?e.width():t.right-t.left,s=t.top==t.bottom?e.height():t.bottom-t.top;const a=void 0!==this._settings.focusPadding?this._settings.focusPadding:2;let r=t.left-a,n=t.top-a;i<0&&(r+=i,i=Math.abs(i)),s<0&&(n+=s,s=Math.abs(s));const o=e.getPrivate("focusElement").dom;o.style.top=n+"px",o.style.left=r+"px",o.style.width=i+2*a+"px",o.style.height=s+2*a+"px"}_getSpriteByFocusElement(e){let t;return(0,s.aq)(this._tabindexes,((i,s)=>i.getPrivate("focusElement").dom!==e||(t=i,!1))),t}_handleFocus(e){if(1==this._a11yD)return;const t=this._getSpriteByFocusElement(e.target);t&&(t.isVisibleDeep()?(this._positionFocusElement(t),this._focusedSprite=t,t.events.isEnabled("focus")&&t.events.dispatch("focus",{type:"focus",originalEvent:e,target:t})):this._focusNext(e.target,this._isShift?-1:1))}_focusNext(e,t){if(1==this._a11yD)return;const i=Array.from(document.querySelectorAll(["a[href]","area[href]","button:not([disabled])","details","input:not([disabled])","iframe:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[contentEditable=""]','[contentEditable="true"]','[contentEditable="TRUE"]','[tabindex]:not([tabindex^="-"])'].join(",")));let s=i.indexOf(e)+t;s<0?s=i.length-1:s>=i.length&&(s=0),i[s].focus()}_handleBlur(e){if(1==this._a11yD)return;const t=this._focusedSprite;t&&!t.isDisposed()&&t.events.isEnabled("blur")&&t.events.dispatch("blur",{type:"blur",originalEvent:e,target:t}),this._focusedSprite=void 0}updateTooltip(e){if(1==this._a11yD)return;const t=(0,s.aG)(e._getText());let i=e.getPrivate("tooltipElement");"tooltip"==e.get("role")&&""!=t?(i||(i=this._makeTooltipElement(e)),i.innerHTML!=t&&(i.innerHTML=t),i.setAttribute("aria-hidden",e.isVisibleDeep()?"false":"true")):i&&(i.remove(),e.removePrivate("tooltipElement"))}_makeTooltipElement(e){const t=this._tooltipElementContainer,i=document.createElement("div");return i.style.position="absolute",i.style.width="1px",i.style.height="1px",i.style.overflow="hidden",i.style.clip="rect(1px, 1px, 1px, 1px)",(0,s.av)(i,!1),this._decorateFocusElement(e,i),t.append(i),e.setPrivate("tooltipElement",i),i}_removeTooltipElement(e){if(1==this._a11yD)return;const t=e.getPrivate("tooltipElement");if(t){const e=t.parentElement;e&&e.removeChild(t)}}_invalidateAccessibility(e){if(1==this._a11yD)return;this._focusElementDirty=!0;const t=e.getPrivate("focusElement");e.get("focusable")?t&&(this._decorateFocusElement(e),this._positionFocusElement(e)):t&&this._removeFocusElement(e)}focused(e){return this._focusedSprite===e}documentPointToRoot(e){const t=this._getRealSize(),i=this._getCalculatedSize(t),s=i.width/t.width,a=i.height/t.height;return{x:(e.x-t.left)*s,y:(e.y-t.top)*a}}rootPointToDocument(e){const t=this._getRealSize(),i=this._getCalculatedSize(t),s=i.width/t.width,a=i.height/t.height;return{x:e.x/s+t.left,y:e.y/a+t.top}}addDisposer(e){return this._disposers.push(e),e}_updateComputedStyles(){const e=window.getComputedStyle(this.dom);let t="";(0,s._)(e,((e,i)=>{(0,s.U)(e)&&e.match(/^font/)&&(t+=i)}));const i=t!=this._fontHash;return i&&(this._fontHash=t),i}_checkComputedStyles(){this._updateComputedStyles()&&this._invalidateLabelBounds(this.container)}_invalidateLabelBounds(e){e instanceof s.g?e.children.each((e=>{this._invalidateLabelBounds(e)})):e instanceof s.w&&e.markDirtyBounds()}_hasLicense(){for(let e=0;e<s.aA.licenses.length;e++)if(s.aA.licenses[e].match(/^AM5C.{5,}/i))return!0;return!1}_licenseApplied(){this._logo&&this._logo.set("forceHidden",!0)}get debugGhostView(){return this._renderer.debugGhostView}set debugGhostView(e){this._renderer.debugGhostView=e}set tapToActivate(e){this._renderer.tapToActivate=e}get tapToActivate(){return this._renderer.tapToActivate}set tapToActivateTimeout(e){this._renderer.tapToActivateTimeout=e}get tapToActivateTimeout(){return this._renderer.tapToActivateTimeout}_makeHTMLElement(e){const t=this._htmlElementContainer,i=document.createElement("div");return e.setPrivate("htmlElement",i),i.style.position="absolute",i.style.overflow="auto",i.style.boxSizing="border-box",(0,s.av)(i,e.get("interactive",!1)),e.events.isEnabled("click")&&((0,s.av)(i,!0),this._disposers.push((0,s.h)(i,"click",(t=>{const i=this._renderer.getEvent(t);e.events.dispatch("click",{type:"click",originalEvent:i.event,point:i.point,simulated:!1,target:e})})))),this._positionHTMLElement(e),t.append(i),(0,s.ao)(this._htmlEnabledContainers,e),i}_positionHTMLElements(){(0,s.i)(this._htmlEnabledContainers,(e=>{this._positionHTMLElement(e)}))}_positionHTMLElement(e){const t=e.getPrivate("htmlElement");if(t){(0,s.i)(["paddingTop","paddingRight","paddingBottom","paddingLeft","minWidth","minHeight","maxWidth","maxHeight"],(i=>{const s=e.get(i);t.style[i]=s?s+"px":""}));const i=e.compositeScale()||1,a=e.compositeRotation()||0;t.style.transform="",t.style.transformOrigin="";const r=e.compositeOpacity();setTimeout((()=>{t.style.opacity=r+""}),10);const n=e.isVisibleDeep();n&&(t.style.display="block");let o={x:e.x(),y:e.y()};e.parent&&(o=e.parent.toGlobal(o)),t.style.top=o.y+"px",t.style.left=o.x+"px";const l=e.get("width"),h=e.get("height");let d=0,u=0;if(l&&(d=e.width()),h&&(u=e.height()),!l||!h){t.style.position="fixed",t.style.width="",t.style.height="";const a=t.getBoundingClientRect();t.style.position="absolute",l||(d=a.width),h||(u=a.height);let r=d/i,n=u/i,o=e.get("centerX",0),c=e.get("centerY",0),g=0,p=0,m=0,b=0;o instanceof s.P?(g=-o.value*r,p=(1-o.value)*r):(g=-o,p=r-o),c instanceof s.P?(m=-c.value*n,b=(1-c.value)*n):(m=-c,b=n-c),e._localBounds={left:g,right:p,top:m,bottom:b};let f=e._adjustedLocalBounds,_=e._display.getAdjustedBounds(e._localBounds);e._adjustedLocalBounds=_,f.left===_.left&&f.right===_.right&&f.top===_.top&&f.bottom===_.bottom||e.markDirtyBounds()}d>0&&(t.style.minWidth=d+"px"),u>0&&(t.style.minHeight=u+"px"),n&&0!=r||(t.style.display="none");const c=e.get("centerX",0),g=(0,s.aH)(c)?c.percent+"%":c+"px",p=e.get("centerY",0),m=(0,s.aH)(p)?p.percent+"%":p+"px";(c||p)&&(t.style.transform="translate(-"+g+", -"+m+")"+t.style.transform),1!=i&&(t.style.transform+="scale("+i+")"),0!=a&&(t.style.transform+=" rotate("+a+"deg)"),""!=t.style.transform&&(t.style.transformOrigin=g+" "+m)}}_setHTMLContent(e,t){let i=e.getPrivate("htmlElement");i||(i=this._makeHTMLElement(e)),i.innerHTML!=t&&(i.innerHTML=t)}_removeHTMLContent(e){let t=e.getPrivate("htmlElement");t&&(this._htmlElementContainer.removeChild(t),e.removePrivate("htmlElement")),(0,s.r)(this._htmlEnabledContainers,e)}}(0,s.aK)("AM5C241025748");const fe="en-us",_e=new Map([["ar",()=>i.e(848).then(i.bind(i,52665))],["bg-bg",()=>i.e(848).then(i.bind(i,90647))],["bs-ba",()=>i.e(891).then(i.bind(i,58841))],["ca-es",()=>i.e(848).then(i.bind(i,62657))],["cs-cz",()=>i.e(891).then(i.bind(i,79914))],["da-dk",()=>i.e(891).then(i.bind(i,39585))],["de-de",()=>i.e(848).then(i.bind(i,94071))],["de-ch",()=>i.e(848).then(i.bind(i,41743))],["el-gr",()=>i.e(848).then(i.bind(i,25931))],["en-us",()=>i.e(569).then(i.bind(i,1856))],["en-ca",()=>i.e(772).then(i.bind(i,43672))],["es-es",()=>i.e(891).then(i.bind(i,95681))],["et-ee",()=>i.e(891).then(i.bind(i,14036))],["fi-fi",()=>i.e(848).then(i.bind(i,22659))],["fr-fr",()=>i.e(910).then(i.bind(i,38817))],["he-il",()=>i.e(848).then(i.bind(i,52133))],["hr-hr",()=>i.e(891).then(i.bind(i,40927))],["hu-hu",()=>i.e(891).then(i.bind(i,23703))],["id-id",()=>i.e(848).then(i.bind(i,39427))],["it-it",()=>i.e(910).then(i.bind(i,99107))],["ja-jp",()=>i.e(891).then(i.bind(i,68148))],["ko-kr",()=>i.e(569).then(i.bind(i,90158))],["lt-lt",()=>i.e(891).then(i.bind(i,7477))],["lv-lv",()=>i.e(848).then(i.bind(i,29877))],["nb-no",()=>i.e(891).then(i.bind(i,24646))],["nl-nl",()=>i.e(891).then(i.bind(i,18137))],["pl-pl",()=>i.e(891).then(i.bind(i,28549))],["pt-br",()=>i.e(569).then(i.bind(i,95029))],["pt-pt",()=>i.e(891).then(i.bind(i,82917))],["ro-ro",()=>i.e(891).then(i.bind(i,52967))],["ru-ru",()=>i.e(569).then(i.bind(i,68275))],["sk-sk",()=>i.e(891).then(i.bind(i,80257))],["sl-sl",()=>i.e(772).then(i.bind(i,59251))],["sr-rs",()=>i.e(848).then(i.bind(i,37961))],["sv-se",()=>i.e(891).then(i.bind(i,48246))],["th-th",()=>i.e(848).then(i.bind(i,22013))],["tr-tr",()=>i.e(891).then(i.bind(i,17917))],["uk-ua",()=>i.e(848).then(i.bind(i,50135))],["vi-vn",()=>i.e(891).then(i.bind(i,90938))],["zh-cn",()=>i.e(891).then(i.bind(i,67031))],["zh-hk",()=>i.e(891).then(i.bind(i,92150))],["zh-tw",()=>i.e(891).then(i.bind(i,92150))]]);async function ye(e,t=(0,n.JK)()){const i=be.new(e);return i.locale=(await _e.get(function(e){return e?_e.has(e.toLowerCase())?e.toLowerCase():function(e){const t=e.split("-")[0].toLowerCase();let i=null;for(const e of _e.keys())if(e.startsWith(t)){i=e;break}return i}(e)||fe:fe}(t))()).default,i}},12103:(e,t,i)=>{i.d(t,{C:()=>o,D:()=>n,S:()=>k,T:()=>T,a:()=>u,c:()=>m,r:()=>d,w:()=>w});var s=i(82392),a=i(65009);class r extends a.F{constructor(){super(...arguments),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}incrementRef(){}decrementRef(){}_onPush(e){this.processor&&this.processor.processRow(e),super._onPush(e)}_onInsertIndex(e,t){this.processor&&this.processor.processRow(t),super._onInsertIndex(e,t)}_onSetIndex(e,t,i){this.processor&&this.processor.processRow(i),super._onSetIndex(e,t,i)}}class n extends a.S{constructor(e,t,i){super(i),Object.defineProperty(this,"component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"close",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.dataContext=t,this.component=e,this._settings.visible=!0,this._checkDirty()}markDirty(){this.component.markDirtyValues(this)}_startAnimation(){this.component._root._addAnimation(this)}_animationTime(){return this.component._root.animationTime}_dispose(){this.component&&this.component.disposeDataItem(this),super._dispose()}show(e){this.setRaw("visible",!0),this.component&&this.component.showDataItem(this,e)}hide(e){this.setRaw("visible",!1),this.component&&this.component.hideDataItem(this,e)}isHidden(){return!this.get("visible")}}class o extends a.g{constructor(){super(...arguments),Object.defineProperty(this,"_data",{enumerable:!0,configurable:!0,writable:!0,value:new r}),Object.defineProperty(this,"_dataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mainDataItems",{enumerable:!0,configurable:!0,writable:!0,value:this._dataItems}),Object.defineProperty(this,"valueFields",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"fields",{enumerable:!0,configurable:!0,writable:!0,value:["id"]}),Object.defineProperty(this,"_valueFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueFieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inited",{enumerable:!0,configurable:!0,writable:!0,value:!1})}set data(e){e.incrementRef(),this._data.decrementRef(),this._data=e}get data(){return this._data}_dispose(){super._dispose(),this._data.decrementRef()}_onDataClear(){}_afterNew(){super._afterNew(),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll((e=>{const t=this._mainDataItems;if(this.markDirtyValues(),this._markDirtyGroup(),this._dataChanged=!0,"clear"===e.type)(0,a.i)(t,(e=>{e.dispose()})),t.length=0,this._onDataClear();else if("push"===e.type){const i=new n(this,e.newValue,this._makeDataItem(e.newValue));t.push(i),this.processDataItem(i)}else if("setIndex"===e.type){const i=t[e.index],s=this._makeDataItem(e.newValue);i.bullets&&0==i.bullets.length&&(i.bullets=void 0),(0,a.H)(s).forEach((e=>{i.animate({key:e,to:s[e],duration:this.get("interpolationDuration",0),easing:this.get("interpolationEasing")})})),i.dataContext=e.newValue}else if("insertIndex"===e.type){const i=new n(this,e.newValue,this._makeDataItem(e.newValue));t.splice(e.index,0,i),this.processDataItem(i)}else if("removeIndex"===e.type)t[e.index].dispose(),t.splice(e.index,1);else{if("moveIndex"!==e.type)throw new Error("Unknown IStreamEvent type");{const i=t[e.oldIndex];t.splice(e.oldIndex,1),t.splice(e.newIndex,0,i)}}this._afterDataChange()})))}_updateFields(){this.valueFields&&(this._valueFields=[],this._valueFieldsF={},(0,a.i)(this.valueFields,(e=>{this.get(e+"Field")&&(this._valueFields.push(e),this._valueFieldsF[e]={fieldKey:e+"Field",workingKey:e+"Working"})}))),this.fields&&(this._fields=[],this._fieldsF={},(0,a.i)(this.fields,(e=>{this.get(e+"Field")&&(this._fields.push(e),this._fieldsF[e]=e+"Field")})))}get dataItems(){return this._dataItems}processDataItem(e){}_makeDataItem(e){const t={};return this._valueFields&&(0,a.i)(this._valueFields,(i=>{const s=this.get(this._valueFieldsF[i].fieldKey);t[i]=e[s],t[this._valueFieldsF[i].workingKey]=t[i]})),this._fields&&(0,a.i)(this._fields,(i=>{const s=this.get(this._fieldsF[i]);t[i]=e[s]})),t}makeDataItem(e,t){let i=new n(this,t,e);return this.processDataItem(i),i}pushDataItem(e,t){const i=this.makeDataItem(e,t);return this._mainDataItems.push(i),i}disposeDataItem(e){}showDataItem(e,t){return(0,s.d)(this,void 0,void 0,(function*(){e.set("visible",!0)}))}hideDataItem(e,t){return(0,s.d)(this,void 0,void 0,(function*(){e.set("visible",!1)}))}_clearDirty(){super._clearDirty(),this._valuesDirty=!1}_afterDataChange(){}_afterChanged(){if(super._afterChanged(),this._dataChanged){const e="datavalidated";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this}),this._dataChanged=!1}this.inited=!0}markDirtyValues(e){this.markDirty(),this._valuesDirty=!0}_markDirtyGroup(){this._dataGrouped=!1}markDirtySize(){this._sizeDirty=!0,this.markDirty()}}Object.defineProperty(o,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Component"}),Object.defineProperty(o,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:a.g.classNames.concat([o.className])});let l={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2629742400,year:31536e6};function h(e,t){return null==t&&(t=1),l[e]*t}function d(e,t,i,s,r,n,o){if(!o||r){let o=0;switch(r||"millisecond"==t||(o=e.getTimezoneOffset(),e.setUTCMinutes(e.getUTCMinutes()-o)),t){case"day":let t=e.getUTCDate();if(i>1){if(n){n=d(n,"day",1);let t=e.getTime()-n.getTime(),s=Math.floor(t/h("day")/i),a=h("day",s*i);e.setTime(n.getTime()+a-o*h("minute"))}}else e.setUTCDate(t);e.setUTCHours(0,0,0,0);break;case"second":let r=e.getUTCSeconds();i>1&&(r=Math.floor(r/i)*i),e.setUTCSeconds(r,0);break;case"millisecond":if(1==i)return e;let l=e.getUTCMilliseconds();l=Math.floor(l/i)*i,e.setUTCMilliseconds(l);break;case"hour":let u=e.getUTCHours();i>1&&(u=Math.floor(u/i)*i),e.setUTCHours(u,0,0,0);break;case"minute":let c=e.getUTCMinutes();i>1&&(c=Math.floor(c/i)*i),e.setUTCMinutes(c,0,0);break;case"month":let g=e.getUTCMonth();i>1&&(g=Math.floor(g/i)*i),e.setUTCMonth(g,1),e.setUTCHours(0,0,0,0);break;case"year":let p=e.getUTCFullYear();i>1&&(p=Math.floor(p/i)*i),e.setUTCFullYear(p,0,1),e.setUTCHours(0,0,0,0);break;case"week":if(i>1&&n){n=d(n,"week",1);let t=e.getTime()-n.getTime(),s=Math.floor(t/h("week")/i),a=h("week",s*i);e.setTime(n.getTime()+a-o*h("minute"))}let m=e.getUTCDate(),b=e.getUTCDay();(0,a.k)(s)||(s=1),m=b>=s?m-b+s:m-(7+b)+s,e.setUTCDate(m),e.setUTCHours(0,0,0,0)}if(!r&&"millisecond"!=t&&(e.setUTCMinutes(e.getUTCMinutes()+o),"day"==t||"week"==t||"month"==t||"year"==t)){let t=e.getTimezoneOffset();if(t!=o){let i=t-o;e.setUTCMinutes(e.getUTCMinutes()+i)}}return e}{if(isNaN(e.getTime()))return e;let l=o.offsetUTC(e),u=e.getTimezoneOffset(),c=o.parseDate(e),g=c.year,p=c.month,m=c.day,b=c.hour,f=c.minute,_=c.second,y=c.millisecond,v=c.weekday,x=l-u;switch(t){case"day":if(i>1&&n){n=d(n,"day",1,s,r,void 0,o);let t=e.getTime()-n.getTime(),a=Math.floor(t/h("day")/i),l=h("day",a*i);e.setTime(n.getTime()+l),c=o.parseDate(e),g=c.year,p=c.month,m=c.day}b=0,f=x,_=0,y=0;break;case"second":f+=x,i>1&&(_=Math.floor(_/i)*i),y=0;break;case"millisecond":f+=x,i>1&&(y=Math.floor(y/i)*i);break;case"hour":i>1&&(b=Math.floor(b/i)*i),f=x,_=0,y=0;break;case"minute":i>1&&(f=Math.floor(f/i)*i),f+=x,_=0,y=0;break;case"month":i>1&&(p=Math.floor(p/i)*i),m=1,b=0,f=x,_=0,y=0;break;case"year":i>1&&(g=Math.floor(g/i)*i),p=0,m=1,b=0,f=x,_=0,y=0;break;case"week":(0,a.k)(s)||(s=1),m=v>=s?m-v+s:m-(7+v)+s,b=0,f=x,_=0,y=0}let w=(e=new Date(g,p,m,b,f,_,y)).getTimezoneOffset(),P=o.offsetUTC(e)-w;return P!=x&&e.setTime(e.getTime()+6e4*(P-x)),e}}class u extends o{constructor(){super(...arguments),Object.defineProperty(this,"_aggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionAggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_psi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pei",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:new a.F}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:a.g.new(this._root,{width:a.a,height:a.a,position:"absolute"})})}_afterNew(){this.valueFields.push("value","customValue"),super._afterNew(),this.setPrivate("customData",{}),this._disposers.push(this.bullets.events.onAll((e=>{if("clear"===e.type)this._handleBullets(this.dataItems);else if("push"===e.type)this._handleBullets(this.dataItems);else if("setIndex"===e.type)this._handleBullets(this.dataItems);else if("insertIndex"===e.type)this._handleBullets(this.dataItems);else if("removeIndex"===e.type)this._handleBullets(this.dataItems);else{if("moveIndex"!==e.type)throw new Error("Unknown IListEvent type");this._handleBullets(this.dataItems)}})))}_dispose(){this.bulletsContainer.dispose(),super._dispose()}startIndex(){let e=this.dataItems.length;return Math.min(this.getPrivate("startIndex",0),e)}endIndex(){let e=this.dataItems.length;return Math.min(this.getPrivate("endIndex",e),e)}_handleBullets(e){(0,a.i)(e,(e=>{const t=e.bullets;t&&((0,a.i)(t,(e=>{e.dispose()})),e.bullets=void 0)})),this.markDirtyValues()}getDataItemById(e){return(0,a.I)(this.dataItems,(t=>t.get("id")==e))}_makeBullets(e){this._shouldMakeBullet(e)&&(e.bullets=[],this.bullets.each((t=>{this._makeBullet(e,t)})))}_shouldMakeBullet(e){return!0}_makeBullet(e,t,i){const s=t(this._root,this,e);return s&&(s._index=i,this._makeBulletReal(e,s)),s}_makeBulletReal(e,t){let i=t.get("sprite");i&&(i._setDataItem(e),i.setRaw("position","absolute"),this.bulletsContainer.children.push(i)),t.series=this,e.bullets.push(t)}addBullet(e,t){e.bullets||(e.bullets=[]),t&&this._makeBulletReal(e,t)}_clearDirty(){super._clearDirty(),this._aggregatesCalculated=!1,this._selectionAggregatesCalculated=!1}_prepareChildren(){super._prepareChildren();let e=this.startIndex(),t=this.endIndex();if(this.isDirty("name")&&this.updateLegendValue(),this.isDirty("heatRules")&&(this._valuesDirty=!0),this.isPrivateDirty("baseValueSeries")){const e=this.getPrivate("baseValueSeries");e&&this._disposers.push(e.onPrivate("startIndex",(()=>{this.markDirtyValues()})))}if(this.get("calculateAggregates")&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0,0!=e&&(this._psi=void 0))),this._psi==e&&this._pei==t&&!this.isPrivateDirty("adjustedStartIndex")||this._selectionAggregatesCalculated||(0===e&&t===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(e,t),this._selectionAggregatesCalculated=!0)),this.isDirty("tooltip")){let e=this.get("tooltip");e&&(e.hide(0),e.set("tooltipTarget",this))}if(this.isDirty("fill")||this.isDirty("stroke")){let e;const t=this.get("legendDataItem");if(t&&(e=t.get("markerRectangle"),e&&this.isVisible())){if(this.isDirty("stroke")){let t=this.get("stroke");e.set("stroke",t)}if(this.isDirty("fill")){let t=this.get("fill");e.set("fill",t)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0){let e=this.startIndex(),t=this.endIndex();t<this.dataItems.length&&t++;for(let i=e;i<t;i++){let e=this.dataItems[i];e.bullets||this._makeBullets(e)}}}_adjustStartIndex(e){return e}_calculateAggregates(e,t){let i=this._valueFields;if(!i)throw new Error("No value fields are set for the series.");const s={},r={},n={},o={},l={},h={},d={},u={},c={};(0,a.i)(i,(e=>{s[e]=0,r[e]=0,n[e]=0})),(0,a.i)(i,(i=>{let a=i+"Change",g=i+"ChangePercent",p=i+"ChangePrevious",m=i+"ChangePreviousPercent",b=i+"ChangeSelection",f=i+"ChangeSelectionPercent",_="valueY";"valueX"!=i&&"openValueX"!=i&&"lowValueX"!=i&&"highValueX"!=i||(_="valueX");const y=this.getPrivate("baseValueSeries"),v=this.getPrivate("adjustedStartIndex",e);for(let x=v;x<t;x++){const t=this.dataItems[x];if(t){let v=t.get(i);null!=v&&(n[i]++,s[i]+=v,r[i]+=Math.abs(v),u[i]=s[i]/n[i],(o[i]>v||null==o[i])&&(o[i]=v),(l[i]<v||null==l[i])&&(l[i]=v),d[i]=v,null==h[i]&&(h[i]=v,c[i]=v,y&&(h[_]=y._getBase(_))),0===e&&(t.setRaw(a,v-h[_]),t.setRaw(g,(v-h[_])/h[_]*100)),t.setRaw(p,v-c[_]),t.setRaw(m,(v-c[_])/c[_]*100),t.setRaw(b,v-h[_]),t.setRaw(f,(v-h[_])/h[_]*100),c[i]=v)}}if(t<this.dataItems.length-1){const e=this.dataItems[t];if(e){let t=e.get(i);e.setRaw(p,t-c[_]),e.setRaw(m,(t-c[_])/c[_]*100),e.setRaw(b,t-h[_]),e.setRaw(f,(t-h[_])/h[_]*100)}}e>0&&e--,delete c[i];for(let t=e;t<v;t++){const e=this.dataItems[t];if(e){let t=e.get(i);null==c[i]&&(c[i]=t),null!=t&&(e.setRaw(p,t-c[_]),e.setRaw(m,(t-c[_])/c[_]*100),e.setRaw(b,t-h[_]),e.setRaw(f,(t-h[_])/h[_]*100),c[i]=t)}}})),(0,a.i)(i,(e=>{this.setPrivate(e+"AverageSelection",u[e]),this.setPrivate(e+"CountSelection",n[e]),this.setPrivate(e+"SumSelection",s[e]),this.setPrivate(e+"AbsoluteSumSelection",r[e]),this.setPrivate(e+"LowSelection",o[e]),this.setPrivate(e+"HighSelection",l[e]),this.setPrivate(e+"OpenSelection",h[e]),this.setPrivate(e+"CloseSelection",d[e])})),0===e&&t===this.dataItems.length&&(0,a.i)(i,(e=>{this.setPrivate(e+"Average",u[e]),this.setPrivate(e+"Count",n[e]),this.setPrivate(e+"Sum",s[e]),this.setPrivate(e+"AbsoluteSum",r[e]),this.setPrivate(e+"Low",o[e]),this.setPrivate(e+"High",l[e]),this.setPrivate(e+"Open",h[e]),this.setPrivate(e+"Close",d[e])}))}_updateChildren(){super._updateChildren(),this._psi=this.startIndex(),this._pei=this.endIndex(),this.isDirty("visible")&&this.bulletsContainer.set("visible",this.get("visible"));const e=this.get("heatRules");if(this._valuesDirty&&e&&e.length>0&&(0,a.i)(e,(e=>{const t=e.minValue||this.getPrivate(e.dataField+"Low")||0,i=e.maxValue||this.getPrivate(e.dataField+"High")||0;(0,a.i)(e.target._entities,(s=>{const r=s.dataItem.get(e.dataField);if(!(0,a.k)(r)){e.neutral&&s.set(e.key,e.neutral);const t=s.states;if(t){const i=t.lookup("default");i&&e.neutral&&i.set(e.key,e.neutral)}if(!e.customFunction)return}if(e.customFunction)e.customFunction.call(this,s,t,i,r);else{let n,o;n=e.logarithmic?(Math.log(r)*Math.LOG10E-Math.log(t)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(t)*Math.LOG10E):(r-t)/(i-t),!(0,a.k)(r)||(0,a.k)(n)&&Math.abs(n)!=1/0||(n=.5),(0,a.k)(e.min)?o=e.min+(e.max-e.min)*n:e.min instanceof a.C?o=a.C.interpolate(n,e.min,e.max):e.min instanceof a.P&&(o=(0,a.J)(n,e.min,e.max)),s.set(e.key,o);const l=s.states;if(l){const t=l.lookup("default");t&&t.set(e.key,o)}}}))})),this.get("visible")){let e=this.dataItems.length,t=this.startIndex(),i=this.endIndex();i<e&&i++,t>0&&t--;for(let e=0;e<t;e++)this._hideBullets(this.dataItems[e]);for(let e=t;e<i;e++)this._positionBullets(this.dataItems[e]);for(let t=i;t<e;t++)this._hideBullets(this.dataItems[t])}}_positionBullets(e){e.bullets&&(0,a.i)(e.bullets,(e=>{this._positionBullet(e);const t=e.get("sprite");e.get("dynamic")&&(t&&(t._markDirtyKey("fill"),t.markDirtySize()),t instanceof a.g&&t.walkChildren((e=>{e._markDirtyKey("fill"),e.markDirtySize(),e instanceof a.L&&e.text.markDirtyText()}))),t instanceof a.L&&t.get("populateText")&&t.text.markDirtyText()}))}_hideBullets(e){e.bullets&&(0,a.i)(e.bullets,(e=>{let t=e.get("sprite");t&&t.setPrivate("visible",!1)}))}_positionBullet(e){}_placeBulletsContainer(e){e.bulletsContainer.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){const e=this.bulletsContainer;e.parent&&e.parent.children.removeValue(e)}disposeDataItem(e){const t=e.bullets;t&&(0,a.i)(t,(e=>{e.dispose()}))}_getItemReaderLabel(){return""}showDataItem(e,t){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return(0,s.d)(this,void 0,void 0,(function*(){const s=[i.showDataItem.call(this,e,t)],r=e.bullets;r&&(0,a.i)(r,(e=>{const i=e.get("sprite");i&&s.push(i.show(t))})),yield Promise.all(s)}))}hideDataItem(e,t){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return(0,s.d)(this,void 0,void 0,(function*(){const s=[i.hideDataItem.call(this,e,t)],r=e.bullets;r&&(0,a.i)(r,(e=>{const i=e.get("sprite");i&&s.push(i.hide(t))})),yield Promise.all(s)}))}_sequencedShowHide(e,t){return(0,s.d)(this,void 0,void 0,(function*(){if(this.get("sequencedInterpolation"))if((0,a.k)(t)||(t=this.get("interpolationDuration",0)),t>0){const i=this.startIndex(),r=this.endIndex();yield Promise.all((0,a.K)(this.dataItems,((a,n)=>(0,s.d)(this,void 0,void 0,(function*(){let s=t||0;(n<i-10||n>r+10)&&(s=0);let o=this.get("sequencedDelay",0)+s/(r-i);yield function(e){return new Promise(((t,i)=>{setTimeout(t,e)}))}(o*(n-i)),e?yield this.showDataItem(a,s):yield this.hideDataItem(a,s)})))))}else yield Promise.all((0,a.K)(this.dataItems,(t=>e?this.showDataItem(t,0):this.hideDataItem(t,0))))}))}updateLegendValue(e){if(e){const t=e.get("legendDataItem");if(t){const i=t.get("valueLabel");if(i){const t=i.text;let s="";i._setDataItem(e),s=this.get("legendValueText",t.get("text","")),i.set("text",s),t.markDirtyText()}const s=t.get("label");if(s){const t=s.text;let i="";s._setDataItem(e),i=this.get("legendLabelText",t.get("text","")),s.set("text",i),t.markDirtyText()}}}}updateLegendMarker(e){}_onHide(){super._onHide();const e=this.getTooltip();e&&e.hide()}hoverDataItem(e){}unhoverDataItem(e){}_getBase(e){const t=this.dataItems[this.startIndex()];return t?t.get(e):0}}function c(e,t){for(let i=0,s=t.length;i<s;i++){const s=t[i];if(s.length>0){let t=s[0];if(t.length>0){let i=t[0];e.moveTo(i.x,i.y);for(let t=0,i=s.length;t<i;t++)g(e,s[t])}}}}function g(e,t){for(let i=0,s=t.length;i<s;i++){const s=t[i];e.lineTo(s.x,s.y)}}Object.defineProperty(u,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Series"}),Object.defineProperty(u,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:o.classNames.concat([u.className])});class p extends a.e{_beforeChanged(){super._beforeChanged(),(this.isDirty("points")||this.isDirty("segments")||this._sizeDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const e=this.get("points"),t=this.get("segments");if(e&&e.length>0){let t=e[0];this._display.moveTo(t.x,t.y),c(this._display,[[e]])}else if(t)c(this._display,t);else if(!this.get("draw")){let e=this.width(),t=this.height();this._display.moveTo(0,0),this._display.lineTo(e,t)}}}}function m(e){return function(){return e}}Object.defineProperty(p,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Line"}),Object.defineProperty(p,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:a.e.classNames.concat([p.className])});const b=Math.PI,f=2*b,_=1e-6,y=f-_;function v(e){this._+=e[0];for(let t=1,i=e.length;t<i;++t)this._+=arguments[t]+e[t]}class x{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?v:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return v;const i=10**t;return function(e){this._+=e[0];for(let t=1,s=e.length;t<s;++t)this._+=Math.round(arguments[t]*i)/i+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,i,s){this._append`Q${+e},${+t},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(e,t,i,s,a,r){this._append`C${+e},${+t},${+i},${+s},${this._x1=+a},${this._y1=+r}`}arcTo(e,t,i,s,a){if(e=+e,t=+t,i=+i,s=+s,(a=+a)<0)throw new Error(`negative radius: ${a}`);let r=this._x1,n=this._y1,o=i-e,l=s-t,h=r-e,d=n-t,u=h*h+d*d;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(u>_)if(Math.abs(d*o-l*h)>_&&a){let c=i-r,g=s-n,p=o*o+l*l,m=c*c+g*g,f=Math.sqrt(p),y=Math.sqrt(u),v=a*Math.tan((b-Math.acos((p+u-m)/(2*f*y)))/2),x=v/y,w=v/f;Math.abs(x-1)>_&&this._append`L${e+x*h},${t+x*d}`,this._append`A${a},${a},0,0,${+(d*c>h*g)},${this._x1=e+w*o},${this._y1=t+w*l}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,i,s,a,r){if(e=+e,t=+t,r=!!r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let n=i*Math.cos(s),o=i*Math.sin(s),l=e+n,h=t+o,d=1^r,u=r?s-a:a-s;null===this._x1?this._append`M${l},${h}`:(Math.abs(this._x1-l)>_||Math.abs(this._y1-h)>_)&&this._append`L${l},${h}`,i&&(u<0&&(u=u%f+f),u>y?this._append`A${i},${i},0,1,${d},${e-n},${t-o}A${i},${i},0,1,${d},${this._x1=l},${this._y1=h}`:u>_&&this._append`A${i},${i},0,${+(u>=b)},${d},${this._x1=e+i*Math.cos(a)},${this._y1=t+i*Math.sin(a)}`)}rect(e,t,i,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}}function w(e){let t=3;return e.digits=function(i){if(!arguments.length)return t;if(null==i)t=null;else{const e=Math.floor(i);if(!(e>=0))throw new RangeError(`invalid digits: ${i}`);t=e}return e},()=>new x(t)}class P extends a.g{constructor(){super(...arguments),Object.defineProperty(this,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(a.g.new(this._root,{width:a.a,height:a.a,interactiveChildren:!1}))}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:a.g.new(this._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:a.a,height:a.a})})}}Object.defineProperty(P,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"}),Object.defineProperty(P,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:a.g.classNames.concat([P.className])});class k extends P{constructor(){super(...arguments),Object.defineProperty(this,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:a.g.new(this._root,{width:a.a,height:a.a,isMeasured:!1})}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:new a.N})}_afterNew(){super._afterNew(),this._disposers.push(this.series);const e=this.seriesContainer.children;this._disposers.push(this.series.events.onAll((t=>{if("clear"===t.type){(0,a.i)(t.oldValues,(e=>{this._removeSeries(e)}));const e=this.get("colors");e&&e.reset();const i=this.get("patterns");i&&i.reset()}else if("push"===t.type)e.moveValue(t.newValue),this._processSeries(t.newValue);else if("setIndex"===t.type)e.setIndex(t.index,t.newValue),this._processSeries(t.newValue);else if("insertIndex"===t.type)e.insertIndex(t.index,t.newValue),this._processSeries(t.newValue);else if("removeIndex"===t.type)this._removeSeries(t.oldValue);else{if("moveIndex"!==t.type)throw new Error("Unknown IListEvent type");e.moveValue(t.value,t.newIndex),this._processSeries(t.value)}})))}_processSeries(e){e.chart=this,e._placeBulletsContainer(this)}_removeSeries(e){e.isDisposed()||(this.seriesContainer.children.removeValue(e),e._removeBulletsContainer())}}Object.defineProperty(k,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"}),Object.defineProperty(k,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:P.classNames.concat([k.className])});class T extends p{}Object.defineProperty(T,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tick"}),Object.defineProperty(T,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.classNames.concat([T.className])})},36529:(e,t,i)=>{i.d(t,{AxisRendererXAm5:()=>D,AxisRendererYAm5:()=>M,CategoryAxisAm5:()=>O,ColumnSeriesAm5:()=>S,LineSeriesAm5:()=>A,ValueAxisAm5:()=>w,XYChartAm5:()=>f,XYCursorAm5:()=>y});var s=i(65009),a=i(37059),r=i(63872),n=i(12103),o=i(57830),l=i(82392);function h(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function d(e){this._context=e}function u(e){return new d(e)}function c(e){return e[0]}function g(e){return e[1]}function p(e,t){var i=(0,n.c)(!0),s=null,a=u,r=null,o=(0,n.w)(l);function l(n){var l,d,u,c=(n=h(n)).length,g=!1;for(null==s&&(r=a(u=o())),l=0;l<=c;++l)!(l<c&&i(d=n[l],l,n))===g&&((g=!g)?r.lineStart():r.lineEnd()),g&&r.point(+e(d,l,n),+t(d,l,n));if(u)return r=null,u+""||null}return e="function"==typeof e?e:void 0===e?c:(0,n.c)(e),t="function"==typeof t?t:void 0===t?g:(0,n.c)(t),l.x=function(t){return arguments.length?(e="function"==typeof t?t:(0,n.c)(+t),l):e},l.y=function(e){return arguments.length?(t="function"==typeof e?e:(0,n.c)(+e),l):t},l.defined=function(e){return arguments.length?(i="function"==typeof e?e:(0,n.c)(!!e),l):i},l.curve=function(e){return arguments.length?(a=e,null!=s&&(r=a(s)),l):a},l.context=function(e){return arguments.length?(null==e?s=r=null:r=a(s=e),l):s},l}function m(e,t,i){var s=null,a=(0,n.c)(!0),r=null,o=u,l=null,d=(0,n.w)(m);function m(n){var u,c,g,p,m,b=(n=h(n)).length,f=!1,_=new Array(b),y=new Array(b);for(null==r&&(l=o(m=d())),u=0;u<=b;++u){if(!(u<b&&a(p=n[u],u,n))===f)if(f=!f)c=u,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=u-1;g>=c;--g)l.point(_[g],y[g]);l.lineEnd(),l.areaEnd()}f&&(_[u]=+e(p,u,n),y[u]=+t(p,u,n),l.point(s?+s(p,u,n):_[u],i?+i(p,u,n):y[u]))}if(m)return l=null,m+""||null}function b(){return p().defined(a).curve(o).context(r)}return e="function"==typeof e?e:void 0===e?c:(0,n.c)(+e),t="function"==typeof t?t:(0,n.c)(void 0===t?0:+t),i="function"==typeof i?i:void 0===i?g:(0,n.c)(+i),m.x=function(t){return arguments.length?(e="function"==typeof t?t:(0,n.c)(+t),s=null,m):e},m.x0=function(t){return arguments.length?(e="function"==typeof t?t:(0,n.c)(+t),m):e},m.x1=function(e){return arguments.length?(s=null==e?null:"function"==typeof e?e:(0,n.c)(+e),m):s},m.y=function(e){return arguments.length?(t="function"==typeof e?e:(0,n.c)(+e),i=null,m):t},m.y0=function(e){return arguments.length?(t="function"==typeof e?e:(0,n.c)(+e),m):t},m.y1=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:(0,n.c)(+e),m):i},m.lineX0=m.lineY0=function(){return b().x(e).y(t)},m.lineY1=function(){return b().x(e).y(i)},m.lineX1=function(){return b().x(s).y(t)},m.defined=function(e){return arguments.length?(a="function"==typeof e?e:(0,n.c)(!!e),m):a},m.curve=function(e){return arguments.length?(o=e,null!=r&&(l=o(r)),m):o},m.context=function(e){return arguments.length?(null==e?r=l=null:l=o(r=e),m):r},m}d.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class b extends s.T{setupDefaultRules(){super.setupDefaultRules();const e=this._root.interfaceColors,t=this._root.language,i=this.rule.bind(this);i("XYChart").setAll({colors:a.C.new(this._root,{}),paddingLeft:20,paddingRight:20,paddingTop:16,paddingBottom:16,panX:!1,panY:!1,wheelStep:.25,arrangeTooltips:!0,pinchZoomX:!1,pinchZoomY:!1}),i("XYSeries").setAll({legendLabelText:"{name}"}),i("Rectangle",["plotbackground","xy","background"]).setAll({fill:s.C.fromHex(0),fillOpacity:0}),i("XYChart",["scrollbar","chart"]).setAll({paddingBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,colors:a.C.new(this._root,{saturation:0})});{const t=i("Graphics",["scrollbar","overlay"]);t.setAll({fillOpacity:.5}),(0,r.s)(t,"fill",e,"background")}i("RoundedRectangle",["xy","scrollbar","thumb"]).setAll({cornerRadiusTR:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusBL:0,fillOpacity:0,focusable:!0}),i("RoundedRectangle",["xy","scrollbar","thumb"]).states.create("hover",{fillOpacity:.4}),i("RoundedRectangle",["xy","scrollbar","chart","background"]).setAll({cornerRadiusTL:0,cornerRadiusBL:0,cornerRadiusTR:0,cornerRadiusBR:0}),i("RoundedRectangle",["xy","scrollbar","chart","background","resize","button"]).setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),i("AxisRendererX",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0}),i("AxisRendererY",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0,minGridDistance:5}),i("AxisLabel",["xy","scrollbar","x"]).setAll({opacity:.5,centerY:s.a,minPosition:.01,maxPosition:.99,fontSize:"0.8em"}),i("AxisLabel",["category"]).setAll({text:"{category}",populateText:!0}),i("AxisLabel",["x"]).setAll({centerY:0}),i("AxisLabel",["x","inside"]).setAll({centerY:s.a}),i("AxisLabel",["x","inside","opposite"]).setAll({centerY:0}),i("AxisLabel",["x","opposite"]).setAll({centerY:s.a}),i("AxisLabel",["y"]).setAll({centerX:s.a}),i("AxisLabel",["y","inside"]).setAll({centerX:0}),i("AxisLabel",["y","inside","opposite"]).setAll({centerX:s.a}),i("AxisLabel",["y","opposite"]).setAll({centerX:0}),i("AxisLabel",["minor"]).setAll({fontSize:"0.6em"}),i("AxisLabel",["xy","scrollbar","y"]).setAll({visible:!1}),i("Grid",["xy","scrollbar","y"]).setAll({visible:!1}),i("Grid",["xy","scrollbar","x"]).setAll({opacity:.5}),i("XYCursor").setAll({behavior:"none",layer:30,exportable:!1,snapToSeriesBy:"xy",moveThreshold:1});{const s=i("Grid",["cursor","x"]);s.setAll({forceInactive:!0,strokeOpacity:.8,strokeDasharray:[2,2],role:"slider",ariaLabel:t.translate("Use left and right arrows to move selection")}),(0,r.s)(s,"stroke",e,"alternativeBackground")}{const s=i("Grid",["cursor","y"]);s.setAll({forceInactive:!0,strokeOpacity:.8,strokeDasharray:[2,2],role:"slider",ariaLabel:t.translate("Use up and down arrows to move selection")}),(0,r.s)(s,"stroke",e,"alternativeBackground")}{const t=i("Graphics",["cursor","selection"]);t.setAll({fillOpacity:.15}),(0,r.s)(t,"fill",e,"alternativeBackground")}i("Axis").setAll({start:0,end:1,minZoomCount:1,maxZoomCount:1/0,maxZoomFactor:1e3,maxDeviation:.1,snapTooltip:!0,tooltipLocation:.5,panX:!0,panY:!0,zoomX:!0,zoomY:!0,fixAxisSize:!0}),i("AxisLabel").setAll({location:.5,multiLocation:0,centerX:s.p,centerY:s.p,paddingTop:3,paddingBottom:3,paddingLeft:5,paddingRight:5}),i("Container",["axis","header"]).setAll({layer:30}),i("Rectangle",["axis","header","background"]).setAll({crisp:!0});{const t=i("AxisRenderer");t.setAll({crisp:!0,strokeOpacity:0}),(0,r.s)(t,"stroke",e,"grid")}i("AxisRendererX").setAll({minGridDistance:120,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,width:s.a}),i("AxisRendererY").setAll({minGridDistance:40,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,height:s.a});{const t=i("Rectangle",["axis","thumb"]);t.setAll({fillOpacity:0}),(0,r.s)(t,"fill",e,"alternativeBackground"),t.states.create("hover",{fillOpacity:.1})}i("Rectangle",["axis","thumb","x"]).setAll({cursorOverStyle:"ew-resize"}),i("Rectangle",["axis","thumb","y"]).setAll({cursorOverStyle:"ns-resize"});{const t=i("Grid");t.setAll({location:0,strokeOpacity:.15,crisp:!0}),(0,r.s)(t,"stroke",e,"grid")}{const t=i("Grid",["minor"]);t.setAll({location:0,strokeOpacity:.07,crisp:!0}),(0,r.s)(t,"stroke",e,"grid")}i("Grid",["base"]).setAll({strokeOpacity:.3});{const t=i("Graphics",["axis","fill"]);t.setAll({visible:!1,isMeasured:!1,position:"absolute",fillOpacity:.05}),(0,r.s)(t,"fill",e,"alternativeBackground")}i("Graphics",["axis","fill","range"]).setAll({isMeasured:!0}),i("Graphics",["series","fill","range"]).setAll({visible:!1,isMeasured:!0}),i("Grid",["series","range"]).setAll({visible:!1}),i("AxisTick",["series","range"]).setAll({visible:!1}),i("AxisLabel",["series","range"]).setAll({visible:!1});{const t=i("AxisTick");t.setAll({location:.5,multiLocation:0,strokeOpacity:1,isMeasured:!1,position:"absolute",visible:!1}),(0,r.s)(t,"stroke",e,"grid")}i("CategoryAxis").setAll({startLocation:0,endLocation:1,fillRule:(e,t)=>{const i=e.get("axisFill");i&&((0,s.k)(t)&&t%2!=0?i.setPrivate("visible",!1):i.setPrivate("visible",!0))}});const o=[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}],l={millisecond:t.translate("_date_millisecond"),second:t.translate("_date_second"),minute:t.translate("_date_minute"),hour:t.translate("_date_hour"),day:t.translate("_date_day"),week:t.translate("_date_day"),month:t.translate("_date_month"),year:t.translate("_date_year")},h={millisecond:t.translate("_date_millisecond"),second:t.translate("_date_second"),minute:t.translate("_date_minute"),hour:t.translate("_date_day"),day:t.translate("_date_day"),week:t.translate("_date_day"),month:t.translate("_date_month")+" "+t.translate("_date_year"),year:t.translate("_date_year")},d={millisecond:t.translate("_date_millisecond_full"),second:t.translate("_date_second_full"),minute:t.translate("_date_minute_full"),hour:t.translate("_date_hour_full"),day:t.translate("_date_day_full"),week:t.translate("_date_week_full"),month:t.translate("_date_month_full"),year:t.translate("_date_year")};i("CategoryDateAxis").setAll({markUnitChange:!0,gridIntervals:(0,s.an)(o),dateFormats:(0,s.X)(l),periodChangeDateFormats:(0,s.X)(h)}),i("DateAxis").setAll({maxZoomFactor:null,strictMinMax:!0,startLocation:0,endLocation:1,markUnitChange:!0,groupData:!1,groupCount:500,gridIntervals:(0,s.an)(o),dateFormats:(0,s.X)(l),periodChangeDateFormats:(0,s.X)(h),tooltipDateFormats:d,groupIntervals:[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}],fillRule:e=>{const t=e.get("axisFill");if(t){const i=e.component,s=e.get("value"),a=e.get("endValue"),r=i.intervalDuration(),o=i.getPrivate("baseInterval"),l=i.getPrivate("gridInterval",o);let h=i.getPrivate("min",0);if(h=(0,n.r)(new Date(h),l.timeUnit,l.count,this._root.locale.firstDayOfWeek,this._root.utc,void 0,this._root.timezone).getTime(),null!=s&&null!=a){const e=Math.round(Math.round((s-h)/r))/2;e==Math.round(e)?t.setPrivate("visible",!0):t.setPrivate("visible",!1)}}}}),i("GaplessDateAxis").setAll({fillRule:e=>{const t=e.get("axisFill");if(t){const i=e.get("index");let a=!1;(0,s.k)(i)&&i%2!=0||(a=!0),t.setPrivate("visible",a)}}}),i("ValueAxis").setAll({baseValue:0,logarithmic:!1,strictMinMax:!1,autoZoom:!0,fillRule:e=>{const t=e.get("axisFill");if(t){const i=e.component,a=e.get("value"),r=i.getPrivate("step");(0,s.k)(a)&&(0,s.k)(r)&&((0,s.aL)(a/r/2,5)==Math.round(a/r/2)?t.setPrivate("visible",!1):t.setPrivate("visible",!0))}}}),i("DurationAxis").setAll({baseUnit:"second"}),i("XYSeries").setAll({maskBullets:!0,stackToNegative:!0,locationX:.5,locationY:.5,snapTooltip:!1,openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close",seriesTooltipTarget:"series"}),i("BaseColumnSeries").setAll({adjustBulletPosition:!0}),i("ColumnSeries").setAll({clustered:!0}),i("RoundedRectangle",["series","column"]).setAll({position:"absolute",isMeasured:!1,width:(0,s.j)(70),height:(0,s.j)(70),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),i("LineSeries").setAll({connect:!0,autoGapCount:1.1,stackToNegative:!1}),i("Graphics",["series","stroke"]).setAll({position:"absolute",strokeWidth:1,strokeOpacity:1,isMeasured:!1}),i("Graphics",["series","fill"]).setAll({visible:!1,fillOpacity:0,position:"absolute",strokeWidth:0,strokeOpacity:0,isMeasured:!1}),i("Graphics",["line","series","legend","marker","stroke"]).setAll({draw:(e,t)=>{const i=t.parent;if(i){const t=i.height(),s=i.width();e.moveTo(0,t/2),e.lineTo(s,t/2)}}});{const t=i("Graphics",["line","series","legend","marker","stroke"]).states.create("disabled",{});(0,r.s)(t,"stroke",e,"disabled")}i("Graphics",["line","series","legend","marker","fill"]).setAll({draw:(e,t)=>{const i=t.parent;if(i){const t=i.height(),s=i.width();e.moveTo(0,0),e.lineTo(s,0),e.lineTo(s,t),e.lineTo(0,t),e.lineTo(0,0)}}});{const t=i("Graphics",["line","series","legend","marker","fill"]).states.create("disabled",{});(0,r.s)(t,"stroke",e,"disabled")}i("SmoothedXYLineSeries").setAll({tension:.5}),i("SmoothedXLineSeries").setAll({tension:.5}),i("SmoothedYLineSeries").setAll({tension:.5}),i("Candlestick").setAll({position:"absolute",isMeasured:!1,width:(0,s.j)(50),height:(0,s.j)(50),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),i("OHLC").setAll({width:(0,s.j)(80),height:(0,s.j)(80)}),i("CandlestickSeries").setAll({lowValueXGrouped:"low",lowValueYGrouped:"low",highValueXGrouped:"high",highValueYGrouped:"high",openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close"});{const t=i("Rectangle",["column","autocolor"]).states.create("riseFromOpen",{});(0,r.s)(t,"fill",e,"positive"),(0,r.s)(t,"stroke",e,"positive")}{const t=i("Rectangle",["column","autocolor"]).states.create("dropFromOpen",{});(0,r.s)(t,"fill",e,"negative"),(0,r.s)(t,"stroke",e,"negative")}i("Rectangle",["column","autocolor","pro"]).states.create("riseFromOpen",{fillOpacity:0}),i("Rectangle",["column","autocolor","pro"]).states.create("dropFromOpen",{fillOpacity:1});{const t=i("Rectangle",["column","autocolor","pro"]).states.create("riseFromPrevious",{});(0,r.s)(t,"fill",e,"positive"),(0,r.s)(t,"stroke",e,"positive")}{const t=i("Rectangle",["column","autocolor","pro"]).states.create("dropFromPrevious",{});(0,r.s)(t,"fill",e,"negative"),(0,r.s)(t,"stroke",e,"negative")}i("RoundedRectangle",["rangegrip"]).setAll({strokeOpacity:0,fillOpacity:0,strokeWidth:1,width:12,height:12});{const t=i("Graphics",["rangegrip","button","icon"]);t.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:e=>{e.moveTo(0,.5),e.lineTo(0,12.5),e.moveTo(2,.5),e.lineTo(2,12.5),e.moveTo(4,.5),e.lineTo(4,12.5)}}),(0,r.s)(t,"stroke",e,"secondaryButtonText")}i("Button",["rangegrip"]).setAll({draggable:!0,paddingTop:0,paddingBottom:0}),i("Button",["rangegrip","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize",centerX:s.p}),i("Button",["rangegrip","horizontal"]).setAll({cursorOverStyle:"ew-resize",centerX:s.p}),i("Button",["rangegrip","vertical","left"]).setAll({centerY:s.a}),i("Button",["rangegrip","vertical","right"]).setAll({centerY:0}),i("Button",["rangegrip","horizontal","top"]).setAll({centerY:0}),i("Button",["rangegrip","horizontal","bottom"]).setAll({centerY:s.a})}}class f extends n.S{constructor(){super(...arguments),Object.defineProperty(this,"xAxes",{enumerable:!0,configurable:!0,writable:!0,value:new s.N}),Object.defineProperty(this,"yAxes",{enumerable:!0,configurable:!0,writable:!0,value:new s.N}),Object.defineProperty(this,"topAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(s.g.new(this._root,{width:s.a,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"yAxesAndPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(s.g.new(this._root,{width:s.a,height:s.a,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"bottomAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(s.g.new(this._root,{width:s.a,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"leftAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(s.g.new(this._root,{height:s.a,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"plotsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(s.g.new(this._root,{width:s.a,height:s.a,maskContent:!1}))}),Object.defineProperty(this,"plotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(s.g.new(this._root,{width:s.a,height:s.a}))}),Object.defineProperty(this,"topPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(s.g.new(this._root,{width:s.a,height:s.a}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(s.g.new(this._root,{width:s.a,height:s.a,isMeasured:!1}))}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:s.g.new(this._root,{width:s.a,height:s.a,isMeasured:!1})}),Object.defineProperty(this,"rightAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(s.g.new(this._root,{height:s.a,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"axisHeadersContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(s.g.new(this._root,{}))}),Object.defineProperty(this,"zoomOutButton",{enumerable:!0,configurable:!0,writable:!0,value:this.topPlotContainer.children.push(o.B.new(this._root,{themeTags:["zoom"],icon:s.e.new(this._root,{themeTags:["button","icon"]})}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_otherCharts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_downStartX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStartY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._defaultThemes.push(b.new(this._root)),super._afterNew(),this._disposers.push(this.xAxes),this._disposers.push(this.yAxes);const e=this._root;let t=this._root.verticalLayout;const i=this.zoomOutButton;i.events.on("click",(()=>{this.zoomOut()})),i.hide(0),i.states.lookup("default").set("opacity",1),this.chartContainer.set("layout",t);const a=this.plotContainer;a.children.push(this.seriesContainer),this._disposers.push(this._processAxis(this.xAxes,this.bottomAxesContainer)),this._disposers.push(this._processAxis(this.yAxes,this.leftAxesContainer)),a.children.push(this.topGridContainer),a.children.push(this.bulletsContainer),a.set("interactive",!0),a.set("interactiveChildren",!1),a.set("background",s.R.new(e,{themeTags:["plotbackground","xy","background"]})),this._disposers.push(a.events.on("pointerdown",(e=>{this._handlePlotDown(e)}))),this._disposers.push(a.events.on("globalpointerup",(e=>{this._handlePlotUp(e)}))),this._disposers.push(a.events.on("globalpointermove",(e=>{this._handlePlotMove(e)}))),this._maskGrid(),this._setUpTouch()}_beforeChanged(){super._beforeChanged(),(this.isDirty("pinchZoomX")||this.isDirty("pinchZoomY")||this.get("panX")||this.get("panY"))&&this._setUpTouch()}_setUpTouch(){this.plotContainer._display.cancelTouch||(this.plotContainer._display.cancelTouch=!!(this.get("pinchZoomX")||this.get("pinchZoomY")||this.get("panX")||this.get("panY")))}_maskGrid(){this.gridContainer.set("maskContent",!0),this.topGridContainer.set("maskContent",!0)}_removeSeries(e){e._unstack(),e._posXDp&&e._posXDp.dispose(),e._posYDp&&e._posYDp.dispose(),e.set("baseAxis",void 0);const t=e.get("xAxis");t&&((0,s.r)(t.series,e),t.markDirtyExtremes());const i=e.get("yAxis");i&&((0,s.r)(i.series,e),i.markDirtyExtremes());const a=this.get("cursor");if(a){const t=a.get("snapToSeries");t&&(0,s.r)(t,e)}super._removeSeries(e)}handleWheel(e){const t=this.get("wheelX"),i=this.get("wheelY"),a=this.plotContainer,r=e.originalEvent;if(!(0,s.n)(r,this))return;r.preventDefault();const n=a.toLocal(e.point),o=this.get("wheelStep",.2),l=r.deltaY/100,h=r.deltaX/100,d=this.get("wheelZoomPositionX"),u=this.get("wheelZoomPositionY");"zoomX"!==t&&"zoomXY"!==t||0==h||this.xAxes.each((e=>{if(e.get("zoomX")){let t=e.get("start"),i=e.get("end"),s=e.fixPosition(n.x/a.width());null!=d&&(s=d);let r=e.get("maxDeviation",0),l=Math.min(1+r,Math.max(-r,t-o*(i-t)*h*s)),u=Math.max(-r,Math.min(1+r,i+o*(i-t)*h*(1-s)));1/(u-l)<e.getPrivate("maxZoomFactor",1/0)/e.get("minZoomCount",1)&&this._handleWheelAnimation(e.zoom(l,u))}})),"zoomX"!==i&&"zoomXY"!==i||0==l||this.xAxes.each((e=>{if(e.get("zoomX")){let t=e.get("start"),i=e.get("end"),s=e.fixPosition(n.x/a.width());null!=d&&(s=d);let r=e.get("maxDeviation",0),h=Math.min(1+r,Math.max(-r,t-o*(i-t)*l*s)),u=Math.max(-r,Math.min(1+r,i+o*(i-t)*l*(1-s)));1/(u-h)<e.getPrivate("maxZoomFactor",1/0)/e.get("minZoomCount",1)&&this._handleWheelAnimation(e.zoom(h,u))}})),"zoomY"!==t&&"zoomXY"!==t||0==h||this.yAxes.each((e=>{if(e.get("zoomY")){let t=e.get("start"),i=e.get("end"),s=e.fixPosition(n.y/a.height());null!=u&&(s=u);let r=e.get("maxDeviation",0),l=Math.min(1+r,Math.max(-r,t-o*(i-t)*h*s)),d=Math.max(-r,Math.min(1+r,i+o*(i-t)*h*(1-s)));1/(d-l)<e.getPrivate("maxZoomFactor",1/0)/e.get("minZoomCount",1)&&this._handleWheelAnimation(e.zoom(l,d))}})),"zoomY"!==i&&"zoomXY"!==i||0==l||this.yAxes.each((e=>{if(e.get("zoomY")){let t=e.get("start"),i=e.get("end"),s=e.fixPosition(n.y/a.height());null!=u&&(s=u);let r=e.get("maxDeviation",0),h=Math.min(1+r,Math.max(-r,t-o*(i-t)*l*s)),d=Math.max(-r,Math.min(1+r,i+o*(i-t)*l*(1-s)));1/(d-h)<e.getPrivate("maxZoomFactor",1/0)/e.get("minZoomCount",1)&&this._handleWheelAnimation(e.zoom(h,d))}})),"panX"!==t&&"panXY"!==t||0==h||this.xAxes.each((e=>{if(e.get("panX")){let t=e.get("start"),i=e.get("end"),s=this._getWheelSign(e)*o*(i-t)*h,a=t+s,r=i+s,n=this._fixWheel(a,r);a=n[0],r=n[1],this._handleWheelAnimation(e.zoom(a,r))}})),"panX"!==i&&"panXY"!==i||0==l||this.xAxes.each((e=>{if(e.get("panX")){let t=e.get("start"),i=e.get("end"),s=this._getWheelSign(e)*o*(i-t)*l,a=t+s,r=i+s,n=this._fixWheel(a,r);a=n[0],r=n[1],this._handleWheelAnimation(e.zoom(a,r))}})),"panY"!==t&&"panXY"!==t||0==h||this.yAxes.each((e=>{if(e.get("panY")){let t=e.get("start"),i=e.get("end"),s=this._getWheelSign(e)*o*(i-t)*h,a=t+s,r=i+s,n=this._fixWheel(a,r);a=n[0],r=n[1],this._handleWheelAnimation(e.zoom(a,r))}})),"panY"!==i&&"panXY"!==i||0==l||this.yAxes.each((e=>{if(e.get("panY")){let t=e.get("start"),i=e.get("end"),s=this._getWheelSign(e)*o*(i-t)*l,a=t-s,r=i-s,n=this._fixWheel(a,r);a=n[0],r=n[1],this._handleWheelAnimation(e.zoom(a,r))}}))}_handleSetWheel(){const e=this.get("wheelX"),t=this.get("wheelY"),i=this.plotContainer;"none"!==e||"none"!==t?(this._wheelDp=i.events.on("wheel",(i=>{const s=i.originalEvent;("none"!==e&&0!=Math.abs(s.deltaX)||"none"!==t&&0!=Math.abs(s.deltaY))&&this.handleWheel(i)})),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}_getWheelSign(e){let t=1;return e.get("renderer").get("inversed")&&(t=-1),t}_fixWheel(e,t){const i=t-e;return e<0&&(t=(e=0)+i),t>1&&(e=(t=1)-i),[e,t]}_handlePlotDown(e){const t=e.originalEvent;if(2==t.button)return;const i=this.plotContainer;let a=i.toLocal(e.point);if((this.get("pinchZoomX")||this.get("pinchZoomY"))&&t.pointerId&&(0,s.H)(i._downPoints).length>0){const e=this.xAxes.getIndex(0),t=this.yAxes.getIndex(0);e&&(this._downStartX=e.get("start",0),this._downEndX=e.get("end",1)),t&&(this._downStartY=t.get("start",0),this._downEndY=t.get("end",1))}if((this.get("panX")||this.get("panY"))&&a.x>=0&&a.y>=0&&a.x<=i.width()&&a.y<=this.height()){this._downPoint={x:t.clientX,y:t.clientY};const i=this.get("panX"),s=this.get("panY");i&&this.xAxes.each((e=>{e._panStart=e.get("start"),e._panEnd=e.get("end")})),s&&this.yAxes.each((e=>{e._panStart=e.get("start"),e._panEnd=e.get("end")}));const a="panstarted";this.events.isEnabled(a)&&this.events.dispatch(a,{type:a,target:this,originalEvent:e.originalEvent})}}_handleWheelAnimation(e){e?e.events.on("stopped",(()=>{this._dispatchWheelAnimation()})):this._dispatchWheelAnimation()}_dispatchWheelAnimation(){const e="wheelended";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this})}_handlePlotUp(e){const t=this._downPoint;if(t&&(this.get("panX")||this.get("panY"))){if(e.originalEvent.clientX==t.x&&e.originalEvent.clientY==t.y){const t="pancancelled";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,originalEvent:e.originalEvent})}const i="panended";this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this,originalEvent:e.originalEvent})}this._downPoint=void 0,this.xAxes.each((e=>{e._isPanning=!1})),this.yAxes.each((e=>{e._isPanning=!1}))}_handlePlotMove(e){const t=this.plotContainer;if(this.get("pinchZoomX")||this.get("pinchZoomY")){const i=e.originalEvent.pointerId;if(i&&(this._movePoints[i]=e.point,(0,s.H)(t._downPoints).length>1))return void this._handlePinch()}let i=this._downPoint;if(i){i=t.toLocal(this._root.documentPointToRoot(i));let s=t.toLocal(e.point);const a=this.get("panX"),r=this.get("panY");if(a){let e=this.get("scrollbarX");e&&e.events.disableType("rangechanged"),this.xAxes.each((e=>{if(e.get("panX")){e._isPanning=!0;let a=e._panStart,r=e._panEnd,n=(r-a)*(i.x-s.x)/t.width();e.get("renderer").get("inversed")&&(n*=-1);let o=a+n,l=r+n;l-o<1+2*e.get("maxDeviation",1)&&(e.set("start",o),e.set("end",l))}})),e&&e.events.enableType("rangechanged")}if(r){let e=this.get("scrollbarY");e&&e.events.disableType("rangechanged"),this.yAxes.each((e=>{if(e.get("panY")){e._isPanning=!0;let a=e._panStart,r=e._panEnd,n=(r-a)*(i.y-s.y)/t.height();e.get("renderer").get("inversed")&&(n*=-1);let o=a-n,l=r-n;l-o<1+2*e.get("maxDeviation",1)&&(e.set("start",o),e.set("end",l))}})),e&&e.events.enableType("rangechanged")}}}_handlePinch(){const e=this.plotContainer;let t=0,i=[],a=[];if((0,s._)(e._downPoints,((e,s)=>{i[t]=s;let r=this._movePoints[e];r&&(a[t]=r),t++})),i.length>1&&a.length>1){const t=e.width(),s=e.height();let r=i[0],n=i[1],o=a[0],l=a[1];if(r&&n&&o&&l){if(o=e.toLocal(o),l=e.toLocal(l),r=e.toLocal(r),n=e.toLocal(n),this.get("pinchZoomX")){const e=this._downStartX,i=this._downEndX;if(null!=e&&null!=i){r.x>n.x&&([r,n]=[n,r],[o,l]=[l,o]);let s=e+r.x/t*(i-e),a=e+n.x/t*(i-e),h=e+o.x/t*(i-e),d=e+l.x/t*(i-e),u=Math.max(.001,a-s)/Math.max(.001,d-h),c=e*u+s-h*u,g=i*u+a-d*u;this.xAxes.each((e=>{let t=e.fixPosition(c),i=e.fixPosition(g);e.zoom(t,i,0)}))}}if(this.get("pinchZoomY")){const e=this._downStartY,t=this._downEndY;if(null!=e&&null!=t){r.y<n.y&&([r,n]=[n,r],[o,l]=[l,o]);let i=e+(1-r.y/s)*(t-e),a=e+(1-n.y/s)*(t-e),h=e+(1-o.y/s)*(t-e),d=e+(1-l.y/s)*(t-e),u=Math.max(.001,a-i)/Math.max(.001,d-h),c=e*u+i-h*u,g=t*u+a-d*u;this.yAxes.each((e=>{let t=e.fixPosition(c),i=e.fixPosition(g);e.zoom(t,i,0)}))}}}}}_handleCursorPosition(){const e=this.get("cursor");if(e){const t=e.getPrivate("point");let i=e.get("snapToSeries");if(e._downPoint&&(i=void 0),i&&t){const a=e.get("snapToSeriesBy"),r=[];(0,s.i)(i,(e=>{if(!e.isHidden()&&!e.isHiding())if("x!"!=a&&"y!"!=a){const t=e.startIndex(),i=e.endIndex();for(let s=t;s<i;s++){const t=e.dataItems[s];t&&!t.isHidden()&&r.push(t)}}else{const t=e.get("tooltipDataItem");t&&r.push(t)}}));let n,o=1/0;if((0,s.i)(r,(e=>{const i=e.get("point");if(i){let s=0;s="x"==a||"x!"==a?Math.abs(t.x-i.x):"y"==a||"y!"==a?Math.abs(t.y-i.y):Math.hypot(t.x-i.x,t.y-i.y),s<o&&(o=s,n=e)}})),(0,s.i)(i,(e=>{const t=e.get("tooltip");t&&t._setDataItem(void 0)})),n){let t=n.component;t.showDataItemTooltip(n),t.setRaw("tooltipDataItem",n);const i=n.get("point");i&&e.handleMove(t.toGlobal({x:i.x-t.x(),y:i.y-t.y()}),!0)}}}}_updateCursor(){let e=this.get("cursor");e&&e.updateCursor()}_addCursor(e){this.plotContainer.children.push(e)}_prepareChildren(){if(super._prepareChildren(),this.series.each((e=>{this._colorize(e)})),(this.isDirty("wheelX")||this.isDirty("wheelY"))&&this._handleSetWheel(),this.isDirty("cursor")){const e=this._prevSettings.cursor,t=this.get("cursor");t!==e&&(this._disposeProperty("cursor"),e&&e.dispose(),t&&(t._setChart(this),this._addCursor(t),this._pushPropertyDisposer("cursor",t.events.on("selectended",(()=>{this._handleCursorSelectEnd()})))),this._prevSettings.cursor=t)}if(this.isDirty("scrollbarX")){const e=this._prevSettings.scrollbarX,t=this.get("scrollbarX");t!==e&&(this._disposeProperty("scrollbarX"),e&&e.dispose(),t&&(t.parent||this.topAxesContainer.children.push(t),this._pushPropertyDisposer("scrollbarX",t.events.on("rangechanged",(e=>{this._handleScrollbar(this.xAxes,e.start,e.end,e.grip)}))),this._pushPropertyDisposer("scrollbarX",t.events.on("released",(()=>{this.xAxes.each((e=>{e.get("zoomable")&&this._handleAxisSelection(e)}))}))),t.setPrivate("positionTextFunction",(e=>{const t=this.xAxes.getIndex(0);return t&&t.getTooltipText(e,!1)||""}))),this._prevSettings.scrollbarX=t)}if(this.isDirty("scrollbarY")){const e=this._prevSettings.scrollbarY,t=this.get("scrollbarY");t!==e&&(this._disposeProperty("scrollbarY"),e&&e.dispose(),t&&(t.parent||this.rightAxesContainer.children.push(t),this._pushPropertyDisposer("scrollbarY",t.events.on("rangechanged",(e=>{this._handleScrollbar(this.yAxes,e.start,e.end,e.grip)}))),this._pushPropertyDisposer("scrollbarY",t.events.on("released",(()=>{this.yAxes.each((e=>{e.get("zoomable")&&this._handleAxisSelection(e)}))}))),t.setPrivate("positionTextFunction",(e=>{const t=this.yAxes.getIndex(0);return t&&t.getTooltipText(e,!1)||""}))),this._prevSettings.scrollbarY=t)}this._handleZoomOut()}_processSeries(e){super._processSeries(e);const t=e.get("xAxis"),i=e.get("yAxis");(0,s.aM)(t.series,e),(0,s.aM)(i.series,e),e._posXDp=e.addDisposer(t.events.on("positionchanged",(()=>{e._fixPosition()}))),e._posXDp=e.addDisposer(i.events.on("positionchanged",(()=>{e._fixPosition()}))),e.get("baseAxis")||(i.isType("CategoryAxis")||i.isType("DateAxis")?e.set("baseAxis",i):e.set("baseAxis",t)),e.get("stacked")&&(e._markDirtyKey("stacked"),(0,s.i)(e.dataItems,(e=>{e.set("stackToItemY",void 0),e.set("stackToItemX",void 0)}))),e._markDirtyAxes(),i.markDirtyExtremes(),t.markDirtyExtremes(),t._seriesAdded=!0,i._seriesAdded=!0,this._colorize(e)}_colorize(e){const t=this.get("colors");if(t&&null==e.get("fill")){const i=t.next();e._setSoft("stroke",i),e._setSoft("fill",i)}const i=this.get("patterns");if(i&&null==e.get("fillPattern")){const t=i.next();e._setSoft("fillPattern",t)}}_handleCursorSelectEnd(){const e=this.get("cursor"),t=e.get("behavior"),i=e.getPrivate("downPositionX",0),s=e.getPrivate("downPositionY",0),a=Math.min(1,Math.max(0,e.getPrivate("positionX",.5))),r=Math.min(1,Math.max(0,e.getPrivate("positionY",.5)));this.xAxes.each((e=>{if("zoomX"===t||"zoomXY"===t){let t=e.toAxisPosition(i),s=e.toAxisPosition(a);e.zoom(t,s)}e.setPrivate("updateScrollbar",!0)})),this.yAxes.each((e=>{if("zoomY"===t||"zoomXY"===t){let t=e.toAxisPosition(s),i=e.toAxisPosition(r);e.zoom(t,i)}e.setPrivate("updateScrollbar",!0)}))}_handleScrollbar(e,t,i,s){e.each((e=>{let a=e.fixPosition(t),r=e.fixPosition(i),n=e.zoom(a,r,void 0,s);const o="updateScrollbar";e.setPrivateRaw(o,!1),n?n.events.on("stopped",(()=>{e.setPrivateRaw(o,!0)})):e.setPrivateRaw(o,!0)}))}_processAxis(e,t){return e.events.onAll((e=>{if("clear"===e.type)(0,s.i)(e.oldValues,(e=>{this._removeAxis(e)}));else if("push"===e.type)t.children.push(e.newValue),e.newValue.processChart(this);else if("setIndex"===e.type)t.children.setIndex(e.index,e.newValue),e.newValue.processChart(this);else if("insertIndex"===e.type)t.children.insertIndex(e.index,e.newValue),e.newValue.processChart(this);else if("removeIndex"===e.type)this._removeAxis(e.oldValue);else{if("moveIndex"!==e.type)throw new Error("Unknown IListEvent type");t.children.moveValue(e.value,e.newIndex),e.value.processChart(this)}}))}_removeAxis(e){if(!e.isDisposed()){const t=e.parent;t&&t.children.removeValue(e);const i=e.gridContainer,s=i.parent;s&&s.children.removeValue(i);const a=e.topGridContainer,r=a.parent;r&&r.children.removeValue(a)}}_updateChartLayout(){const e=this.leftAxesContainer.width(),t=this.rightAxesContainer.width(),i=this.bottomAxesContainer;i.set("paddingLeft",e),i.set("paddingRight",t);const s=this.topAxesContainer;s.set("paddingLeft",e),s.set("paddingRight",t)}processAxis(e){this.get("cursor")&&(this.addDisposer(e.on("start",(()=>{this._updateCursor()}))),this.addDisposer(e.on("end",(()=>{this._updateCursor()}))))}_handleAxisSelection(e,t){let i=e.fixPosition(e.get("start",0)),s=e.fixPosition(e.get("end",1));if(i>s&&([i,s]=[s,i]),-1!=this.xAxes.indexOf(e)){if(t||e.getPrivate("updateScrollbar")){let e=this.get("scrollbarX");!e||e.getPrivate("isBusy")&&!t||(e.setRaw("start",i),e.setRaw("end",s),e.updateGrips())}}else if(-1!=this.yAxes.indexOf(e)&&(t||e.getPrivate("updateScrollbar"))){let e=this.get("scrollbarY");!e||e.getPrivate("isBusy")&&!t||(e.setRaw("start",i),e.setRaw("end",s),e.updateGrips())}this._handleZoomOut()}_handleZoomOut(){let e=this.zoomOutButton;if(e&&e.parent){let t=!1;this.xAxes.each((e=>{0==(0,s.aL)(e.get("start",0),6)&&1==(0,s.aL)(e.get("end",1),6)||(t=!0)})),this.yAxes.each((e=>{0==(0,s.aL)(e.get("start",0),6)&&1==(0,s.aL)(e.get("end",1),6)||(t=!0)})),t?e.isHidden()&&e.show():e.hide()}}inPlot(e){const t=this.plotContainer,i=this.getPrivate("otherCharts",this._otherCharts),s=t.toGlobal(e);if(e.x>=-.5&&e.y>=-.5&&e.x<=t.width()+.5&&e.y<=t.height()+.5)return!0;if(i)for(let e=i.length-1;e>=0;e--){const t=i[e];if(t!=this){const e=t.plotContainer,i=this._root.rootPointToDocument(s),a=t._root.documentPointToRoot(i),r=e.toLocal(a);if(r.x>=-.1&&r.y>=-.1&&r.x<=e.width()+.1&&r.y<=e.height()+.1)return!0}}return!1}arrangeTooltips(){const e=this.plotContainer,t=e.width(),i=e.height(),a=this.height();let r=e._display.toGlobal({x:0,y:0}),n=e._display.toGlobal({x:t,y:i});const o=[];let l,h,d=0,u=1/0,c=this._movePoint,g=this.get("maxTooltipDistance"),p=this.get("maxTooltipDistanceBy","xy");(0,s.k)(g)&&this.series.each((e=>{if(!e.isHidden()){const t=e.get("tooltip");if(t){let i=t.get("pointTo");if(i){let t=Math.hypot(c.x-i.x,c.y-i.y);"x"==p?t=Math.abs(c.x-i.x):"y"==p&&(t=Math.abs(c.y-i.y)),t<u&&(u=t,l=e,h=i)}}}}));const m=[];if(this.series.each((e=>{const t=e.get("tooltip");if(t&&!t.get("forceHidden")){let i=!1,s=t.get("pointTo");if(s){if(g>=0){let s=t.get("pointTo");if(s&&h&&e!=l){let e=Math.hypot(h.x-s.x,h.y-s.y);"x"==p?e=Math.abs(h.x-s.x):"y"==p&&(e=Math.abs(h.y-s.y)),e>g&&(i=!0)}}else-1==g&&e!=l&&(i=!0);this.inPlot(this._tooltipToLocal(s))&&t.dataItem?i||(d+=s.y):i=!0,i||e.isHidden()||e.isHiding()?t.hide(0):(t.show(),o.push(t),m.push(e))}}})),this.setPrivate("tooltipSeries",m),this.get("arrangeTooltips")){const e=this._root.tooltipContainer,t=o.length;if(d/t>i/2+r.y){o.sort(((e,t)=>(0,s.aN)(t.get("pointTo").y,e.get("pointTo").y)));let t=n.y;if((0,s.i)(o,(i=>{let a=i.height(),o=i.get("centerY");o instanceof s.P&&(a*=o.value),a+=i.get("marginBottom",0),i.set("bounds",{left:r.x,top:r.y,right:n.x,bottom:t}),i.setPrivate("customData",{left:r.x,top:r.y,right:n.x,bottom:t}),t=Math.min(t-a,i._fy-a),i.parent==e&&e.children.moveValue(i,0)})),t<0){o.reverse();let e=t;(0,s.i)(o,(i=>{let s=i.get("bounds");if(s){let a=s.top-t,r=s.bottom-t;a<e&&(a=e,r=a+i.height()),i.set("bounds",{left:s.left,top:a,right:s.right,bottom:r}),e=s.bottom-t+i.get("marginBottom",0)}}))}}else{o.reverse(),o.sort(((e,t)=>(0,s.aN)(e.get("pointTo").y,t.get("pointTo").y)));let t=0;if((0,s.i)(o,(i=>{let o=i.height(),l=i.get("centerY");l instanceof s.P&&(o*=l.value),o+=i.get("marginBottom",0),i.set("bounds",{left:r.x,top:t,right:n.x,bottom:Math.max(r.y+a,t+o)}),i.parent==e&&e.children.moveValue(i,0),t=Math.max(t+o,i._fy+o)})),t>a){o.reverse();let e=a;(0,s.i)(o,(i=>{let s=i.get("bounds");if(s){let r=s.top-(a-t),n=s.bottom-(a-t);n>e&&(n=e,r=n-i.height()),i.set("bounds",{left:s.left,top:r,right:s.right,bottom:n}),e=n-i.height()-i.get("marginBottom",0)}}))}}}}_tooltipToLocal(e){return this.plotContainer.toLocal(e)}zoomOut(){this.xAxes.each((e=>{e.setPrivate("updateScrollbar",!0),e.zoom(0,1)})),this.yAxes.each((e=>{e.setPrivate("updateScrollbar",!0),e.zoom(0,1)}))}_dispose(){super._dispose();const e=this.get("cursor");e&&e.dispose()}}Object.defineProperty(f,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChart"}),Object.defineProperty(f,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:n.S.classNames.concat([f.className])});class _ extends s.e{_beforeChanged(){super._beforeChanged(),(this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}}Object.defineProperty(_,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Grid"}),Object.defineProperty(_,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.e.classNames.concat([_.className])});class y extends s.g{constructor(){super(...arguments),Object.defineProperty(this,"_alwaysShow",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lineX",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(_.new(this._root,{themeTags:["x"]}))}),Object.defineProperty(this,"lineY",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(_.new(this._root,{themeTags:["y"]}))}),Object.defineProperty(this,"selection",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(s.e.new(this._root,{themeTags:["selection","cursor"],layer:30}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lastPoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_lastPoint2",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_tooltipX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_tooltipY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._settings.themeTags=(0,s.m)(this._settings.themeTags,["xy","cursor"]),super._afterNew(),this.setAll({width:s.a,height:s.a,isMeasured:!0,position:"absolute"}),this.states.create("hidden",{visible:!0,opacity:0}),this._drawLines(),this.setPrivateRaw("visible",!1),this._disposers.push(this.setTimeout((()=>{this.setPrivate("visible",!0)}),500)),this._disposers.push(this.lineX.events.on("positionchanged",(()=>{this._handleXLine()}))),this._disposers.push(this.lineY.events.on("positionchanged",(()=>{this._handleYLine()}))),this._disposers.push(this.lineX.events.on("focus",(()=>this._handleLineFocus()))),this._disposers.push(this.lineX.events.on("blur",(()=>this._handleLineBlur()))),this._disposers.push(this.lineY.events.on("focus",(()=>this._handleLineFocus()))),this._disposers.push(this.lineY.events.on("blur",(()=>this._handleLineBlur()))),(0,s.ag)("keyboardevents")&&this._disposers.push((0,s.h)(document,"keydown",(e=>{this._handleLineMove((0,s.aB)(e),e.ctrlKey)})))}_setUpTouch(){const e=this.chart;e&&(e.plotContainer._display.cancelTouch="none"!=this.get("behavior"))}_handleXLine(){let e=this.lineX.x(),t=!0;(e<0||e>this.width())&&(t=!1),this.lineX.setPrivate("visible",t)}_handleYLine(){let e=this.lineY.y(),t=!0;(e<0||e>this.height())&&(t=!1),this.lineY.setPrivate("visible",t)}_handleLineMove(e,t){let i="";const s=this.chart;let a;if(s&&s.xAxes.length){this._root.focused(this.lineX)?(i="positionX",a=s.xAxes.getIndex(0)):this._root.focused(this.lineY)&&(a=s.yAxes.getIndex(0),i="positionY");let r=1;if(t&&(r=5),a){let t,s=a.get("renderer").get("inversed",!1);"ArrowRight"==e||"ArrowDown"==e?t=1:"ArrowLeft"==e||"ArrowUp"==e?t=-1:"Tab"==e&&(t=0),null!=t&&(s&&(t*=-1),this.set(i,a.nextPosition(t*r)))}}}_handleLineFocus(){this._alwaysShow=this.get("alwaysShow",!1),this.setAll({positionX:this.getPrivate("positionX",0),positionY:this.getPrivate("positionY",0),alwaysShow:!0}),this._handleLineMove("Tab")}_handleLineBlur(){(this.lineX.isFocus()||this.lineY.isFocus())&&this.setAll({positionX:void 0,positionY:void 0,alwaysShow:this._alwaysShow})}_prepareChildren(){if(super._prepareChildren(),this.isDirty("xAxis")){this._tooltipX=!1;const e=this.get("xAxis");if(e){const t=e.get("tooltip");t&&(this._tooltipX=!0,this._disposers.push(t.on("pointTo",(()=>{this._updateXLine(t)}))))}}if(this.isDirty("yAxis")){this._tooltipY=!1;const e=this.get("yAxis");if(e){const t=e.get("tooltip");t&&(this._tooltipY=!0,this._disposers.push(t.on("pointTo",(()=>{this._updateYLine(t)}))))}}}_handleSyncWith(){const e=this.chart;if(e){const t=this.get("syncWith"),i=[];t&&(0,s.i)(t,(e=>{const t=e.chart;t&&i.push(t)})),e._otherCharts=i}}_updateChildren(){if(super._updateChildren(),this._handleSyncWith(),this.isDirty("positionX")||this.isDirty("positionY")){const e=this.get("positionX"),t=this.get("positionY");null==e&&null==t?this.hide(0):(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())}}_updateXLine(e){let t=(0,s.aL)(this._display.toLocal(e.get("pointTo",{x:0,y:0})).x,3);this._toX!=t&&(this.lineX.animate({key:"x",to:t,duration:e.get("animationDuration",0),easing:e.get("animationEasing")}),this._toX=t)}_updateYLine(e){let t=(0,s.aL)(this._display.toLocal(e.get("pointTo",{x:0,y:0})).y,3);this._toY!=t&&(this.lineY.animate({key:"y",to:t,duration:e.get("animationDuration",0),easing:e.get("animationEasing")}),this._toY=t)}_drawLines(){this.lineX.set("draw",(e=>{e.moveTo(0,0),e.lineTo(0,this.height())})),this.lineY.set("draw",(e=>{e.moveTo(0,0),e.lineTo(this.width(),0)}))}updateCursor(){this.get("alwaysShow")&&(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0)))),this.handleMove()}_setChart(e){this.chart=e,this._handleSyncWith();const t=e.plotContainer;this.events.on("boundschanged",(()=>{this._disposers.push(this.setTimeout((()=>{this.updateCursor()}),50))})),(0,s.ag)("touchevents")&&(this._disposers.push(t.events.on("click",(e=>{(0,s.aO)(e.originalEvent)&&this._handleMove(e)}))),this._setUpTouch()),this._disposers.push(t.events.on("pointerdown",(e=>{this._handleCursorDown(e)}))),this._disposers.push(t.events.on("globalpointerup",(e=>{this._handleCursorUp(e),e.native||this.isHidden()||this._handleMove(e)}))),this._disposers.push(t.events.on("globalpointermove",(e=>{(this.get("syncWith")||0!=(0,s.H)(t._downPoints).length||e.native||!this.isHidden())&&(this._handleMove(e),Math.hypot(this._lastPoint2.x-e.point.x,this._lastPoint2.y-e.point.y)>1&&(this._handleLineBlur(),this._lastPoint2=e.point))})));const i=this.parent;i&&i.children.moveValue(this.selection)}_inPlot(e){const t=this.chart;return!!t&&t.inPlot(e)}_handleCursorDown(e){if(2==e.originalEvent.button)return;const t=e.point;let i=this._display.toLocal(t);const s=this.chart;if(this.selection.set("draw",(()=>{})),s&&this._inPlot(i)){if(this._downPoint=i,"none"!=this.get("behavior")){this.selection.show();const t="selectstarted";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,originalEvent:e.originalEvent})}let t=this._getPosition(i).x,s=this._getPosition(i).y;this.setPrivate("downPositionX",t),this.setPrivate("downPositionY",s)}}_handleCursorUp(e){if(this._downPoint){const t=this.get("behavior","none");if("none"!=t){"z"===t.charAt(0)&&this.selection.hide();const i=e.point;let s=this._display.toLocal(i);const a=this._downPoint,r=this.get("moveThreshold",1);if(s&&a){let i=!1;if("zoomX"!==t&&"zoomXY"!==t&&"selectX"!==t&&"selectXY"!==t||Math.abs(s.x-a.x)>r&&(i=!0),"zoomY"!==t&&"zoomXY"!==t&&"selectY"!==t&&"selectXY"!==t||Math.abs(s.y-a.y)>r&&(i=!0),i){const t="selectended";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,originalEvent:e.originalEvent})}else{const t="selectcancelled";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,originalEvent:e.originalEvent})}}}}this._downPoint=void 0}_handleMove(e){if(this.getPrivate("visible")){const t=this.chart;if(t&&(0,s.H)(t.plotContainer._downPoints).length>1)return void this.set("forceHidden",!0);this.set("forceHidden",!1);const i=e.point,a=this._lastPoint;if(Math.round(a.x)===Math.round(i.x)&&Math.round(a.y)===Math.round(i.y))return;this._lastPoint=i,this.setPrivate("lastPoint",i),this.handleMove({x:i.x,y:i.y},!1,e.originalEvent)}}_getPosition(e){return{x:e.x/this.width(),y:e.y/this.height()}}handleMove(e,t,i){e||(e=this._movePoint);const a=this.get("alwaysShow");if(!e)return void this.hide(0);this._movePoint=e;let r=this._display.toLocal(e),n=this.chart;if(n&&(this._inPlot(r)||this._downPoint)){n._movePoint=e,this.isHidden()&&(this.show(),"z"==this.get("behavior","").charAt(0)&&this.selection.set("draw",(()=>{})));let o=r.x,l=r.y,h=this._getPosition(r);this.setPrivate("point",r);let d=this.get("snapToSeries");this._downPoint&&(d=void 0);let u=this.get("positionX"),c=h.x;(0,s.k)(u)&&(c=u);let g=this.get("positionY"),p=h.y;(0,s.k)(g)&&(p=g),this.setPrivate("positionX",c),this.setPrivate("positionY",p);const m=this._getPoint(c,p);if(o=m.x,l=m.y,n.xAxes.each((e=>{e._handleCursorPosition(c,d),a&&e.handleCursorShow()})),n.yAxes.each((e=>{e._handleCursorPosition(p,d),a&&e.handleCursorShow()})),!t){n._handleCursorPosition();const t="cursormoved";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,point:e,originalEvent:i})}this._updateLines(o,l),n.arrangeTooltips()}else if(!this._downPoint&&!a){this.hide(0);const e="cursorhidden";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this})}this._downPoint&&"none"!=this.get("behavior")&&this._updateSelection(r)}_getPoint(e,t){return{x:this.width()*e,y:this.height()*t}}_updateLines(e,t){this._tooltipX||this.lineX.set("x",e),this._tooltipY||this.lineY.set("y",t),this._drawLines()}_updateSelection(e){const t=this.selection,i=this.get("behavior"),s=this.width(),a=this.height();e.x<0&&(e.x=0),e.x>s&&(e.x=s),e.y<0&&(e.y=0),e.y>a&&(e.y=a),t.set("draw",(t=>{const r=this._downPoint;r&&("zoomXY"===i||"selectXY"===i?(t.moveTo(r.x,r.y),t.lineTo(r.x,e.y),t.lineTo(e.x,e.y),t.lineTo(e.x,r.y),t.lineTo(r.x,r.y)):"zoomX"===i||"selectX"===i?(t.moveTo(r.x,0),t.lineTo(r.x,a),t.lineTo(e.x,a),t.lineTo(e.x,0),t.lineTo(r.x,0)):"zoomY"!==i&&"selectY"!==i||(t.moveTo(0,r.y),t.lineTo(s,r.y),t.lineTo(s,e.y),t.lineTo(0,e.y),t.lineTo(0,r.y)))}))}_onHide(){if(this.isHidden()){let e=this.chart;e&&(e.xAxes.each((e=>{e.handleCursorHide()})),e.yAxes.each((e=>{e.handleCursorHide()})),e.series.each((e=>{e.handleCursorHide()})))}super._onHide()}_onShow(){if(!this.isHidden()){let e=this.chart;e&&(e.xAxes.each((e=>{e.handleCursorShow()})),e.yAxes.each((e=>{e.handleCursorShow()})))}super._onShow()}_dispose(){super._dispose(),this.selection.dispose()}}Object.defineProperty(y,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYCursor"}),Object.defineProperty(y,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.g.classNames.concat([y.className])});class v extends n.a{constructor(){super(...arguments),Object.defineProperty(this,"_xField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_axesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_stackDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataSets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_mainContainerMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"mainContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(s.g.new(this._root,{}))}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new s.F}),Object.defineProperty(this,"_skipped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_couldStackTo",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_reallyStackedTo",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_stackedSeries",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_aLocationX0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationX1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_aLocationY0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationY1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_showBullets",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueX","openValueX","lowValueX","highValueX"]}),Object.defineProperty(this,"valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueY","openValueY","lowValueY","highValueY"]}),Object.defineProperty(this,"_valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_emptyDataItem",{enumerable:!0,configurable:!0,writable:!0,value:new n.D(this,void 0,{})}),Object.defineProperty(this,"_dataSetId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posXDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posYDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this.fields.push("categoryX","categoryY","openCategoryX","openCategoryY"),this.valueFields.push("valueX","valueY","openValueX","openValueY","lowValueX","lowValueY","highValueX","highValueY"),this._setRawDefault("vcx",1),this._setRawDefault("vcy",1),this._setRawDefault("valueXShow","valueXWorking"),this._setRawDefault("valueYShow","valueYWorking"),this._setRawDefault("openValueXShow","openValueXWorking"),this._setRawDefault("openValueYShow","openValueYWorking"),this._setRawDefault("lowValueXShow","lowValueXWorking"),this._setRawDefault("lowValueYShow","lowValueYWorking"),this._setRawDefault("highValueXShow","highValueXWorking"),this._setRawDefault("highValueYShow","highValueYWorking"),this._setRawDefault("lowValueXGrouped","low"),this._setRawDefault("lowValueYGrouped","low"),this._setRawDefault("highValueXGrouped","high"),this._setRawDefault("highValueYGrouped","high"),super._afterNew(),this.set("maskContent",!0),this._disposers.push(this.axisRanges.events.onAll((e=>{if("clear"===e.type)(0,s.i)(e.oldValues,(e=>{this._removeAxisRange(e)}));else if("push"===e.type)this._processAxisRange(e.newValue);else if("setIndex"===e.type)this._processAxisRange(e.newValue);else if("insertIndex"===e.type)this._processAxisRange(e.newValue);else if("removeIndex"===e.type)this._removeAxisRange(e.oldValue);else{if("moveIndex"!==e.type)throw new Error("Unknown IStreamEvent type");this._processAxisRange(e.value)}}))),this.states.create("hidden",{opacity:1,visible:!1}),this.onPrivate("startIndex",(()=>{this.root.events.once("frameended",(()=>{this.updateLegendValue()}))})),this.onPrivate("endIndex",(()=>{this.root.events.once("frameended",(()=>{this.updateLegendValue()}))})),this._makeFieldNames()}_processAxisRange(e){const t=s.g.new(this._root,{});e.container=t,this.children.push(t),e.series=this;const i=e.axisDataItem;i.setRaw("isRange",!0);const a=i.component;if(a){a._processAxisRange(i,["range","series"]);const e=i.get("bullet");if(e){const t=e.get("sprite");t&&t.setPrivate("visible",!1)}const s=i.get("axisFill");s&&t.set("mask",s),a._seriesAxisRanges.push(i)}}_removeAxisRange(e){const t=e.axisDataItem,i=t.component;i.disposeDataItem(t),(0,s.r)(i._seriesAxisRanges,t);const a=e.container;a&&a.dispose()}_updateFields(){super._updateFields(),this._valueXFields=[],this._valueYFields=[],this._valueXShowFields=[],this._valueYShowFields=[],this.__valueXShowFields=[],this.__valueYShowFields=[],this.valueXFields&&(0,s.i)(this.valueXFields,(e=>{if(this.get(e+"Field")){this._valueXFields.push(e);let t=this.get(e+"Show");this.__valueXShowFields.push(t),-1!=t.indexOf("Working")?this._valueXShowFields.push(t.split("Working")[0]):this._valueXShowFields.push(t)}})),this.valueYFields&&(0,s.i)(this.valueYFields,(e=>{if(this.get(e+"Field")){this._valueYFields.push(e);let t=this.get(e+"Show");this.__valueYShowFields.push(t),-1!=t.indexOf("Working")?this._valueYShowFields.push(t.split("Working")[0]):this._valueYShowFields.push(t)}}))}_dispose(){super._dispose(),this._bullets={};const e=this.chart;e&&e.series.removeValue(this),(0,s.am)(this.get("xAxis").series,this),(0,s.am)(this.get("yAxis").series,this)}_min(e,t){let i=function(e,t){return null==e?t:null==t?e:t<e?t:e}(this.getPrivate(e),t);this.setPrivate(e,i)}_max(e,t){let i=function(e,t){return null==e?t:null==t?e:t>e?t:e}(this.getPrivate(e),t);this.setPrivate(e,i)}_shouldMakeBullet(e){const t=this.get("xAxis"),i=this.get("yAxis"),s=this.get("baseAxis");if(!t.inited||!i.inited)return!1;const a=this.get("minBulletDistance",0);if(a>0){let e=this.startIndex(),r=this.endIndex()-e;if(t==s){if(t.get("renderer").axisLength()/r<a/5)return!1}else if(i==s&&i.get("renderer").axisLength()/r<a/5)return!1}return null!=e.get(this._xField)&&null!=e.get(this._yField)}_makeFieldNames(){const e=this.get("xAxis"),t=this.get("yAxis"),i=e.getPrivate("name"),a=(0,s.aP)(i),r=t.getPrivate("name"),n=(0,s.aP)(r),o=e.get("renderer").getPrivate("letter"),l=t.get("renderer").getPrivate("letter"),h="open",d="low",u="high",c="Show";"ValueAxis"===e.className?(this._xField=this.get(i+o+c),this._xOpenField=this.get(h+a+o+c),this._xLowField=this.get(d+a+o+c),this._xHighField=this.get(u+a+o+c)):(this._xField=i+o,this._xOpenField=h+a+o,this._xLowField=d+a+o,this._xHighField=u+a+o),"ValueAxis"===t.className?(this._yField=this.get(r+l+c),this._yOpenField=this.get(h+n+l+c),this._yLowField=this.get(d+n+l+c),this._yHighField=this.get(u+n+l+c)):(this._yField=r+l,this._yOpenField=h+n+l,this._yLowField=d+n+l,this._yHighField=u+n+l)}_fixVC(){const e=this.get("xAxis"),t=this.get("yAxis"),i=this.get("baseAxis"),s=this.states.lookup("hidden"),a=this.get("sequencedInterpolation");if(s){let r=0;a&&(r=.999999999999),e===i?s.set("vcy",r):(t===i||s.set("vcy",r),s.set("vcx",r))}}_handleMaskBullets(){this.isDirty("maskBullets")&&this.bulletsContainer.set("maskContent",this.get("maskBullets"))}_fixPosition(){const e=this.get("xAxis"),t=this.get("yAxis");this.set("x",e.x()-(0,s.l)(e.get("centerX",0),e.width())-e.parent.get("paddingLeft",0)),this.set("y",t.y()-(0,s.l)(t.get("centerY",0),t.height())-t.parent.get("paddingTop",0)),this.bulletsContainer.set("y",this.y()),this.bulletsContainer.set("x",this.x())}_prepareChildren(){super._prepareChildren(),this._bullets={},(this.isDirty("valueYShow")||this.isDirty("valueXShow")||this.isDirty("openValueYShow")||this.isDirty("openValueXShow")||this.isDirty("lowValueYShow")||this.isDirty("lowValueXShow")||this.isDirty("highValueYShow")||this.isDirty("highValueXShow"))&&(this._updateFields(),this._makeFieldNames(),this._valuesDirty=!0),(this.isDirty("xAxis")||this.isDirty("yAxis"))&&(this._valuesDirty=!0),this.set("width",this.get("xAxis").width()),this.set("height",this.get("yAxis").height()),this._handleMaskBullets();const e=this.get("xAxis"),t=this.get("yAxis"),i=this.get("baseAxis");let a,r;switch(this.get("tooltipPositionX")){case"open":a=this._xOpenField;break;case"low":a=this._xLowField;break;case"high":a=this._xHighField;break;default:a=this._xField}switch(this._tooltipFieldX=a,this.get("tooltipPositionY")){case"open":r=this._yOpenField;break;case"low":r=this._yLowField;break;case"high":r=this._yHighField;break;default:r=this._yField}this._tooltipFieldY=r,this.isDirty("baseAxis")&&this._fixVC(),this._fixPosition();const n=this.get("stacked");if(this.isDirty("stacked")&&(n?this._valuesDirty&&!this._dataProcessed||this._stack():this._unstack()),this._valuesDirty&&!this._dataProcessed&&(this._dataProcessed=!0,n&&this._stack(),(0,s.i)(this.dataItems,(i=>{(0,s.i)(this._valueXShowFields,(e=>{let t=i.get(e);null!=t&&(n&&(t+=this.getStackedXValue(i,e)),this._min("minX",t),this._max("maxX",t))})),(0,s.i)(this._valueYShowFields,(e=>{let t=i.get(e);null!=t&&(n&&(t+=this.getStackedYValue(i,e)),this._min("minY",t),this._max("maxY",t))})),e.processSeriesDataItem(i,this._valueXFields),t.processSeriesDataItem(i,this._valueYFields)})),e._seriesValuesDirty=!0,t._seriesValuesDirty=!0,this.get("ignoreMinMax")||((this.isPrivateDirty("minX")||this.isPrivateDirty("maxX"))&&e.markDirtyExtremes(),(this.isPrivateDirty("minY")||this.isPrivateDirty("maxY"))&&t.markDirtyExtremes()),this._markStakedDirtyStack(),this.get("tooltipDataItem")||this.updateLegendValue(void 0)),(this.isDirty("vcx")||this.isDirty("vcy"))&&this._markStakedDirtyStack(),this._dataGrouped||(e._groupSeriesData(this),t._groupSeriesData(this),this._dataGrouped=!0),this._valuesDirty||this.isPrivateDirty("startIndex")||this.isPrivateDirty("adjustedStartIndex")||this.isPrivateDirty("endIndex")||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty||this._sizeDirty){let s=this.startIndex(),a=this.endIndex(),r=this.get("minBulletDistance",0);if(r>0&&i&&(i.get("renderer").axisLength()/(a-s)>r?this._showBullets=!0:this._showBullets=!1),(this._psi!=s||this._pei!=a||this.isDirty("vcx")||this.isDirty("vcy")||this.isPrivateDirty("adjustedStartIndex")||this._stackDirty||this._valuesDirty)&&!this._selectionProcessed){this._selectionProcessed=!0;const r=this.get("vcx",1),n=this.get("vcy",1),o=this.get("stacked",!1),l=this.getPrivate("outOfSelection");if(i===e||!i)if(t._calculateTotals(),this.setPrivateRaw("selectionMinY",void 0),this.setPrivateRaw("selectionMaxY",void 0),l)t.markDirtySelectionExtremes();else for(let e=s;e<a;e++)this.processYSelectionDataItem(this.dataItems[e],n,o);if(i===t||!i)if(e._calculateTotals(),this.setPrivateRaw("selectionMinX",void 0),this.setPrivateRaw("selectionMaxX",void 0),l)t.markDirtySelectionExtremes();else for(let e=s;e<a;e++)this.processXSelectionDataItem(this.dataItems[e],r,o);if((i===e||!i)&&"valueYWorking"!==this.get("valueYShow")){const e=this.getPrivate("selectionMinY");null!=e&&(this.setPrivateRaw("minY",e),t.markDirtyExtremes());const i=this.getPrivate("selectionMaxY");null!=i&&(this.setPrivateRaw("maxY",i),t.markDirtyExtremes())}if((i===t||!i)&&"valueXWorking"!==this.get("valueXShow")){const i=this.getPrivate("selectionMinX");null!=i&&(this.setPrivateRaw("minX",i),t.markDirtyExtremes());const s=this.getPrivate("selectionMaxX");null!=s&&(this.setPrivateRaw("maxX",s),e.markDirtyExtremes())}(this.isPrivateDirty("selectionMinX")||this.isPrivateDirty("selectionMaxX"))&&e.markDirtySelectionExtremes(),(this.isPrivateDirty("selectionMinY")||this.isPrivateDirty("selectionMaxY"))&&t.markDirtySelectionExtremes()}}}_makeRangeMask(){if(this.axisRanges.length>0){let e=this._mainContainerMask;null==e&&(e=this.children.push(s.e.new(this._root,{})),this._mainContainerMask=e,e.set("draw",((t,i)=>{const s=this.parent;if(s){const e=this._root.container.width(),a=this._root.container.height();t.moveTo(-e,-a),t.lineTo(-e,2*a),t.lineTo(2*e,2*a),t.lineTo(2*e,-a),t.lineTo(-e,-a),this.axisRanges.each((e=>{const a=e.axisDataItem.get("axisFill");if(s&&a){let e=a.get("draw");e&&e(t,i)}}))}this.mainContainer._display.mask=e._display}))),e.markDirty(),e._markDirtyKey("fill")}else this.mainContainer._display.mask=null}_updateChildren(){super._updateChildren(),this._x=this.x(),this._y=this.y(),this._makeRangeMask()}_stack(){const e=this.chart;if(e){const t=e.series.indexOf(this);if(this._couldStackTo=[],t>0){let i;for(let s=t-1;s>=0&&(i=e.series.getIndex(s),i.get("xAxis")!==this.get("xAxis")||i.get("yAxis")!==this.get("yAxis")||i.className!==this.className||(this._couldStackTo.push(i),i.get("stacked")));s--);}this._stackDataItems()}}_unstack(){(0,s._)(this._reallyStackedTo,((e,t)=>{delete t._stackedSeries[this.uid]})),this._reallyStackedTo={},(0,s.i)(this.dataItems,(e=>{e.setRaw("stackToItemY",void 0),e.setRaw("stackToItemX",void 0)}))}_stackDataItems(){const e=this.get("baseAxis"),t=this.get("xAxis"),i=this.get("yAxis");let a,r;e===t?(a="valueY",r="stackToItemY"):e===i&&(a="valueX",r="stackToItemX");let n=this._couldStackTo.length,o=0;const l=this.get("stackToNegative");this._reallyStackedTo={},(0,s.i)(this.dataItems,(e=>{for(let t=0;t<n;t++){let i=this._couldStackTo[t],n=i.dataItems[o],h=e.get(a);if(n){let t=n.get(a);if(l){if(!(0,s.k)(h))break;if((0,s.k)(t)){if(h>=0&&t>=0){e.setRaw(r,n),this._reallyStackedTo[i.uid]=i,i._stackedSeries[this.uid]=this;break}if(h<0&&t<0){e.setRaw(r,n),this._reallyStackedTo[i.uid]=i,i._stackedSeries[this.uid]=this;break}}}else if((0,s.k)(h)&&(0,s.k)(t)){e.setRaw(r,n),this._reallyStackedTo[i.uid]=i,i._stackedSeries[this.uid]=this;break}}}o++}))}processXSelectionDataItem(e,t,i){(0,s.i)(this.__valueXShowFields,(s=>{let a=e.get(s);null!=a&&(i&&(a+=this.getStackedXValueWorking(e,s)),this._min("selectionMinX",a),this._max("selectionMaxX",a*t))}))}processYSelectionDataItem(e,t,i){(0,s.i)(this.__valueYShowFields,(s=>{let a=e.get(s);null!=a&&(i&&(a+=this.getStackedYValueWorking(e,s)),this._min("selectionMinY",a),this._max("selectionMaxY",a*t))}))}getStackedYValueWorking(e,t){const i=e.get("stackToItemY");if(i){const e=i.component;return i.get(t,0)*e.get("vcy",1)+this.getStackedYValueWorking(i,t)}return 0}getStackedXValueWorking(e,t){const i=e.get("stackToItemX");if(i){const e=i.component;return i.get(t,0)*e.get("vcx",1)+this.getStackedXValueWorking(i,t)}return 0}getStackedYValue(e,t){const i=e.get("stackToItemY");return i?i.get(t,0)+this.getStackedYValue(i,t):0}getStackedXValue(e,t){const i=e.get("stackToItemX");return i?i.get(t,0)+this.getStackedXValue(i,t):0}createLegendMarker(e){this.updateLegendMarker()}_markDirtyAxes(){this._axesDirty=!0,this.markDirty()}_markDataSetDirty(){this._afterDataChange(),this._valuesDirty=!0,this._dataProcessed=!1,this._aggregatesCalculated=!1,this.markDirty()}_clearDirty(){super._clearDirty(),this._axesDirty=!1,this._selectionProcessed=!1,this._stackDirty=!1,this._dataProcessed=!1}_positionBullet(e){let t=e.get("sprite");if(t){let i=t.dataItem,s=e.get("locationX",i.get("locationX",.5)),a=e.get("locationY",i.get("locationY",.5)),r=this.get("xAxis"),n=this.get("yAxis"),o=r.getDataItemPositionX(i,this._xField,s,this.get("vcx",1)),l=n.getDataItemPositionY(i,this._yField,a,this.get("vcy",1)),h=this.getPoint(o,l),d=i.get("left",h.x),u=i.get("right",h.x),c=i.get("top",h.y),g=i.get("bottom",h.y),p=0,m=0,b=u-d,f=g-c;if(this._shouldShowBullet(o,l)){t.setPrivate("visible",!e.getPrivate("hidden"));let r=e.get("field");const n=this.get("baseAxis"),u=this.get("xAxis"),c=this.get("yAxis");if(null!=r){let e;n==u?("value"==r?e=this._yField:"open"==r?e=this._yOpenField:"high"==r?e=this._yHighField:"low"==r&&(e=this._yLowField),e&&(l=c.getDataItemPositionY(i,e,0,this.get("vcy",1)),h=c.get("renderer").positionToPoint(l),m=h.y,p=d+b*s)):("value"==r?e=this._xField:"open"==r?e=this._xOpenField:"high"==r?e=this._xHighField:"low"==r&&(e=this._xLowField),e&&(o=u.getDataItemPositionX(i,e,0,this.get("vcx",1)),h=u.get("renderer").positionToPoint(o),p=h.x,m=g-f*a))}else p=d+b*s,m=g-f*a;const _=e.get("stacked");if(_){const e=this.chart;if(n==u){let i=this._bullets[o+"_"+l];if(i){let s=i.bounds(),a=t.localBounds(),r=m;m=s.top,"down"==_?m=s.bottom-a.top:"auto"==_?e&&(r<e.plotContainer.height()/2?m=s.bottom-a.top:m+=a.bottom):m+=a.bottom}this._bullets[o+"_"+l]=t}else{let i=this._bullets[o+"_"+l];if(i){let s=i.bounds(),a=t.localBounds(),r=p;p=s.right,"down"==_?p=s.left-a.right:"auto"==_?e&&(r<e.plotContainer.width()/2?p=s.left-a.right:p-=a.left):p-=a.left}this._bullets[o+"_"+l]=t}}t.isType("Label")&&(t.setPrivate("maxWidth",Math.abs(b)),t.setPrivate("maxHeight",Math.abs(f))),t.setAll({x:p,y:m})}else t.setPrivate("visible",!1)}}_shouldShowBullet(e,t){return this._showBullets}setDataSet(e){if(this._dataSets[e]){this._handleDataSetChange(),this._dataItems=this._dataSets[e],this._markDataSetDirty(),this._dataSetId=e;const t="datasetchanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,id:e})}}resetGrouping(){(0,s._)(this._dataSets,((e,t)=>{t!=this._mainDataItems&&(0,s.i)(t,(e=>{this.disposeDataItem(e)}))})),this._dataSets={},this._dataItems=this.mainDataItems}_handleDataSetChange(){(0,s.i)(this._dataItems,(e=>{let t=e.bullets;t&&(0,s.i)(t,(e=>{if(e){let t=e.get("sprite");t&&t.setPrivate("visible",!1)}}))})),this._selectionProcessed=!1}show(e){const t=Object.create(null,{show:{get:()=>super.show}});return(0,l.d)(this,void 0,void 0,(function*(){this._fixVC();let i=[];i.push(t.show.call(this,e).then((()=>{this._isShowing=!1;let e=this.get("xAxis"),t=this.get("yAxis"),i=this.get("baseAxis");t!==i&&t.markDirtySelectionExtremes(),e!==i&&e.markDirtySelectionExtremes()}))),i.push(this.bulletsContainer.show(e)),i.push(this._sequencedShowHide(!0,e)),yield Promise.all(i)}))}hide(e){const t=Object.create(null,{hide:{get:()=>super.hide}});return(0,l.d)(this,void 0,void 0,(function*(){this._fixVC();let i=[];i.push(t.hide.call(this,e).then((()=>{this._isHiding=!1}))),i.push(this.bulletsContainer.hide(e)),i.push(this._sequencedShowHide(!1,e)),yield Promise.all(i)}))}showDataItem(e,t){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return(0,l.d)(this,void 0,void 0,(function*(){const a=[i.showDataItem.call(this,e,t)];(0,s.k)(t)||(t=this.get("stateAnimationDuration",0));const r=this.get("stateAnimationEasing");(0,s.i)(this._valueFields,(i=>{a.push(e.animate({key:i+"Working",to:e.get(i),duration:t,easing:r}).waitForStop())})),yield Promise.all(a)}))}hideDataItem(e,t){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return(0,l.d)(this,void 0,void 0,(function*(){const a=[i.hideDataItem.call(this,e,t)],r=this.states.create("hidden",{});(0,s.k)(t)||(t=r.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));const n=r.get("stateAnimationEasing",this.get("stateAnimationEasing")),o=this.get("xAxis"),l=this.get("yAxis"),h=this.get("baseAxis"),d=this.get("stacked");if(h!==o&&h||(0,s.i)(this._valueYFields,(i=>{let r=l.getPrivate("min"),o=l.baseValue();(0,s.k)(r)&&r>o&&(o=r),d&&(o=0),null!=e.get(i)&&a.push(e.animate({key:i+"Working",to:o,duration:t,easing:n}).waitForStop())})),h===l||!h){let i=o.getPrivate("min"),r=o.baseValue();(0,s.k)(i)&&i>r&&(r=i),d&&(r=0),(0,s.i)(this._valueXFields,(i=>{null!=e.get(i)&&a.push(e.animate({key:i+"Working",to:r,duration:t,easing:n}).waitForStop())}))}yield Promise.all(a)}))}_markDirtyStack(){this._stackDirty=!0,this.markDirty(),this._markStakedDirtyStack()}_markStakedDirtyStack(){const e=this._stackedSeries;e&&(0,s._)(e,((e,t)=>{t._stackDirty||t._markDirtyStack()}))}_afterChanged(){super._afterChanged(),this._skipped&&(this._markDirtyAxes(),this._skipped=!1)}showDataItemTooltip(e){this.getPrivate("doNotUpdateLegend")||(this.updateLegendMarker(e),this.updateLegendValue(e));const t=this.get("tooltip");if(t)if(!this.isHidden()&&this.get("visible")){if(t._setDataItem(e),e){let i=this.get("locationX",0),a=this.get("locationY",1),r=e.get("locationX",i),n=e.get("locationY",a);const o=this.get("xAxis"),l=this.get("yAxis"),h=this.get("vcx",1),d=this.get("vcy",1),u=o.getDataItemPositionX(e,this._tooltipFieldX,this._aLocationX0+(this._aLocationX1-this._aLocationX0)*r,h),c=l.getDataItemPositionY(e,this._tooltipFieldY,this._aLocationY0+(this._aLocationY1-this._aLocationY0)*n,d),g=this.getPoint(u,c);let p=!0;if((0,s.i)(this._valueFields,(t=>{null==e.get(t)&&(p=!1)})),p){const i=this.chart;i&&i.inPlot(g)?(t.label.text.markDirtyText(),t.set("tooltipTarget",this._getTooltipTarget(e)),t.set("pointTo",this._display.toGlobal({x:g.x,y:g.y}))):t._setDataItem(void 0)}else t._setDataItem(void 0)}}else this.hideTooltip()}hideTooltip(){const e=this.get("tooltip");return e&&e.set("tooltipTarget",this),super.hideTooltip()}_getTooltipTarget(e){if("bullet"==this.get("seriesTooltipTarget")){const t=e.bullets;if(t&&t.length>0){const e=t[0].get("sprite");if(e)return e}}return this}updateLegendValue(e){const t=this.get("legendDataItem");if(t){const i=t.get("label");if(i){let t="";e?(i._setDataItem(e),t=this.get("legendLabelText",i.get("text",this.get("name","")))):(i._setDataItem(this._emptyDataItem),t=this.get("legendRangeLabelText",this.get("legendLabelText",i.get("text",this.get("name",""))))),i.set("text",t)}const s=t.get("valueLabel");if(s){let t="";e?(s._setDataItem(e),t=this.get("legendValueText",s.get("text",""))):(s._setDataItem(this._emptyDataItem),t=this.get("legendRangeValueText",s.get("text",""))),s.set("text",t)}}}_getItemReaderLabel(){let e="X: {"+this._xField;return this.get("xAxis").isType("DateAxis")&&(e+=".formatDate()"),e+="}; Y: {"+this._yField,this.get("yAxis").isType("DateAxis")&&(e+=".formatDate()"),e+="}",e}getPoint(e,t){let i=this.get("xAxis").get("renderer").positionToCoordinate(e),s=this.get("yAxis").get("renderer").positionToCoordinate(t),a=999999999;return s<-a&&(s=-a),s>a&&(s=a),i<-a&&(i=-a),i>a&&(i=a),{x:i,y:s}}_shouldInclude(e){return!0}handleCursorHide(){this.hideTooltip(),this.updateLegendValue(void 0),this.updateLegendMarker(void 0)}_afterDataChange(){super._afterDataChange(),this.get("xAxis")._markDirtyKey("start"),this.get("yAxis")._markDirtyKey("start"),this.resetExtremes()}resetExtremes(){this.setPrivate("selectionMinX",void 0),this.setPrivate("selectionMaxX",void 0),this.setPrivate("selectionMinY",void 0),this.setPrivate("selectionMaxY",void 0),this.setPrivate("minX",void 0),this.setPrivate("minY",void 0),this.setPrivate("maxX",void 0),this.setPrivate("maxY",void 0)}createAxisRange(e){return this.axisRanges.push({axisDataItem:e})}get mainDataItems(){return this._mainDataItems}_adjustStartIndex(e){const t=this.get("xAxis");if(this.get("baseAxis")==t&&t.isType("DateAxis")){const i=t.baseDuration(),s=t.getPrivate("selectionMin",t.getPrivate("min",0)),a=i*this.get("locationX",.5);let r=-1/0;for(;r<s;){const t=this.dataItems[e];if(!t)break;{const i=t.open;if(r=i?i.valueX:t.get("valueX",0),r+=a,!(r<s))break;e++}}}return e}}Object.defineProperty(v,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYSeries"}),Object.defineProperty(v,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:n.a.classNames.concat([v.className])});class x extends n.C{constructor(){super(...arguments),Object.defineProperty(this,"_series",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_isPanning",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"minorDataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(s.g.new(this._root,{}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:s.g.new(this._root,{width:s.a,height:s.a})}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:s.g.new(this._root,{width:s.a,height:s.a})}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(s.g.new(this._root,{isMeasured:!1,width:s.a,height:s.a,position:"absolute"}))}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rangesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_panStart",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_panEnd",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_sAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_skipSync",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new s.F}),Object.defineProperty(this,"_seriesAxisRanges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"ghostLabel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cursorPosition",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"_snapToSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_seriesValuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesAdded",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisHeader",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(s.g.new(this._root,{themeTags:["axis","header"],position:"absolute",background:s.R.new(this._root,{themeTags:["header","background"],fill:this._root.interfaceColors.get("background")})}))}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_dispose(){this.gridContainer.dispose(),this.topGridContainer.dispose(),this.bulletsContainer.dispose(),this.labelsContainer.dispose(),this.axisHeader.dispose(),super._dispose()}_afterNew(){super._afterNew(),this.setPrivate("updateScrollbar",!0),this._disposers.push(this.axisRanges.events.onAll((e=>{if("clear"===e.type)(0,s.i)(e.oldValues,(e=>{this.disposeDataItem(e)}));else if("push"===e.type)this._processAxisRange(e.newValue,["range"]);else if("setIndex"===e.type)this._processAxisRange(e.newValue,["range"]);else if("insertIndex"===e.type)this._processAxisRange(e.newValue,["range"]);else if("removeIndex"===e.type)this.disposeDataItem(e.oldValue);else{if("moveIndex"!==e.type)throw new Error("Unknown IStreamEvent type");this._processAxisRange(e.value,["range"])}})));const e=this.get("renderer");e&&(e.axis=this,e.processAxis()),this.children.push(e),this.ghostLabel=e.makeLabel(new n.D(this,void 0,{}),[]),this.ghostLabel.adapters.disable("text"),this.ghostLabel.setAll({opacity:0,tooltipText:void 0,tooltipHTML:void 0,interactive:!1}),this.ghostLabel.events.disable()}_updateFinals(e,t){}zoom(e,t,i,a){if(this.get("zoomable",!0))if(this._updateFinals(e,t),this.get("start")!==e||this.get("end")!=t){let r=this._sAnimation,n=this._eAnimation,o=this.get("maxDeviation",.5)*Math.min(1,t-e);e<-o&&(e=-o),t>1+o&&(t=1+o),e>t&&([e,t]=[t,e]),(0,s.k)(i)||(i=this.get("interpolationDuration",0)),a||(a="end");let l=this.getPrivate("maxZoomFactor",this.get("maxZoomFactor",100)),h=l;1===t&&0!==e&&(a=e<this.get("start",0)?"start":"end"),0===e&&1!==t&&(a=t>this.get("end",1)?"end":"start");let d=this.get("minZoomCount",0),u=this.get("maxZoomCount",1/0);(0,s.k)(d)&&(l=h/d);let c=1;if((0,s.k)(u)&&(c=h/u),"start"===a?(u>0&&1/(t-e)<c&&(t=e+1/c),1/(t-e)>l&&(t=e+1/l),t>1&&t-e<1/l&&(e=t-1/l)):(u>0&&1/(t-e)<c&&(e=t-1/c),1/(t-e)>l&&(e=t-1/l),e<0&&t-e<1/l&&(t=e+1/l)),1/(t-e)>l&&(t=e+1/l),1/(t-e)>l&&(e=t-1/l),null!=u&&null!=d&&e==this.get("start")&&t==this.get("end")){const e=this.chart;e&&e._handleAxisSelection(this,!0)}if((r&&r.playing&&r.to==e||this.get("start")==e)&&(n&&n.playing&&n.to==t||this.get("end")==t))return;if(i>0){let s,a,r=this.get("interpolationEasing");if(this.get("start")!=e&&(s=this.animate({key:"start",to:e,duration:i,easing:r})),this.get("end")!=t&&(a=this.animate({key:"end",to:t,duration:i,easing:r})),this._sAnimation=s,this._eAnimation=a,s)return s;if(a)return a}else this.set("start",e),this.set("end",t)}else this._sAnimation&&this._sAnimation.stop(),this._eAnimation&&this._eAnimation.stop()}get series(){return this._series}_processAxisRange(e,t){e.setRaw("isRange",!0),this._createAssets(e,t),this._rangesDirty=!0,this._prepareDataItem(e);const i=e.get("above"),s=this.topGridContainer,a=e.get("grid");i&&a&&s.children.moveValue(a);const r=e.get("axisFill");i&&r&&s.children.moveValue(r)}_prepareDataItem(e,t){}markDirtyExtremes(){}markDirtySelectionExtremes(){}_calculateTotals(){}_updateAxisRanges(){this._bullets={},this.axisRanges.each((e=>{this._prepareDataItem(e)})),(0,s.i)(this._seriesAxisRanges,(e=>{this._prepareDataItem(e)}))}_prepareChildren(){if(super._prepareChildren(),this.get("fixAxisSize")?this.ghostLabel.set("visible",!0):this.ghostLabel.set("visible",!1),this.isDirty("start")||this.isDirty("end")){const e=this.chart;e&&e._updateCursor();let t=this.get("start",0),i=this.get("end",1),s=this.get("maxDeviation",.5)*Math.min(1,i-t);if(t<-s){let e=t+s;t=-s,this.setRaw("start",t),this.isDirty("end")&&this.setRaw("end",i-e)}if(i>1+s){let e=i-1-s;i=1+s,this.setRaw("end",i),this.isDirty("start")&&this.setRaw("start",t-e)}}const e=this.get("renderer");if(e._start=this.get("start"),e._end=this.get("end"),e._inversed=e.get("inversed",!1),e._axisLength=e.axisLength()/(e._end-e._start),e._updateLC(),this.isDirty("tooltip")){const t=this.get("tooltip");if(t){const i=e.get("themeTags");t.addTag("axis"),t.addTag(this.className.toLowerCase()),t._applyThemes(),i&&(t.set("themeTags",(0,s.m)(t.get("themeTags"),i)),t.label._applyThemes())}}}_updateTooltipBounds(){const e=this.get("tooltip");e&&this.get("renderer").updateTooltipBounds(e)}_updateBounds(){super._updateBounds(),this._updateTooltipBounds()}processChart(e){this.chart=e,this.get("renderer").chart=e,e.gridContainer.children.push(this.gridContainer),e.topGridContainer.children.push(this.topGridContainer),e.axisHeadersContainer.children.push(this.axisHeader),this.on("start",(()=>{e._handleAxisSelection(this)})),this.on("end",(()=>{e._handleAxisSelection(this)})),e.plotContainer.onPrivate("width",(()=>{this.markDirtySize()})),e.plotContainer.onPrivate("height",(()=>{this.markDirtySize()})),e.processAxis(this)}hideDataItem(e){return this._toggleFHDataItem(e,!0),super.hideDataItem(e)}showDataItem(e){return this._toggleFHDataItem(e,!1),super.showDataItem(e)}_toggleFHDataItem(e,t){const i="forceHidden",s=e.get("label");s&&s.set(i,t);const a=e.get("grid");a&&a.set(i,t);const r=e.get("tick");r&&r.set(i,t);const n=e.get("axisFill");n&&n.set(i,t);const o=e.get("bullet");if(o){const e=o.get("sprite");e&&e.set(i,t)}}_toggleDataItem(e,t){const i=e.get("label"),s="visible";i&&i.setPrivate(s,t);const a=e.get("grid");a&&a.setPrivate(s,t);const r=e.get("tick");r&&r.setPrivate(s,t);const n=e.get("axisFill");n&&n.setPrivate(s,t);const o=e.get("bullet");if(o){const e=o.get("sprite");e&&e.setPrivate(s,t)}}_createAssets(e,t,i){var s,a,r;const n=this.get("renderer");let o="minor";const l=e.get("label");if(l){let a=l.get("themeTags"),r=!1;i?-1==(null==a?void 0:a.indexOf(o))&&(r=!0):-1!=(null==a?void 0:a.indexOf(o))&&(r=!0),r&&(null===(s=l.parent)||void 0===s||s.children.removeValue(l),n.makeLabel(e,t),l.dispose(),n.labels.removeValue(l))}else n.makeLabel(e,t);const h=e.get("grid");if(h){let s=h.get("themeTags"),r=!1;i?-1==(null==s?void 0:s.indexOf(o))&&(r=!0):-1!=(null==s?void 0:s.indexOf(o))&&(r=!0),r&&(null===(a=h.parent)||void 0===a||a.children.removeValue(h),n.makeGrid(e,t),h.dispose(),n.grid.removeValue(h))}else n.makeGrid(e,t);const d=e.get("tick");if(d){let s=!1,a=d.get("themeTags");i?-1==(null==a?void 0:a.indexOf(o))&&(s=!0):-1!=(null==a?void 0:a.indexOf(o))&&(s=!0),s&&(null===(r=d.parent)||void 0===r||r.children.removeValue(d),n.makeTick(e,t),d.dispose(),n.ticks.removeValue(d))}else n.makeTick(e,t);i||e.get("axisFill")||n.makeAxisFill(e,t),this._processBullet(e)}_processBullet(e){let t=e.get("bullet"),i=this.get("bullet");if(t||!i||e.get("isRange")||(t=i(this._root,this,e)),t){t.axis=this;const i=t.get("sprite");i&&(i._setDataItem(e),e.setRaw("bullet",t),i.parent||this.bulletsContainer.children.push(i))}}_afterChanged(){super._afterChanged();const e=this.chart;e&&(e._updateChartLayout(),e.axisHeadersContainer.markDirtySize()),this.get("renderer")._updatePositions(),this._seriesAdded=!1}disposeDataItem(e){super.disposeDataItem(e);const t=this.get("renderer"),i=e.get("label");i&&(t.labels.removeValue(i),i.dispose());const s=e.get("tick");s&&(t.ticks.removeValue(s),s.dispose());const a=e.get("grid");a&&(t.grid.removeValue(a),a.dispose());const r=e.get("axisFill");r&&(t.axisFills.removeValue(r),r.dispose());const n=e.get("bullet");n&&n.dispose()}_updateGhost(){this.setPrivate("cellWidth",this.getCellWidthPosition()*this.get("renderer").axisLength());const e=this.ghostLabel;if(!e.isHidden()){const t=e.localBounds(),i=Math.ceil(t.right-t.left);let a=e.get("text");(0,s.i)(this.dataItems,(e=>{const t=e.get("label");if(t&&!t.isHidden()){const e=t.localBounds();Math.ceil(e.right-e.left)>i&&(a=t.text._getText())}})),e.set("text",a)}let t=this.get("start",0),i=this.get("end",1);this.get("renderer").updateLabel(e,t+.5*(i-t))}_handleCursorPosition(e,t){e=this.get("renderer").toAxisPosition(e),this._cursorPosition=e,this._snapToSeries=t,this.updateTooltip()}updateTooltip(){const e=this._snapToSeries;let t=this._cursorPosition;const i=this.get("tooltip"),a=this.get("renderer");(0,s.k)(t)&&((0,s.i)(this.series,(i=>{if(i.get("baseAxis")===this){const s=this.getSeriesItem(i,t,this.get("tooltipLocation"));e&&-1!=e.indexOf(i)?(i.updateLegendMarker(s),i.updateLegendValue(s),i._settings.tooltipDataItem=s):(i.showDataItemTooltip(s),i.setRaw("tooltipDataItem",s))}})),this.get("snapTooltip")&&(t=this.roundAxisPosition(t,this.get("tooltipLocation",.5))),this.setPrivateRaw("tooltipPosition",t),i&&(a.updateTooltipBounds(i),(0,s.q)(t)?i.hide(0):(this._updateTooltipText(i,t),a.positionTooltip(i,t),t<this.get("start",0)||t>this.get("end",1)?i.hide(0):i.show(0))))}_updateTooltipText(e,t){e.label.set("text",this.getTooltipText(t))}roundAxisPosition(e,t){return e}handleCursorShow(){let e=this.get("tooltip");e&&e.show()}handleCursorHide(){let e=this.get("tooltip");e&&e.hide()}processSeriesDataItem(e,t){}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._rangesDirty=!1}coordinateToPosition(e){const t=this.get("renderer");return t.toAxisPosition(e/t.axisLength())}toAxisPosition(e){return this.get("renderer").toAxisPosition(e)}toGlobalPosition(e){return this.get("renderer").toGlobalPosition(e)}fixPosition(e){return this.get("renderer").fixPosition(e)}shouldGap(e,t,i,s){return!1}createAxisRange(e){return this.axisRanges.push(e)}_groupSeriesData(e){}getCellWidthPosition(){return.05}}Object.defineProperty(x,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Axis"}),Object.defineProperty(x,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:n.C.classNames.concat([x.className])});class w extends x{constructor(){super(...arguments),Object.defineProperty(this,"_dirtyExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirtySelectionExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dseHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_deltaMinMax",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_minReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_maxReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minRealLog",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_baseValue",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_syncDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minLogAdjusted",{enumerable:!0,configurable:!0,writable:!0,value:1})}markDirtyExtremes(){this._dirtyExtremes=!0,this.markDirty()}markDirtySelectionExtremes(){this._dirtySelectionExtremes=!0,this.markDirty()}_afterNew(){this._settings.themeTags=(0,s.m)(this._settings.themeTags,["axis"]),this.setPrivateRaw("name","value"),this.addTag("value"),super._afterNew()}_prepareChildren(){if(super._prepareChildren(),this.isDirty("syncWithAxis")){this._prevSettings.syncWithAxis&&this._syncDp&&this._syncDp.dispose();let e=this.get("syncWithAxis");e&&(this._syncDp=new s.M([e.onPrivate("selectionMinFinal",(()=>{this._dirtySelectionExtremes=!0})),e.onPrivate("selectionMaxFinal",(()=>{this._dirtySelectionExtremes=!0}))]))}let e=!1;if((this.isDirty("min")||this.isDirty("max")||this.isDirty("maxPrecision")||this.isDirty("numberFormat"))&&(e=!0,this.ghostLabel.set("text","")),(this._sizeDirty||this._dirtyExtremes||this._valuesDirty||e||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("extraMin")||this.isDirty("extraMax")||this.isDirty("logarithmic")||this.isDirty("treatZeroAs")||this.isDirty("baseValue")||this.isDirty("strictMinMax")||this.isDirty("strictMinMaxSelection"))&&(this._getMinMax(),this._dirtyExtremes=!1),this._handleSizeDirty(),this._dirtySelectionExtremes&&!this._isPanning&&this.get("autoZoom",!0)){const e=this.chart;let t=!1;if(e){const i=this.get("renderer").getPrivate("letter");"Y"==i?e.xAxes.each((e=>{"ValueAxis"!=e.className&&(t=!0)})):"X"==i&&e.yAxes.each((e=>{"ValueAxis"!=e.className&&(t=!0)}))}t&&this._getSelectionMinMax(),this._dirtySelectionExtremes=!1}this._groupData(),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("min")||this.isPrivateDirty("selectionMax")||this.isPrivateDirty("selectionMin")||this.isPrivateDirty("max")||this.isPrivateDirty("step")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("logarithmic"))&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges()),this._baseValue=this.baseValue()}_handleSizeDirty(){this._sizeDirty&&!this._dseHandled&&(this._dirtySelectionExtremes=!0,this._dseHandled=!0)}_clearDirty(){super._clearDirty(),this._dseHandled=!1}_groupData(){}_formatText(e){const t=this.get("numberFormat"),i=this.getNumberFormatter();let s="";return s=t?i.format(e,t):i.format(e,void 0,this.getPrivate("stepDecimalPlaces")),s}_prepareAxisItems(){const e=this.getPrivate("min"),t=this.getPrivate("max");if((0,s.k)(e)&&(0,s.k)(t)){const t=this.get("logarithmic"),i=this.getPrivate("step"),a=this.getPrivate("selectionMin"),r=this.getPrivate("selectionMax")+i;let o=a-i,l=1,h=e;if(t){if(o=this._minLogAdjusted,o<a)for(;o<a;)o+=i;h=o,h<=0&&(h=1,i<1&&(h=(0,s.k)(this._minRealLog)?this._minRealLog:Math.pow(10,-50))),l=Math.log(r-i)*Math.LOG10E-Math.log(h)*Math.LOG10E,l>2&&(o=Math.pow(10,Math.log(h)*Math.LOG10E-50))}const d=this.get("renderer"),u=d.get("minorLabelsEnabled"),c=d.get("minorGridEnabled",u);let g=Math.pow(10,Math.floor(Math.log(Math.abs(i))*Math.LOG10E));const p=Math.round(i/g);let m=2;(0,s.aL)(p/5,10)%1==0&&(m=5),(0,s.aL)(p/10,10)%1==0&&(m=10);let b=i/m,f=0,_=0,y=-1/0;for(;o<r;){let e;this.dataItems.length<f+1?(e=new n.D(this,void 0,{}),this._dataItems.push(e),this.processDataItem(e)):e=this.dataItems[f],this._createAssets(e,[]),this._toggleDataItem(e,!0),e.setRaw("value",o);const a=e.get("label");a&&a.set("text",this._formatText(o)),this._prepareDataItem(e);let r=o;if(t&&l>2?r=Math.pow(10,Math.log(h)*Math.LOG10E+f-50):r+=i,c){let e=o+b;for(t&&(l>2&&(b=this._adjustMinMax(o,r,10).step),e=o+b);e<r-1e-11*i;){let t;this.minorDataItems.length<_+1?(t=new n.D(this,void 0,{}),this.minorDataItems.push(t),this.processDataItem(t)):t=this.minorDataItems[_],this._createAssets(t,["minor"],!0),this._toggleDataItem(t,!0),t.setRaw("value",e);const i=t.get("label");i&&(u?i.set("text",this._formatText(e)):i.setPrivate("visible",!1)),this._prepareDataItem(t),e+=b,_++}}if(o=r,y==o)break;let d=Math.pow(10,Math.floor(Math.log(Math.abs(i))*Math.LOG10E));if(d<1&&!t){let e=Math.round(Math.abs(Math.log(Math.abs(d))*Math.LOG10E))+2;o=(0,s.aL)(o,e)}f++,y=o}for(let e=f;e<this.dataItems.length;e++)this._toggleDataItem(this.dataItems[e],!1);for(let e=_;e<this.minorDataItems.length;e++)this._toggleDataItem(this.minorDataItems[e],!1);(0,s.i)(this.series,(e=>{e.inited&&e._markDirtyAxes()})),this._updateGhost()}}_prepareDataItem(e,t){let i=this.get("renderer"),a=e.get("value"),r=e.get("endValue"),n=this.valueToPosition(a),o=n,l=this.valueToPosition(a+this.getPrivate("step"));(0,s.k)(r)&&(o=this.valueToPosition(r),l=o),e.get("isRange")&&null==r&&(l=n);let h=o,d=e.get("labelEndValue");null!=d&&(h=this.valueToPosition(d)),i.updateLabel(e.get("label"),n,h,t);const u=e.get("grid");if(i.updateGrid(u,n,o),u&&(a==this.get("baseValue",0)?(u.addTag("base"),u._applyThemes()):u.hasTag("base")&&(u.removeTag("base"),u._applyThemes())),i.updateTick(e.get("tick"),n,h,t),i.updateFill(e.get("axisFill"),n,l),this._processBullet(e),i.updateBullet(e.get("bullet"),n,o),!e.get("isRange")){const t=this.get("fillRule");t&&t(e)}}_handleRangeChange(){let e=this.positionToValue(this.get("start",0)),t=this.positionToValue(this.get("end",1));const i=this.get("renderer").gridCount();let a=this._adjustMinMax(e,t,i,!0),r=(0,s.a0)(a.step);this.setPrivateRaw("stepDecimalPlaces",r),e=(0,s.aL)(e,r),t=(0,s.aL)(t,r),a=this._adjustMinMax(e,t,i,!0);let n=a.step;e=a.min,t=a.max,this.getPrivate("selectionMin")===e&&this.getPrivate("selectionMax")===t&&this.getPrivate("step")===n||(this.setPrivateRaw("selectionMin",e),this.setPrivateRaw("selectionMax",t),this.setPrivateRaw("step",n))}positionToValue(e){const t=this.getPrivate("min"),i=this.getPrivate("max");return this.get("logarithmic")?Math.pow(Math.E,(e*(Math.log(i)*Math.LOG10E-Math.log(t)*Math.LOG10E)+Math.log(t)*Math.LOG10E)/Math.LOG10E):e*(i-t)+t}valueToPosition(e){const t=this.getPrivate("min"),i=this.getPrivate("max");if(this.get("logarithmic")){if(e<=0){let t=this.get("treatZeroAs");(0,s.k)(t)&&(e=t)}return(Math.log(e)*Math.LOG10E-Math.log(t)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(t)*Math.LOG10E)}return(e-t)/(i-t)}valueToFinalPosition(e){const t=this.getPrivate("minFinal"),i=this.getPrivate("maxFinal");if(this.get("logarithmic")){if(e<=0){let t=this.get("treatZeroAs");(0,s.k)(t)&&(e=t)}return(Math.log(e)*Math.LOG10E-Math.log(t)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(t)*Math.LOG10E)}return(e-t)/(i-t)}getX(e,t,i){e=i+(e-i)*t;const s=this.valueToPosition(e);return this._settings.renderer.positionToCoordinate(s)}getY(e,t,i){e=i+(e-i)*t;const s=this.valueToPosition(e);return this._settings.renderer.positionToCoordinate(s)}getDataItemCoordinateX(e,t,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,t,i,s))}getDataItemPositionX(e,t,i,s){let a=e.get(t);return a=e.get("stackToItemX")?a*s+e.component.getStackedXValueWorking(e,t):this._baseValue+(a-this._baseValue)*s,this.valueToPosition(a)}getDataItemCoordinateY(e,t,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,t,i,s))}getDataItemPositionY(e,t,i,s){let a=e.get(t);return a=e.get("stackToItemY")?a*s+e.component.getStackedYValueWorking(e,t):this._baseValue+(a-this._baseValue)*s,this.valueToPosition(a)}basePosition(){return this.valueToPosition(this.baseValue())}baseValue(){const e=Math.min(this.getPrivate("minFinal",-1/0),this.getPrivate("selectionMin",-1/0)),t=Math.max(this.getPrivate("maxFinal",1/0),this.getPrivate("selectionMax",1/0));let i=this.get("baseValue",0);return i<e&&(i=e),i>t&&(i=t),i}cellEndValue(e){return e}fixSmallStep(e){return 1+e===1?(e*=2,this.fixSmallStep(e)):e}_fixMin(e){return e}_fixMax(e){return e}_calculateTotals(){if(this.get("calculateTotals")){let e=this.series[0];if(e){let t=e.startIndex();if(e.dataItems.length>0){t>0&&t--;let i,a,r=e.endIndex();r<e.dataItems.length&&r++,e.get("yAxis")==this?(i="valueY",a="vcy"):e.get("xAxis")==this&&(i="valueX",a="vcx");let n=i+"Working";if(i)for(let e=t;e<r;e++){let t=0,r=0;(0,s.i)(this.series,(i=>{if(!i.get("excludeFromTotal")){let o=i.dataItems[e];if(o){let e=o.get(n)*i.get(a);(0,s.q)(e)||(t+=e,r+=Math.abs(e))}}})),(0,s.i)(this.series,(o=>{if(!o.get("excludeFromTotal")){let l=o.dataItems[e];if(l){let e=l.get(n)*o.get(a);(0,s.q)(e)||(l.set(i+"Total",r),l.set(i+"Sum",t),l.set(i+"TotalPercent",e/r*100))}}}))}}}}}_getSelectionMinMax(){const e=this.getPrivate("minFinal"),t=this.getPrivate("maxFinal"),i=this.get("min"),a=this.get("max");let r=this.get("extraMin",0),n=this.get("extraMax",0);this.get("logarithmic")&&(null==this.get("extraMin")&&(r=.1),null==this.get("extraMax")&&(n=.2));const o=this.get("renderer").gridCount(),l=this.get("strictMinMaxSelection");let h=this.get("strictMinMax");if((0,s.k)(e)&&(0,s.k)(t)){let d=t,u=e;if((0,s.i)(this.series,(e=>{if(!e.get("ignoreMinMax")){let t,i;const a=e.getPrivate("outOfSelection");if(e.get("xAxis")===this){if(!a){let s=e.getPrivate("minX"),a=e.getPrivate("maxX");0==e.startIndex()&&e.endIndex()==e.dataItems.length||(s=void 0,a=void 0),t=e.getPrivate("selectionMinX",s),i=e.getPrivate("selectionMaxX",a)}}else if(e.get("yAxis")===this&&!a){let s=e.getPrivate("minY"),a=e.getPrivate("maxY");0==e.startIndex()&&e.endIndex()==e.dataItems.length||(s=void 0,a=void 0),t=e.getPrivate("selectionMinY",s),i=e.getPrivate("selectionMaxY",a)}e.isHidden()||e.isShowing()||((0,s.k)(t)&&(d=Math.min(d,t)),(0,s.k)(i)&&(u=Math.max(u,i)))}})),this.axisRanges.each((e=>{if(e.get("affectsMinMax")){let t=e.get("value");null!=t&&(d=Math.min(d,t),u=Math.max(u,t)),t=e.get("endValue"),null!=t&&(d=Math.min(d,t),u=Math.max(u,t))}})),d>u&&([d,u]=[u,d]),(0,s.k)(i)?d=h?i:e:h&&(0,s.k)(this._minReal)&&(d=this._minReal),(0,s.k)(a)?u=h?a:t:h&&(0,s.k)(this._maxReal)&&(u=this._maxReal),d===u){let t=d;if(d-=this._deltaMinMax,u+=this._deltaMinMax,d<e){let i=t-e;0==i&&(i=this._deltaMinMax),d=t-i,u=t+i,h=!0}let i=this._adjustMinMax(d,u,o,h);d=i.min,u=i.max}let c=d,g=u,p=u-d;d-=p*r,u+=p*n;let m=this._adjustMinMax(d,u,o);d=m.min,u=m.max,d=(0,s.f)(d,e,t),u=(0,s.f)(u,e,t),m=this._adjustMinMax(d,u,o,!0),h||(d=m.min,u=m.max);const b=this.get("syncWithAxis");if(b&&(m=this._syncAxes(d,u,m.step,b.getPrivate("selectionMinFinal",b.getPrivate("minFinal",0)),b.getPrivate("selectionMaxFinal",b.getPrivate("maxFinal",1)),b.getPrivate("selectionStepFinal",b.getPrivate("step",1))),m.min<e&&(m.min=e),m.max>t&&(m.max=t),d=m.min,u=m.max),h&&((0,s.k)(i)&&(d=Math.max(d,i)),(0,s.k)(a)&&(u=Math.min(u,a))),l&&(d=c-(g-c)*r,u=g+(g-c)*n),h){d=(0,s.k)(i)?i:c,u=(0,s.k)(a)?a:g,u-d<=1e-8&&(d-=this._deltaMinMax,u+=this._deltaMinMax);let e=u-d;d-=e*r,u+=e*n}this.get("logarithmic")&&(d<=0&&(d=c*(1-Math.min(r,.99))),d<e&&(d=e),u>t&&(u=t));let f=Math.min(20,Math.ceil(Math.log(this.getPrivate("maxZoomFactor",100)+1)/Math.LN10)+2),_=(0,s.aL)(this.valueToFinalPosition(d),f),y=(0,s.aL)(this.valueToFinalPosition(u),f);this.setPrivateRaw("selectionMinFinal",d),this.setPrivateRaw("selectionMaxFinal",u),this.setPrivateRaw("selectionStepFinal",m.step),this.zoom(_,y)}}_getMinMax(){let e=this.get("min"),t=this.get("max"),i=1/0,a=-1/0,r=this.get("extraMin",0),n=this.get("extraMax",0);this.get("logarithmic")&&(null==this.get("extraMin")&&(r=.1),null==this.get("extraMax")&&(n=.2));let o=1/0;if((0,s.i)(this.series,(e=>{if(!e.get("ignoreMinMax")){let t,r;if(e.get("xAxis")===this?(t=e.getPrivate("minX"),r=e.getPrivate("maxX")):e.get("yAxis")===this&&(t=e.getPrivate("minY"),r=e.getPrivate("maxY")),(0,s.k)(t)&&(0,s.k)(r)){i=Math.min(i,t),a=Math.max(a,r);let e=r-t;e<=0&&(e=Math.abs(r/100)),e<o&&(o=e)}}})),this.axisRanges.each((e=>{if(e.get("affectsMinMax")){let t=e.get("value");null!=t&&(i=Math.min(i,t),a=Math.max(a,t)),t=e.get("endValue"),null!=t&&(i=Math.min(i,t),a=Math.max(a,t))}})),this.get("logarithmic")){let e=this.get("treatZeroAs");(0,s.k)(e)&&i<=0&&(i=e)}if(0===i&&0===a&&(a=.9,i=-.9),(0,s.k)(e)&&(i=e),(0,s.k)(t)&&(a=t),i===1/0||a===-1/0)return this.setPrivate("minFinal",void 0),void this.setPrivate("maxFinal",void 0);i>a&&([i,a]=[a,i]);const l=i,h=a;let d=this.adapters.fold("min",i),u=this.adapters.fold("max",a);this._minRealLog=i,(0,s.k)(d)&&(i=d),(0,s.k)(u)&&(a=u),i=this._fixMin(i),a=this._fixMax(a),a-i<=1/Math.pow(10,15)&&(a-i!=0?this._deltaMinMax=(a-i)/2:this._getDelta(a),i-=this._deltaMinMax,a+=this._deltaMinMax),i-=(a-i)*r,a+=(a-i)*n,this.get("logarithmic")&&(i<0&&l>=0&&(i=0),a>0&&h<=0&&(a=0)),this._minReal=i,this._maxReal=a;let c=this.get("strictMinMax"),g=this.get("strictMinMaxSelection",!1);g&&(c=g);let p=c;(0,s.k)(t)&&(p=!0);let m=this.get("renderer").gridCount(),b=this._adjustMinMax(i,a,m,p);if(i=b.min,a=b.max,b=this._adjustMinMax(i,a,m,!0),i=b.min,a=b.max,c){i=(0,s.k)(e)?e:this._minReal,a=(0,s.k)(t)?t:this._maxReal,a-i<=1e-8&&(i-=this._deltaMinMax,a+=this._deltaMinMax);let o=a-i;i-=o*r,a+=o*n}d=this.adapters.fold("min",i),u=this.adapters.fold("max",a),(0,s.k)(d)&&(i=d),(0,s.k)(u)&&(a=u),o==1/0&&(o=a-i);let f=Math.round(Math.abs(Math.log(Math.abs(a-i))*Math.LOG10E))+5;i=(0,s.aL)(i,f),a=(0,s.aL)(a,f);const _=this.get("syncWithAxis");if(_&&(b=this._syncAxes(i,a,b.step,_.getPrivate("minFinal",_.getPrivate("min",0)),_.getPrivate("maxFinal",_.getPrivate("max",1)),_.getPrivate("step",1)),i=b.min,a=b.max),this.setPrivateRaw("maxZoomFactor",Math.max(1,Math.ceil((a-i)/o*this.get("maxZoomFactor",100)))),this._fixZoomFactor(),this.get("logarithmic")&&(this._minLogAdjusted=i,i=this._minReal,a=this._maxReal,i<=0&&(i=l*(1-Math.min(r,.99)))),(0,s.k)(i)&&(0,s.k)(a)&&(this.getPrivate("minFinal")!==i||this.getPrivate("maxFinal")!==a)){this.setPrivate("minFinal",i),this.setPrivate("maxFinal",a),this._saveMinMax(i,a);const e=this.get("interpolationDuration",0),t=this.get("interpolationEasing");this.animatePrivate({key:"min",to:i,duration:e,easing:t}),this.animatePrivate({key:"max",to:a,duration:e,easing:t})}}_fixZoomFactor(){}_getDelta(e){let t=Math.log(Math.abs(e))*Math.LOG10E,i=Math.pow(10,Math.floor(t));i/=10,this._deltaMinMax=i}_saveMinMax(e,t){}_adjustMinMax(e,t,i,a){i<=1&&(i=1),i=Math.round(i);let r=e,n=t,o=t-e;0===o&&(o=Math.abs(t));let l=Math.log(Math.abs(o))*Math.LOG10E,h=Math.pow(10,Math.floor(l));h/=10;let d=h;a&&(d=0),a?(e=Math.floor(e/h)*h,t=Math.ceil(t/h)*h):(e=Math.ceil(e/h)*h-d,t=Math.floor(t/h)*h+d),e<0&&r>=0&&(e=0),t>0&&n<=0&&(t=0),l=Math.log(Math.abs(o))*Math.LOG10E,h=Math.pow(10,Math.floor(l)),h/=100;let u=Math.ceil(o/i/h)*h,c=Math.pow(10,Math.floor(Math.log(Math.abs(u))*Math.LOG10E)),g=Math.ceil(u/c);g>5?g=10:g<=5&&g>2&&(g=5),u=Math.ceil(u/(c*g))*c*g;let p=this.get("maxPrecision");if((0,s.k)(p)){let e=(0,s.aQ)(u,p);p<Number.MAX_VALUE&&u!==e&&(u=e,0==u&&(u=1))}let m=0;c<1&&(m=Math.round(Math.abs(Math.log(Math.abs(c))*Math.LOG10E))+1,u=(0,s.aL)(u,m));let b,f=Math.floor(e/u);return e=(0,s.aL)(u*f,m),b=a?Math.floor(t/u):Math.ceil(t/u),b===f&&b++,(t=(0,s.aL)(u*b,m))<n&&(t+=u),e>r&&(e-=u),u=this.fixSmallStep(u),{min:e,max:t,step:u}}getTooltipText(e,t){const i=this.get("tooltipNumberFormat",this.get("numberFormat")),a=this.getNumberFormatter(),r=this.get("extraTooltipPrecision",0),n=this.getPrivate("stepDecimalPlaces",0)+r,o=(0,s.aL)(this.positionToValue(e),n);return i?a.format(o,i):a.format(o,void 0,n)}getSeriesItem(e,t){let i,a,r=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),n=this.positionToValue(t);if((0,s.i)(e.dataItems,((e,t)=>{const s=Math.abs(e.get(r)-n);(void 0===i||s<a)&&(i=t,a=s)})),null!=i)return e.dataItems[i]}zoomToValues(e,t,i){const s=this.getPrivate("minFinal",0),a=this.getPrivate("maxFinal",0);null!=this.getPrivate("min")&&null!=this.getPrivate("max")&&this.zoom((e-s)/(a-s),(t-s)/(a-s),i)}_syncAxes(e,t,i,a,r,n){if(this.get("syncWithAxis")){let o=Math.round(r-a)/n,l=Math.round((t-e)/i),h=this.get("renderer").gridCount();if((0,s.k)(o)&&(0,s.k)(l)){let s=!1,a=0,r=.01*(t-e),n=e,l=t,d=i;for(;1!=s;)if(s=this._checkSync(n,l,d,o),a++,a>500&&(s=!0),s)e=n,t=l,i=d;else{a/3==Math.round(a/3)?(n=e-r*a,e>=0&&n<0&&(n=0)):(l=t+r*a,l<=0&&l>0&&(l=0));let i=this._adjustMinMax(n,l,h,!0);n=i.min,l=i.max,d=i.step}}}return{min:e,max:t,step:i}}_checkSync(e,t,i,a){let r=(t-e)/i;for(let e=1;e<a;e++)if((0,s.aL)(r/e,1)==a||r*e==a)return!0;return!1}getCellWidthPosition(){let e=this.getPrivate("selectionMax",this.getPrivate("max")),t=this.getPrivate("selectionMin",this.getPrivate("min"));return(0,s.k)(e)&&(0,s.k)(t)?this.getPrivate("step",1)/(e-t):.05}nextPosition(e){null==e&&(e=1),"Y"==this.get("renderer").getPrivate("letter")&&(e*=-1);let t=this.positionToValue(this.getPrivate("tooltipPosition",0));return t+=this.getPrivate("step",1)*e,t=(0,s.f)(t,this.getPrivate("selectionMin",0),this.getPrivate("selectionMax",1)),this.toGlobalPosition(this.valueToPosition(t))}}Object.defineProperty(w,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ValueAxis"}),Object.defineProperty(w,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:x.classNames.concat([w.className])});class P extends s.L{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(P,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabel"}),Object.defineProperty(P,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.L.classNames.concat([P.className])});class k extends n.T{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(k,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisTick"}),Object.defineProperty(k,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:n.T.classNames.concat([k.className])});class T extends s.e{constructor(){super(...arguments),Object.defineProperty(this,"_axisLength",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"_start",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_end",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_inversed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_minSize",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lc",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_ls",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_thumbDownPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new s.t(s.u.new({}),(()=>k._new(this._root,{themeTags:(0,s.m)(this.ticks.template.get("themeTags",[]),this.get("themeTags",[]))},[this.ticks.template]))))}),Object.defineProperty(this,"grid",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new s.t(s.u.new({}),(()=>_._new(this._root,{themeTags:(0,s.m)(this.grid.template.get("themeTags",[]),this.get("themeTags",[]))},[this.grid.template]))))}),Object.defineProperty(this,"axisFills",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new s.t(s.u.new({}),(()=>s.e._new(this._root,{themeTags:(0,s.m)(this.axisFills.template.get("themeTags",["axis","fill"]),this.get("themeTags",[]))},[this.axisFills.template]))))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new s.t(s.u.new({}),(()=>P._new(this._root,{themeTags:(0,s.m)(this.labels.template.get("themeTags",[]),this.get("themeTags",[]))},[this.labels.template]))))}),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}makeTick(e,t){const i=this.ticks.make();return i._setDataItem(e),e.setRaw("tick",i),i.set("themeTags",(0,s.m)(i.get("themeTags"),t)),this.axis.labelsContainer.children.push(i),this.ticks.push(i),i}makeGrid(e,t){const i=this.grid.make();return i._setDataItem(e),e.setRaw("grid",i),i.set("themeTags",(0,s.m)(i.get("themeTags"),t)),this.axis.gridContainer.children.push(i),this.grid.push(i),i}makeAxisFill(e,t){const i=this.axisFills.make();return i._setDataItem(e),i.set("themeTags",(0,s.m)(i.get("themeTags"),t)),this.axis.gridContainer.children.push(i),e.setRaw("axisFill",i),this.axisFills.push(i),i}makeLabel(e,t){const i=this.labels.make();return i.set("themeTags",(0,s.m)(i.get("themeTags"),t)),this.axis.labelsContainer.children.moveValue(i,0),i._setDataItem(e),e.setRaw("label",i),this.labels.push(i),i}axisLength(){return 0}gridCount(){return this.axisLength()/this.get("minGridDistance",50)}_updatePositions(){}_afterNew(){super._afterNew(),this.set("isMeasured",!1);const e=this.thumb;e&&(this._disposers.push(e.events.on("pointerdown",(e=>{this._handleThumbDown(e)}))),this._disposers.push(e.events.on("globalpointerup",(e=>{this._handleThumbUp(e)}))),this._disposers.push(e.events.on("globalpointermove",(e=>{this._handleThumbMove(e)}))))}_beforeChanged(){super._beforeChanged(),this.isDirty("minGridDistance")&&this.root.events.once("frameended",(()=>{this.axis.markDirtySize()}))}_changed(){if(super._changed(),this.isDirty("pan")){const e=this.thumb;if(e){const t=this.axis.labelsContainer,i=this.get("pan");"zoom"==i?t.children.push(e):"none"==i&&t.children.removeValue(e)}}}_handleThumbDown(e){this._thumbDownPoint=this.toLocal(e.point);const t=this.axis;this._downStart=t.get("start"),this._downEnd=t.get("end")}_handleThumbUp(e){this._thumbDownPoint=void 0}_handleThumbMove(e){const t=this._thumbDownPoint;if(t){const i=this.toLocal(e.point),s=this._downStart,a=this._downEnd,r=this._getPan(i,t)*Math.min(1,a-s)/2*this.get("panSensitivity",1);this.axis.zoom(s-r,a+r,0)}}_getPan(e,t){return 0}positionToCoordinate(e){return this._inversed?(this._end-e)*this._axisLength:(e-this._start)*this._axisLength}updateTooltipBounds(e){}_updateSize(){this.markDirty(),this._clear=!0}toAxisPosition(e){const t=this._start||0,i=this._end||1;return e*=i-t,this.get("inversed")?i-e:t+e}toGlobalPosition(e){const t=this._start||0,i=this._end||1;return this.get("inversed")?e=i-e:e-=t,e/(i-t)}fixPosition(e){return this.get("inversed")?1-e:e}_updateLC(){}toggleVisibility(e,t,i,s){let a=this.axis;const r=a.get("start",0),n=a.get("end",1);t<r+(n-r)*(i-1e-4)||t>r+(n-r)*(s+1e-4)?e.setPrivate("visible",!1):e.setPrivate("visible",!0)}_positionTooltip(e,t){const i=this.chart;i&&(e.set("pointTo",this._display.toGlobal(t)),i.inPlot(t)||e.hide())}processAxis(){}}Object.defineProperty(T,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRenderer"}),Object.defineProperty(T,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.e.classNames.concat([T.className])});class D extends T{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:s.R.new(this._root,{width:s.a,isMeasured:!1,themeTags:["axis","x","thumb"]})})}_afterNew(){this._settings.themeTags=(0,s.m)(this._settings.themeTags,["renderer","x"]),super._afterNew(),this.setPrivateRaw("letter","X");const e=this.grid.template;e.set("height",s.a),e.set("width",0),e.set("draw",((e,t)=>{e.moveTo(0,0),e.lineTo(0,t.height())})),this.set("draw",((e,t)=>{e.moveTo(0,0),e.lineTo(t.width(),0)}))}_changed(){super._changed();const e=this.axis;e.ghostLabel.setPrivate("visible",!this.get("inside")),e.ghostLabel.set("x",-1e3);const t="opposite",i="inside";if(this.isDirty(t)||this.isDirty(i)){const s=this.chart,a=e.children;if(this.get(i)?e.addTag(i):e.removeTag(i),s){if(this.get(t)){const i=s.topAxesContainer.children;-1==i.indexOf(e)&&i.insertIndex(0,e),e.addTag(t),a.moveValue(this)}else{const i=s.bottomAxesContainer.children;-1==i.indexOf(e)&&i.moveValue(e),e.removeTag(t),a.moveValue(this,0)}e.ghostLabel._applyThemes(),this.labels.each((e=>{e._applyThemes()})),this.root._markDirtyRedraw()}e.markDirtySize()}this.thumb.setPrivate("height",e.labelsContainer.height())}_getPan(e,t){return(t.x-e.x)/this.width()}toAxisPosition(e){const t=this._start||0,i=this._end||1;return e=(e-=this._ls)*(i-t)/this._lc,this.get("inversed")?i-e:t+e}toGlobalPosition(e){const t=this._start||0,i=this._end||1;return this.get("inversed")?e=i-e:e-=t,(e=e/(i-t)*this._lc)+this._ls}_updateLC(){const e=this.axis,t=e.parent;if(t){const i=t.innerWidth();this._lc=this.axisLength()/i,this._ls=(e.x()-t.get("paddingLeft",0))/i}}_updatePositions(){const e=this.axis,t=e.x()-(0,s.l)(e.get("centerX",0),e.width())-e.parent.get("paddingLeft",0);e.gridContainer.set("x",t),e.topGridContainer.set("x",t),e.bulletsContainer.set("y",this.y());const i=e.chart;if(i){const t=i.plotContainer,s=e.axisHeader;let a=e.get("marginLeft",0),r=e.x()-a;const n=e.parent;n&&(r-=n.get("paddingLeft",0)),s.children.length>0?(a=e.axisHeader.width(),e.set("marginLeft",a+1)):s.set("width",a),s.setAll({x:r,y:-1,height:t.height()+2})}}processAxis(){super.processAxis();const e=this.axis;null==e.get("width")&&e.set("width",s.a);const t=this._root.verticalLayout;e.set("layout",t),e.labelsContainer.set("width",s.a),e.axisHeader.setAll({layout:t})}axisLength(){return this.axis.width()}positionToPoint(e){return{x:this.positionToCoordinate(e),y:0}}updateTick(e,t,i,a){if(e){(0,s.k)(t)||(t=0);let r=.5;r=(0,s.k)(a)&&a>1?e.get("multiLocation",r):e.get("location",r),(0,s.k)(i)&&i!=t&&(t+=(i-t)*r),e.set("x",this.positionToCoordinate(t));let n=e.get("length",0);const o=e.get("inside",this.get("inside",!1));this.get("opposite")?(e.set("y",s.a),o||(n*=-1)):(e.set("y",0),o&&(n*=-1)),e.set("draw",(e=>{e.moveTo(0,0),e.lineTo(0,n)})),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}updateLabel(e,t,i,a){if(e){let r=.5;r=(0,s.k)(a)&&a>1?e.get("multiLocation",r):e.get("location",r),(0,s.k)(t)||(t=0);const n=e.get("inside",this.get("inside",!1));this.get("opposite")?n?(e.set("position","absolute"),e.set("y",0)):(e.set("position","relative"),e.set("y",s.a)):n?(e.set("y",0),e.set("position","absolute")):(e.set("y",void 0),e.set("position","relative")),(0,s.k)(i)&&i!=t&&(t+=(i-t)*r),e.set("x",this.positionToCoordinate(t)),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}updateGrid(e,t,i){if(e){(0,s.k)(t)||(t=0);let a=e.get("location",.5);(0,s.k)(i)&&i!=t&&(t+=(i-t)*a),e.set("x",this.positionToCoordinate(t)),this.toggleVisibility(e,t,0,1)}}updateBullet(e,t,i){if(e){const a=e.get("sprite");if(a){(0,s.k)(t)||(t=0);let r=e.get("location",.5);(0,s.k)(i)&&i!=t&&(t+=(i-t)*r);let n=this.axis.roundAxisPosition(t,r),o=this.axis._bullets[n],l=-1;if(this.get("opposite")&&(l=1),e.get("stacked"))if(o){let e=o.get("sprite");e&&a.set("y",e.y()+e.height()*l)}else a.set("y",0);this.axis._bullets[n]=e,a.set("x",this.positionToCoordinate(t)),this.toggleVisibility(a,t,0,1)}}}updateFill(e,t,i){if(e){(0,s.k)(t)||(t=0),(0,s.k)(i)||(i=1);let a=this.positionToCoordinate(t),r=this.positionToCoordinate(i);this.fillDrawMethod(e,a,r)}}fillDrawMethod(e,t,i){e.set("draw",(e=>{const s=this.axis.gridContainer.height(),a=this.width();i<t&&([i,t]=[t,i]),t>a||i<0||(e.moveTo(t,0),e.lineTo(i,0),e.lineTo(i,s),e.lineTo(t,s),e.lineTo(t,0))}))}positionTooltip(e,t){this._positionTooltip(e,{x:this.positionToCoordinate(t),y:0})}updateTooltipBounds(e){const t=this.get("inside"),i=1e5;let a=this._display.toGlobal({x:0,y:0}),r=a.x,n=0,o=this.axisLength(),l=i,h="up";this.get("opposite")?t?(h="up",n=a.y,l=i):(h="down",n=a.y-i,l=i):t?(h="down",n=a.y-i,l=i):(h="up",n=a.y,l=i);const d={left:r,right:r+o,top:n,bottom:n+l},u=e.get("bounds");(0,s.aR)(d,u)||(e.set("bounds",d),e.set("pointerOrientation",h))}}Object.defineProperty(D,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererX"}),Object.defineProperty(D,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:T.classNames.concat([D.className])});class M extends T{constructor(){super(...arguments),Object.defineProperty(this,"_downY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:s.R.new(this._root,{height:s.a,isMeasured:!1,themeTags:["axis","y","thumb"]})})}_afterNew(){this._settings.themeTags=(0,s.m)(this._settings.themeTags,["renderer","y"]),this._settings.opposite&&this._settings.themeTags.push("opposite"),super._afterNew(),this.setPrivateRaw("letter","Y");const e=this.grid.template;e.set("width",s.a),e.set("height",0),e.set("draw",((e,t)=>{e.moveTo(0,0),e.lineTo(t.width(),0)})),this.set("draw",((e,t)=>{e.moveTo(0,0),e.lineTo(0,t.height())}))}_getPan(e,t){return(e.y-t.y)/this.height()}_changed(){super._changed();const e=this.axis;e.ghostLabel.setPrivate("visible",!this.get("inside")),e.ghostLabel.set("y",-1e3);const t=this.thumb,i="opposite",s="inside",a=this.chart;if(this.isDirty(i)||this.isDirty(s)){const t=e.children;if(this.get(s)?e.addTag(s):e.removeTag(s),a){if(this.get(i)){const s=a.rightAxesContainer.children;-1==s.indexOf(e)&&s.moveValue(e,0),e.addTag(i),t.moveValue(this,0)}else{const s=a.leftAxesContainer.children;-1==s.indexOf(e)&&s.moveValue(e),e.removeTag(i),t.moveValue(this)}e.ghostLabel._applyThemes(),this.labels.each((e=>{e._applyThemes()})),this.root._markDirtyRedraw()}e.markDirtySize()}const r=e.labelsContainer.width();a&&(this.get(i)?t.set("centerX",0):t.set("centerX",r)),t.setPrivate("width",r)}processAxis(){super.processAxis();const e=this.axis;null==e.get("height")&&e.set("height",s.a);const t=this._root.horizontalLayout;e.set("layout",t),e.labelsContainer.set("height",s.a),e.axisHeader.set("layout",t)}_updatePositions(){const e=this.axis,t=e.y()-(0,s.l)(e.get("centerY",0),e.height());e.gridContainer.set("y",t),e.topGridContainer.set("y",t),e.bulletsContainer.set("x",this.x());const i=e.chart;if(i){const t=i.plotContainer,s=e.axisHeader;let a=e.get("marginTop",0);s.children.length>0?(a=e.axisHeader.height(),e.set("marginTop",a+1)):s.set("height",a),s.setAll({y:e.y()-a,x:-1,width:t.width()+2})}}axisLength(){return this.axis.innerHeight()}positionToPoint(e){return{x:0,y:this.positionToCoordinate(e)}}updateLabel(e,t,i,a){if(e){(0,s.k)(t)||(t=0);let r=.5;r=(0,s.k)(a)&&a>1?e.get("multiLocation",r):e.get("location",r);const n=this.get("opposite"),o=e.get("inside",this.get("inside",!1));n?(e.set("x",0),o?e.set("position","absolute"):e.set("position","relative")):o?(e.set("x",0),e.set("position","absolute")):(e.set("x",void 0),e.set("position","relative")),(0,s.k)(i)&&i!=t&&(t+=(i-t)*r),e.set("y",this.positionToCoordinate(t)),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}updateGrid(e,t,i){if(e){(0,s.k)(t)||(t=0);let a=e.get("location",.5);(0,s.k)(i)&&i!=t&&(t+=(i-t)*a),e.set("y",this.positionToCoordinate(t)),this.toggleVisibility(e,t,0,1)}}updateTick(e,t,i,a){if(e){(0,s.k)(t)||(t=0);let r=.5;r=(0,s.k)(a)&&a>1?e.get("multiLocation",r):e.get("location",r),(0,s.k)(i)&&i!=t&&(t+=(i-t)*r),e.set("y",this.positionToCoordinate(t));let n=e.get("length",0);const o=e.get("inside",this.get("inside",!1));this.get("opposite")?(e.set("x",0),o&&(n*=-1)):o||(n*=-1),e.set("draw",(e=>{e.moveTo(0,0),e.lineTo(n,0)})),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}updateBullet(e,t,i){if(e){const a=e.get("sprite");if(a){(0,s.k)(t)||(t=0);let r=e.get("location",.5);(0,s.k)(i)&&i!=t&&(t+=(i-t)*r);let n=this.axis.roundAxisPosition(t,r),o=this.axis._bullets[n],l=1;if(this.get("opposite")&&(l=-1),e.get("stacked"))if(o){let e=o.get("sprite");e&&a.set("x",e.x()+e.width()*l)}else a.set("x",0);this.axis._bullets[n]=e,a.set("y",this.positionToCoordinate(t)),this.toggleVisibility(a,t,0,1)}}}updateFill(e,t,i){if(e){(0,s.k)(t)||(t=0),(0,s.k)(i)||(i=1);let a=this.positionToCoordinate(t),r=this.positionToCoordinate(i);this.fillDrawMethod(e,a,r)}}fillDrawMethod(e,t,i){e.set("draw",(e=>{const s=this.axis.gridContainer.width(),a=this.height();i<t&&([i,t]=[t,i]),t>a||i<0||(e.moveTo(0,t),e.lineTo(s,t),e.lineTo(s,i),e.lineTo(0,i),e.lineTo(0,t))}))}positionToCoordinate(e){return this._inversed?(e-this._start)*this._axisLength:(this._end-e)*this._axisLength}positionTooltip(e,t){this._positionTooltip(e,{x:0,y:this.positionToCoordinate(t)})}updateTooltipBounds(e){const t=this.get("inside"),i=1e5;let a=this._display.toGlobal({x:0,y:0}),r=a.y,n=0,o=this.axisLength(),l=i,h="right";this.get("opposite")?t?(h="right",n=a.x-i,l=i):(h="left",n=a.x,l=i):t?(h="left",n=a.x,l=i):(h="right",n=a.x-i,l=i);const d={left:n,right:n+l,top:r,bottom:r+o},u=e.get("bounds");(0,s.aR)(d,u)||(e.set("bounds",d),e.set("pointerOrientation",h))}_updateLC(){const e=this.axis,t=e.parent;if(t){const i=t.innerHeight();this._lc=this.axisLength()/i,this._ls=e.y()/i}}toAxisPosition(e){const t=this._start||0,i=this._end||1;return e=(e-=this._ls)*(i-t)/this._lc,this.get("inversed")?t+e:i-e}toGlobalPosition(e){const t=this._start||0,i=this._end||1;return this.get("inversed")?e-=t:e=i-e,(e=e/(i-t)*this._lc)+this._ls}fixPosition(e){return this.get("inversed")?e:1-e}}Object.defineProperty(M,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererY"}),Object.defineProperty(M,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:T.classNames.concat([M.className])});class A extends v{constructor(){super(...arguments),Object.defineProperty(this,"_endIndex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeGenerator",{enumerable:!0,configurable:!0,writable:!0,value:p()}),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:m()}),Object.defineProperty(this,"_legendStroke",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_legendFill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"strokes",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new s.t(s.u.new({}),(()=>s.e._new(this._root,{themeTags:(0,s.m)(this.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template]))))}),Object.defineProperty(this,"fills",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new s.t(s.u.new({}),(()=>s.e._new(this._root,{themeTags:(0,s.m)(this.strokes.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template]))))}),Object.defineProperty(this,"_fillTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_previousPoint",{enumerable:!0,configurable:!0,writable:!0,value:[0,0,0,0]}),Object.defineProperty(this,"_dindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_sindex",{enumerable:!0,configurable:!0,writable:!0,value:0})}_afterNew(){this._fillGenerator.y0((function(e){return e[3]})),this._fillGenerator.x0((function(e){return e[2]})),this._fillGenerator.y1((function(e){return e[1]})),this._fillGenerator.x1((function(e){return e[0]})),super._afterNew()}makeStroke(e){const t=this.mainContainer.children.push(e.make());return e.push(t),t}makeFill(e){const t=this.mainContainer.children.push(e.make());return e.push(t),t}_updateChildren(){this._strokeTemplate=void 0,this._fillTemplate=void 0;let e=this.get("xAxis"),t=this.get("yAxis");if(this.isDirty("stroke")){const e=this.get("stroke");this.strokes.template.set("stroke",e);const t=this._legendStroke;t&&t.states.lookup("default").set("stroke",e)}if(this.isDirty("fill")){const e=this.get("fill");this.fills.template.set("fill",e);const t=this._legendFill;t&&t.states.lookup("default").set("fill",e)}if(this.isDirty("fillPattern")){const e=this.get("fillPattern");this.fills.template.set("fillPattern",e);const t=this._legendFill;t&&t.states.lookup("default").set("fillPattern",e)}if(this.isDirty("curveFactory")){const e=this.get("curveFactory");e&&(this._strokeGenerator.curve(e),this._fillGenerator.curve(e))}if(e.inited&&t.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty||this.isDirty("connect")||this.isDirty("curveFactory")){this.fills.each((e=>{e.setPrivate("visible",!1)})),this.strokes.each((e=>{e.setPrivate("visible",!1)})),this.axisRanges.each((e=>{let t=e.fills;t&&t.each((e=>{e.setPrivate("visible",!1)}));let i=e.strokes;i&&i.each((e=>{e.setPrivate("visible",!1)}))}));let e=this.startIndex(),t=this.strokes.template.get("templateField"),i=this.fills.template.get("templateField"),a=!0,r=!0;t&&(a=!1),i&&(r=!1);for(let n=e-1;n>=0;n--){let o=this.dataItems[n],l=!0,h=o.dataContext;if(t&&h[t]&&(a=!0),i&&h[i]&&(r=!0),(0,s.i)(this._valueFields,(e=>{(0,s.k)(o.get(e))||(l=!1)})),l&&a&&r){e=n;break}}let n=this.dataItems.length,o=this.endIndex();if(o<n){o++;for(let e=o;e<n;e++){let t=this.dataItems[e],i=!0;if((0,s.i)(this._valueFields,(e=>{(0,s.k)(t.get(e))||(i=!1)})),i){o=e+1;break}}}if(e>0&&e--,this._endIndex=o,this._clearGraphics(),this._sindex=0,this._dindex=e,1==this.dataItems.length)this._startSegment(0);else for(;this._dindex<o-1;)this._startSegment(this._dindex),this._sindex++}}else this._skipped=!0;super._updateChildren()}_clearGraphics(){this.strokes.clear(),this.fills.clear(),this.axisRanges.each((e=>{e.fills.clear(),e.strokes.clear()}))}_startSegment(e){let t=this._endIndex,i=t;const a=this.get("autoGapCount"),r=this.get("connect"),n=this.makeFill(this.fills),o=this._fillTemplate,l=this.fills.template;o&&o!=l&&(n.template=o),n.setPrivate("visible",!0);const h=this.makeStroke(this.strokes),d=this._strokeTemplate;d&&d!=this.strokes.template&&(h.template=d),h.setPrivate("visible",!0);let u=this.get("xAxis"),c=this.get("yAxis"),g=this.get("baseAxis"),p=this.get("vcx",1),m=this.get("vcy",1),b=this._xField,f=this._yField,_=this._xOpenField,y=this._yOpenField;const v=this.get("openValueXField"),x=this.get("openValueYField");v||(_=this._xField),x||(y=this._yField);const w=this.get("stacked"),P=u.basePosition(),k=c.basePosition();let T;T=g===c?this._yField:this._xField;const D=[];let M=[];D.push(M);const A=this.strokes.template.get("templateField"),C=this.fills.template.get("templateField");let O=this.get("locationX",.5),S=this.get("locationY",.5),L=this.get("openLocationX",O),R=this.get("openLocationY",S);const j=this.get("minDistance",0);let I,B=this.fills.template.get("visible");this.axisRanges.length>0&&(B=!0);let E=!1;(w||v||x)&&(E=!0);const X={points:M,segments:D,stacked:w,getOpen:E,basePosX:P,basePosY:k,fillVisible:B,xField:b,yField:f,xOpenField:_,yOpenField:y,vcx:p,vcy:m,baseAxis:g,xAxis:u,yAxis:c,locationX:O,locationY:S,openLocationX:L,openLocationY:R,minDistance:j};let F=this._strokeTemplate,Y=this._fillTemplate;for(I=e;I<i;I++){this._dindex=I;const t=this._dataItems[I];let o=t.get(b),l=t.get(f);if(null==o||null==l?r||(M=[],D.push(M),X.points=M):this._getPoints(t,X),A){let a=t.dataContext[A];if(a){if(a instanceof s.u||(a=s.u.new(a)),this._strokeTemplate=a,I>e){i=I;break}F=a,h.template=a}}if(C){let a=t.dataContext[C];if(a){if(a instanceof s.u||(a=s.u.new(a)),this._fillTemplate=a,I>e){i=I;break}Y=a,n.template=a}}if(!r){let e=this.dataItems[I+1];e&&g.shouldGap(t,e,a,T)&&(M=[],D.push(M),X.points=M)}}n.setRaw("userData",[e,I]),h.setRaw("userData",[e,I]),I===t&&this._endLine(M,D[0][0]),h&&this._drawStroke(h,D),n&&this._drawFill(n,D),this.axisRanges.each((t=>{const i=t.container,s=t.fills,a=this.makeFill(s);i&&i.children.push(a),a.setPrivate("visible",!0),this._drawFill(a,D);const r=t.strokes,n=this.makeStroke(r);i&&i.children.push(n),F&&F!=this.strokes.template&&(n.template=F),Y&&Y!=this.fills.template&&(a.template=Y),n.setPrivate("visible",!0),this._drawStroke(n,D),a.setRaw("userData",[e,I]),n.setRaw("userData",[e,I])}))}_getPoints(e,t){let i=t.points,a=e.get("locationX",t.locationX),r=e.get("locationY",t.locationY),n=t.xAxis.getDataItemPositionX(e,t.xField,a,t.vcx),o=t.yAxis.getDataItemPositionY(e,t.yField,r,t.vcy);if(this._shouldInclude(n)){const a=this.getPoint(n,o),r=[a.x,a.y];if(a.x+=this._x,a.y+=this._y,e.set("point",a),t.fillVisible){let i=n,a=o;if(t.baseAxis===t.xAxis?a=t.basePosY:t.baseAxis===t.yAxis&&(i=t.basePosX),t.getOpen){let r=e.get(t.xOpenField),n=e.get(t.yOpenField);if(null!=r&&null!=n){let r=e.get("openLocationX",t.openLocationX),n=e.get("openLocationY",t.openLocationY);if(t.stacked){let o=e.get("stackToItemX"),l=e.get("stackToItemY");o?(i=t.xAxis.getDataItemPositionX(o,t.xField,r,o.component.get("vcx")),(0,s.q)(i)&&(i=t.basePosX)):i=t.yAxis===t.baseAxis?t.basePosX:t.xAxis.getDataItemPositionX(e,t.xOpenField,r,t.vcx),l?(a=t.yAxis.getDataItemPositionY(l,t.yField,n,l.component.get("vcy")),(0,s.q)(a)&&(a=t.basePosY)):a=t.xAxis===t.baseAxis?t.basePosY:t.yAxis.getDataItemPositionY(e,t.yOpenField,n,t.vcy)}else i=t.xAxis.getDataItemPositionX(e,t.xOpenField,r,t.vcx),a=t.yAxis.getDataItemPositionY(e,t.yOpenField,n,t.vcy)}}let l=this.getPoint(i,a);r[2]=l.x,r[3]=l.y}if(t.minDistance>0){const e=r[0],s=r[1],a=r[2],n=r[3],o=this._previousPoint,l=o[0],h=o[1],d=o[2],u=o[3];(Math.hypot(e-l,s-h)>t.minDistance||a&&n&&Math.hypot(a-d,n-u)>t.minDistance)&&(i.push(r),this._previousPoint=r)}else i.push(r)}}_endLine(e,t){}_drawStroke(e,t){e.get("visible")&&!e.get("forceHidden")&&e.set("draw",(e=>{(0,s.i)(t,(t=>{this._strokeGenerator.context(e),this._strokeGenerator(t)}))}))}_drawFill(e,t){e.get("visible")&&!e.get("forceHidden")&&e.set("draw",(e=>{(0,s.i)(t,(t=>{this._fillGenerator.context(e),this._fillGenerator(t)}))}))}_processAxisRange(e){super._processAxisRange(e),e.fills=new s.t(s.u.new({}),(()=>s.e._new(this._root,{themeTags:(0,s.m)(e.fills.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template,e.fills.template]))),e.strokes=new s.t(s.u.new({}),(()=>s.e._new(this._root,{themeTags:(0,s.m)(e.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template,e.strokes.template])))}createLegendMarker(e){const t=this.get("legendDataItem");if(t){const e=t.get("marker"),i=t.get("markerRectangle");i&&i.setPrivate("visible",!1),e.set("background",s.R.new(e._root,{fillOpacity:0,fill:(0,s.d)(0)}));const a=e.children.push(s.e._new(e._root,{themeTags:["line","series","legend","marker","stroke"],interactive:!1},[this.strokes.template]));this._legendStroke=a;const r=e.children.push(s.e._new(e._root,{themeTags:["line","series","legend","marker","fill"]},[this.fills.template]));this._legendFill=r;const o=this._root.interfaceColors.get("disabled");if(a.states.create("disabled",{fill:o,stroke:o}),r.states.create("disabled",{fill:o,stroke:o}),this.bullets.length>0){const t=this.bullets.getIndex(0);if(t){const i=t(e._root,this,new n.D(this,{legend:!0},{}));if(i){const t=i.get("sprite");t instanceof s.e&&t.states.create("disabled",{fill:o,stroke:o}),t&&(t.set("tooltipText",void 0),t.set("tooltipHTML",void 0),e.children.push(t),t.setAll({x:e.width()/2,y:e.height()/2}),e.events.on("boundschanged",(()=>{t.setAll({x:e.width()/2,y:e.height()/2})})))}}}}}}Object.defineProperty(A,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LineSeries"}),Object.defineProperty(A,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:v.classNames.concat([A.className])});class C extends v{constructor(){super(...arguments),Object.defineProperty(this,"_ph",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_pw",{enumerable:!0,configurable:!0,writable:!0,value:0})}_makeGraphics(e,t){return this.makeColumn(t,e)}_makeFieldNames(){super._makeFieldNames();const e=this.get("xAxis"),t=this.get("yAxis"),i="CategoryAxis",s="ValueAxis";e.isType(i)&&(this.get("openCategoryXField")||(this._xOpenField=this._xField)),e.isType(s)&&(this.get("openValueXField")||(this._xOpenField=this._xField)),t.isType(i)&&(this.get("openCategoryYField")||(this._yOpenField=this._yField)),t.isType(s)&&(this.get("openValueYField")||(this._yOpenField=this._yField))}_prepareChildren(){super._prepareChildren();const e=this.get("xAxis"),t=this.get("yAxis"),i=this.dataItems.length,s=Math.max(0,this.startIndex()-2),a=Math.min(this.endIndex()+2,i-1);if(e.inited&&t.inited)for(let e=s;e<=a;e++){let t=this.dataItems[e];this._createGraphics(t)}}_updateChildren(){const e=this.chart;e&&(this._ph=e.plotContainer.height(),this._pw=e.plotContainer.width());const t=this.get("xAxis"),i=this.get("yAxis"),a=this.get("baseAxis"),r=this.columns.template;this.isDirty("fill")&&null==r.get("fill")&&r.set("fill",this.get("fill")),this.isDirty("fillPattern")&&null==r.get("fillPattern")&&r.set("fillPattern",this.get("fillPattern")),this.isDirty("stroke")&&null==r.get("stroke")&&r.set("stroke",this.get("stroke"));let n=0,o=0,l=0;(0,s.i)(a.series,(e=>{if(e instanceof C){const t=e.get("stacked");t&&0==l&&o++,!t&&e.get("clustered")&&o++}e===this&&(n=o-1),l++})),this.get("clustered")||(n=0,o=1),0===o&&(o=1,n=0);const h=t.get("renderer"),d=i.get("renderer"),u="cellStartLocation",c="cellEndLocation",g=h.get(u,0),p=h.get(c,1),m=d.get(u,0),b=d.get(c,1);if(this._aLocationX0=g+n/o*(p-g),this._aLocationX1=g+(n+1)/o*(p-g),this._aLocationY0=m+n/o*(b-m),this._aLocationY1=m+(n+1)/o*(b-m),t.inited&&i.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty){const e=this.dataItems.length;let t=Math.max(0,this.startIndex()-2),i=Math.min(this.endIndex()+2,e-1);for(let e=0;e<t;e++)this._toggleColumn(this.dataItems[e],!1);let s=this.dataItems[t];for(let e=t;e<=i;e++){let i=this.dataItems[e];if(null!=i.get("valueX")&&null!=i.get("valueY")){if(s=i,e>0&&t>0)for(let t=e-1;t>=0;t--){let e=this.dataItems[t];if(null!=e.get("valueX")&&null!=e.get("valueY")){s=e;break}}break}this._toggleColumn(i,!1)}for(let e=t;e<=i;e++){let t=this.dataItems[e];this._updateGraphics(t,s),null!=t.get("valueX")&&null!=t.get("valueY")&&(s=t)}for(let t=i+1;t<e;t++)this._toggleColumn(this.dataItems[t],!1)}}else this._skipped=!0;this.updateLegendMarker(this.get("tooltipDataItem")),super._updateChildren()}_createGraphics(e){let t=e.get("graphics");if(!t){t=this._makeGraphics(this.columns,e),e.set("graphics",t),t._setDataItem(e);const i=e.get("legendDataItem");if(i){const e=i.get("markerRectangle");if(e){const i=e.states.lookup("default");(0,s.i)(s.v,(s=>{const a=t.get(s,this.get(s));e.set(s,a),i.set(s,a)}))}}let a=e.get("rangeGraphics");a&&(0,s.i)(a,(e=>{e.dispose()})),a=[],e.setRaw("rangeGraphics",a),this.axisRanges.each((t=>{const i=t.container,s=this._makeGraphics(t.columns,e);a&&a.push(s),s.setPrivate("list",t.columns),i.children.push(s)}))}}createAxisRange(e){return(0,s.i)(this.dataItems,(e=>{const t=e.get("graphics");t&&(t.dispose(),e.set("graphics",void 0))})),super.createAxisRange(e)}_updateGraphics(e,t){let i=e.get("graphics");const a=this._xField,r=this._yField,n=e.get(a),o=e.get(r);if(null!=n&&null!=o){const n=this._xOpenField,o=this._yOpenField,l=this.get("locationX",e.get("locationX",.5)),h=this.get("locationY",e.get("locationY",.5)),d=this.get("openLocationX",e.get("openLocationX",l)),u=this.get("openLocationY",e.get("openLocationY",h)),c=i.get("width"),g=i.get("height"),p=this.get("stacked"),m=this.get("xAxis"),b=this.get("yAxis"),f=this.get("baseAxis"),_=m.get("start"),y=m.get("end"),v=b.get("start"),x=b.get("end");let w,P,k,T,D=this.get("vcy",1),M=this.get("vcx",1),A=!1,C=!1;if(b.isType("CategoryAxis")&&m.isType("CategoryAxis")){let t=this._aLocationX0+d-.5,i=this._aLocationX1+l-.5;if(c instanceof s.P){let e=(i-t)*(1-c.value)/2;t+=e,i-=e}if(w=m.getDataItemPositionX(e,n,t,M),P=m.getDataItemPositionX(e,a,i,M),t=this._aLocationY0+u-.5,i=this._aLocationY1+h-.5,g instanceof s.P){let e=(i-t)*(1-g.value)/2;t+=e,i-=e}k=b.getDataItemPositionY(e,o,t,D),T=b.getDataItemPositionY(e,r,i,D),e.setRaw("point",{x:w+(P-w)/2,y:k+(T-k)/2})}else if(m===f){let t=this._aLocationX0+d-.5,i=this._aLocationX1+l-.5;if(c instanceof s.P){let e=(i-t)*(1-c.value)/2;t+=e,i-=e}if(w=m.getDataItemPositionX(e,n,t,M),P=m.getDataItemPositionX(e,a,i,M),k=b.getDataItemPositionY(e,r,h,D),this._yOpenField!==this._yField)T=b.getDataItemPositionY(e,o,u,D);else if(p){let t=e.get("stackToItemY");T=t?b.getDataItemPositionY(t,r,u,t.component.get("vcy")):b.basePosition()}else T=b.basePosition();e.setRaw("point",{x:w+(P-w)/2,y:k}),C=!0}else if(b===f){let t=this._aLocationY0+u-.5,i=this._aLocationY1+h-.5;if(g instanceof s.P){let e=(i-t)*(1-g.value)/2;t+=e,i-=e}if(k=b.getDataItemPositionY(e,o,t,D),T=b.getDataItemPositionY(e,r,i,D),P=m.getDataItemPositionX(e,a,l,M),this._xOpenField!==this._xField)w=m.getDataItemPositionX(e,n,d,M);else if(p){let t=e.get("stackToItemX");w=t?m.getDataItemPositionX(t,a,d,t.component.get("vcx")):m.basePosition()}else w=m.basePosition();A=!0,e.setRaw("point",{x:P,y:k+(T-k)/2})}this._updateSeriesGraphics(e,i,w,P,k,T,A,C),w<_&&P<_||w>y&&P>y||k<v&&T<=v||k>=x&&T>x||(0,s.q)(w)||(0,s.q)(k)?this._toggleColumn(e,!1):this._toggleColumn(e,!0);let O=e.get("rangeGraphics");O&&(0,s.i)(O,(t=>{this._updateSeriesGraphics(e,t,w,P,k,T,A,C)})),this._applyGraphicsStates(e,t)}}_updateSeriesGraphics(e,t,i,a,r,n,o,l){const h=t.get("width"),d=t.get("height"),u=t.get("maxWidth"),c=t.get("maxHeight"),g=this.getPoint(i,r),p=this.getPoint(a,n),m=e.get("point");if(m){const e=this.getPoint(m.x,m.y);m.x=e.x+this._x,m.y=e.y+this._y}if(i=g.x,a=p.x,r=g.y,n=p.y,(0,s.k)(h)){const e=(a-i-h)/2;i+=e,a-=e}if((0,s.k)(u)&&u<Math.abs(a-i)){const e=(a-i-u)/2;i+=e,a-=e}if((0,s.k)(d)){const e=(n-r-d)/2;r+=e,n-=e}if((0,s.k)(c)&&c<Math.abs(n-r)){const e=(n-r-c)/2;r+=e,n-=e}this.get("adjustBulletPosition")&&(o&&(a=Math.min(Math.max(0,a),this._pw),i=Math.min(Math.max(0,i),this._pw)),l&&(r=Math.min(Math.max(0,r),this._ph),n=Math.min(Math.max(0,n),this._ph))),e.setRaw("left",i),e.setRaw("right",a),e.setRaw("top",r),e.setRaw("bottom",n),t.setPrivate("width",a-i),t.setPrivate("height",n-r),t.set("x",i),t.set("y",n-(n-r))}_handleDataSetChange(){super._handleDataSetChange(),(0,s.i)(this._dataItems,(e=>{this._toggleColumn(e,!1)}))}_applyGraphicsStates(e,t){const i=e.get("graphics"),a=i.states.lookup("dropFromOpen"),r=i.states.lookup("riseFromOpen"),n=i.states.lookup("dropFromPrevious"),o=i.states.lookup("riseFromPrevious");if(a||n||r||o){const i=this.get("xAxis"),l=this.get("yAxis"),h=this.get("baseAxis");let d,u,c;h===i&&l.isType("ValueAxis")?(d=e.get(this._yOpenField),u=e.get(this._yField),c=t.get(this._yField)):h===l&&i.isType("ValueAxis")&&(d=e.get(this._xOpenField),u=e.get(this._xField),c=t.get(this._xField)),(0,s.k)(d)&&(0,s.k)(u)&&(u<d?a&&a.apply():r&&r.apply(),(0,s.k)(c)&&(u<c?n&&n.apply():o&&o.apply()))}}disposeDataItem(e){super.disposeDataItem(e);const t=e.get("graphics");t&&(this.columns.removeValue(t),t.dispose());const i=e.get("rangeGraphics");i&&(0,s.i)(i,(e=>{const t=e.getPrivate("list");t&&t.removeValue(e),e.dispose()}))}hideDataItem(e,t){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return(0,l.d)(this,void 0,void 0,(function*(){const a=[i.hideDataItem.call(this,e,t)],r=e.get("graphics");r&&a.push(r.hide(t));const n=e.get("rangeGraphics");n&&(0,s.i)(n,(e=>{a.push(e.hide(t))})),yield Promise.all(a)}))}_toggleColumn(e,t){const i=e.get("graphics");i&&i.setPrivate("visible",t);const a=e.get("rangeGraphics");a&&(0,s.i)(a,(e=>{e.setPrivate("visible",t)}));const r=e.bullets;r&&(0,s.i)(r,(e=>{e.setPrivate("hidden",!t)}))}showDataItem(e,t){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return(0,l.d)(this,void 0,void 0,(function*(){const a=[i.showDataItem.call(this,e,t)],r=e.get("graphics");r&&a.push(r.show(t));const n=e.get("rangeGraphics");n&&(0,s.i)(n,(e=>{a.push(e.show(t))})),yield Promise.all(a)}))}updateLegendMarker(e){let t=this.get("legendDataItem");if(this.get("useLastColorForLegendMarker")&&!e){const t=this.dataItems[this.endIndex()-1];t&&(e=t)}if(t){let i=this.columns.template;if(e){let t=e.get("graphics");t&&(i=t)}const a=t.get("markerRectangle");if(a&&!t.get("itemContainer").get("disabled")){const e=a.states.lookup("default");(0,s.i)(s.v,(t=>{const s=i.get(t,this.get(t));a.set(t,s),e.set(t,s)}))}}}_getTooltipTarget(e){return"bullet"==this.get("seriesTooltipTarget")?super._getTooltipTarget(e):e.get("graphics")||this}}Object.defineProperty(C,"className",{enumerable:!0,configurable:!0,writable:!0,value:"BaseColumnSeries"}),Object.defineProperty(C,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:v.classNames.concat([C.className])});class O extends x{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=(0,s.m)(this._settings.themeTags,["axis"]),this.fields.push("category"),this.setPrivateRaw("name","category"),this.addTag("category"),super._afterNew()}_prepareChildren(){super._prepareChildren();const e=this.dataItems.length;let t=0;this._valuesDirty&&(this._itemMap={},(0,s.i)(this.dataItems,(e=>{e.setRaw("index",t),this._itemMap[e.get("category")]=e,t++})),this.setPrivateRaw("maxZoomFactor",e)),this.setPrivateRaw("startIndex",Math.max(Math.round(this.get("start",0)*e),0)),this.setPrivateRaw("endIndex",Math.min(Math.round(this.get("end",1)*e),e)),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("endIndex")||this.isPrivateDirty("startIndex")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&this.dataItems.length>0&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges())}_handleRangeChange(){(0,s.i)(this.series,(e=>{let t=this.dataItems[this.startIndex()].get("category"),i=this.dataItems[this.endIndex()-1].get("category"),a=e.get("baseAxis"),r=e.get("xAxis"),n=e.get("yAxis");if(r instanceof O&&n instanceof O)e._markDirtyAxes();else if(a===this){let o,l,h=n;if(r===a?(e.get("categoryXField")&&(o="categoryX"),e.get("openCategoryXField")&&(l="openCategoryX")):n===a&&(e.get("categoryYField")&&(o="categoryY"),e.get("openCategoryYField")&&(l="openCategoryY"),h=r),h instanceof w&&(o||l)){let a,r;for(let i=0,s=e.dataItems.length;i<s;i++){let s=e.dataItems[i];if(o&&s.get(o)===t){a=s;break}if(l&&s.get(l)===t){a=s;break}}for(let t=e.dataItems.length-1;t>=0;t--){let s=e.dataItems[t];if(o&&s.get(o)===i){r=s;break}if(l&&s.get(l)===i){r=s;break}}let n=0,h=e.dataItems.length;a&&(n=e.dataItems.indexOf(a)),r&&(h=e.dataItems.indexOf(r)+1),e.setPrivate("startIndex",n),e.setPrivate("endIndex",h);let d=!1;for(let t=n;t<h;t++){const i=e.dataItems[t];if((0,s.i)(e.__valueXShowFields,(e=>{null!=i.get(e)&&(d=!0)})),(0,s.i)(e.__valueYShowFields,(e=>{null!=i.get(e)&&(d=!0)})),d)break}e.setPrivate("outOfSelection",!d)}e._markDirtyAxes()}}))}_prepareAxisItems(){var e;const t=this.get("renderer"),i=this.dataItems.length;let s=this.startIndex();s>0&&s--;let a=this.endIndex();a<i&&a++;const r=t.get("minorLabelsEnabled"),n=t.get("minorGridEnabled",r);let o=t.axisLength()/Math.max(t.get("minGridDistance"),1),l=Math.max(1,Math.min(i,Math.ceil((a-s)/o)));s=Math.floor(s/l)*l,this._frequency=l;for(let e=0;e<i;e++)this._toggleDataItem(this.dataItems[e],!1);let h=this.dataItems[s].get("index",0);for(let e=s;e<a;e+=l){let t=this.dataItems[e];this._createAssets(t,[]),this._toggleDataItem(t,!0);let i=l;n&&(i=1),this._prepareDataItem(t,h,i),h++}if(t.get("minorGridEnabled"))for(let t=s;t<a;t++){let i=this.dataItems[t];t%l!=0&&(this._createAssets(i,["minor"],!0),this._toggleDataItem(i,!0),this._prepareDataItem(i,0,1),r||null===(e=i.get("label"))||void 0===e||e.setPrivate("visible",!1))}this._updateGhost()}_prepareDataItem(e,t,i){let a=this.get("renderer"),r=e.get("categoryLocation",0),n=e.get("endCategoryLocation",1),o=e.get("index");(0,s.k)(o)||(o=this.categoryToIndex(e.get("category")));let l,h=this.indexToPosition(o,r),d=e.get("endCategory");d?(l=this.categoryToIndex(d),(0,s.k)(l)||(l=o)):l=o;let u,c,g=this.indexToPosition(l,n);u=e.get("isRange")?l:o+this._frequency-1,c=this.indexToPosition(u,n),a.updateLabel(e.get("label"),h,g,i),a.updateGrid(e.get("grid"),h,g),a.updateTick(e.get("tick"),h,g,i),a.updateFill(e.get("axisFill"),h,c),this._processBullet(e),a.updateBullet(e.get("bullet"),h,g);const p=this.get("fillRule");p&&p(e,t)}startIndex(){let e=this.dataItems.length;return Math.min(Math.max(this.getPrivate("startIndex",0),0),e-1)}endIndex(){let e=this.dataItems.length;return Math.max(1,Math.min(this.getPrivate("endIndex",e),e))}baseValue(){}basePosition(){return 0}getX(e){let t=this._itemMap[e];return t?this._settings.renderer.positionToCoordinate(this.indexToPosition(t.get("index",0))):NaN}getY(e){let t=this._itemMap[e];return t?this._settings.renderer.positionToCoordinate(this.indexToPosition(t.get("index",0))):NaN}getDataItemPositionX(e,t,i,s){const a=e.get(t),r=this._itemMap[a];return r?this.indexToPosition(r.get("index",0),i):NaN}getDataItemCoordinateX(e,t,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,t,i,s))}getDataItemPositionY(e,t,i,s){const a=e.get(t),r=this._itemMap[a];return r?this.indexToPosition(r.get("index",0),i):NaN}getDataItemCoordinateY(e,t,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,t,i,s))}indexToPosition(e,t){(0,s.k)(t)||(t=.5);let i=this.dataItems.length,a=this.get("startLocation",0);i-=a,i-=1-this.get("endLocation",1);let r=(e+t-a)/i,n=this.dataItems[e];return n&&(r+=n.get("deltaPosition",0)),r}categoryToIndex(e){let t=this._itemMap[e];return t?t.get("index"):NaN}dataItemToPosition(e){return this.indexToPosition(e.get("index"))}roundAxisPosition(e,t){return e+=(.5-t)/this.dataItems.length,this.indexToPosition(this.axisPositionToIndex(e),t)}axisPositionToIndex(e){let t=this.dataItems.length;return(0,s.f)(Math.floor(e*t),0,t-1)}getTooltipText(e,t){const i=this.dataItems[this.axisPositionToIndex(e)];if(i){const e=i.get("label");if(e)return(0,s.s)(e,this.get("tooltipText",""))}}_updateTooltipText(e,t){e._setDataItem(this.dataItems[this.axisPositionToIndex(t)]),e.label.text.markDirtyText()}getSeriesItem(e,t){if(this.dataItems.length>0){let i=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),s=this.axisPositionToIndex(t),a=e.dataItems[s],r=this.dataItems[s],n=r.get("category");if(a&&r&&a.get(i)===n)return a;for(let t=0,s=e.dataItems.length;t<s;t++){let s=e.dataItems[t];if(s.get(i)===n)return s}}}zoomToIndexes(e,t,i){let s=this.dataItems.length;this.zoom(e/s,t/s,i)}zoomToCategories(e,t,i){this.zoomToIndexes(this.categoryToIndex(e),this.categoryToIndex(t)+1,i)}getCellWidthPosition(){return this._frequency/this.dataItems.length/(this.get("end",1)-this.get("start",0))}nextPosition(e){null==e&&(e=1),"Y"==this.get("renderer").getPrivate("letter")&&(e*=-1);const t=this.getPrivate("tooltipPosition",0),i=(0,s.f)(this.axisPositionToIndex(t)+e,0,this.dataItems.length-1);return this.toGlobalPosition(this.indexToPosition(i))}}Object.defineProperty(O,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryAxis"}),Object.defineProperty(O,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:x.classNames.concat([O.className])});class S extends C{constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new s.t(s.u.new({}),(()=>o.R._new(this._root,{position:"absolute",themeTags:(0,s.m)(this.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template]))))})}makeColumn(e,t){const i=this.mainContainer.children.push(t.make());return i._setDataItem(e),t.push(i),i}_processAxisRange(e){super._processAxisRange(e),e.columns=new s.t(s.u.new({}),(()=>o.R._new(this._root,{position:"absolute",themeTags:(0,s.m)(e.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template,e.columns.template])))}}Object.defineProperty(S,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColumnSeries"}),Object.defineProperty(S,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:C.classNames.concat([S.className])})},37059:(e,t,i)=>{i.d(t,{C:()=>a});var s=i(65009);class a extends s.E{_afterNew(){super._afterNewApplyThemes(),this._dirty.colors=!1}_beforeChanged(){this.isDirty("colors")&&this.reset()}generateColors(){this.setPrivate("currentPass",this.getPrivate("currentPass",0)+1);const e=this.getPrivate("currentPass"),t=this.get("colors",[this.get("baseColor",s.C.fromHex(16711680))]);this.getPrivate("numColors")||this.setPrivate("numColors",t.length);const i=this.getPrivate("numColors"),a=this.get("passOptions"),r=this.get("reuse");for(let n=0;n<i;n++)if(r)t.push(t[n]);else{const i=t[n].toHSL();let r=i.h+(a.hue||0)*e;for(;r>1;)r-=1;let o=i.s+(a.saturation||0)*e;o>1&&(o=1),o<0&&(o=0);let l=i.l+(a.lightness||0)*e;for(;l>1;)l-=1;t.push(s.C.fromHSL(r,o,l))}}getIndex(e){const t=this.get("colors",[]),i=this.get("saturation");return e>=t.length?(this.generateColors(),this.getIndex(e)):null!=i?s.C.saturate(t[e],i):t[e]}next(){let e=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",e+this.get("step",1)),this.getIndex(e)}reset(){this.setPrivate("currentStep",this.get("startIndex",0)),this.setPrivate("currentPass",0)}}Object.defineProperty(a,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorSet"}),Object.defineProperty(a,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.E.classNames.concat([a.className])})},42527:(e,t,i)=>{i.d(t,{AnimatedThemeAm5:()=>d,ColorSetAm5:()=>l.C,DarkThemeAm5:()=>a,ResponsiveThemeAm5:()=>r,ScrollbarAm5:()=>h,ThemeAm5:()=>s.T,TooltipAm5:()=>o.T,colorAm5:()=>s.d,esriChartColorSet:()=>u});var s=i(65009);class a extends s.T{setupDefaultRules(){super.setupDefaultRules(),this.rule("InterfaceColors").setAll({stroke:s.C.fromHex(0),fill:s.C.fromHex(2829099),primaryButton:s.C.lighten(s.C.fromHex(6788316),-.2),primaryButtonHover:s.C.lighten(s.C.fromHex(6779356),-.2),primaryButtonDown:s.C.lighten(s.C.fromHex(6872181),-.2),primaryButtonActive:s.C.lighten(s.C.fromHex(6872182),-.2),primaryButtonText:s.C.fromHex(16777215),primaryButtonStroke:s.C.lighten(s.C.fromHex(6788316),-.2),secondaryButton:s.C.fromHex(3881787),secondaryButtonHover:s.C.lighten(s.C.fromHex(3881787),.1),secondaryButtonDown:s.C.lighten(s.C.fromHex(3881787),.15),secondaryButtonActive:s.C.lighten(s.C.fromHex(3881787),.2),secondaryButtonText:s.C.fromHex(12303291),secondaryButtonStroke:s.C.lighten(s.C.fromHex(3881787),-.2),grid:s.C.fromHex(12303291),background:s.C.fromHex(0),alternativeBackground:s.C.fromHex(16777215),text:s.C.fromHex(16777215),alternativeText:s.C.fromHex(0),disabled:s.C.fromHex(11382189),positive:s.C.fromHex(5288704),negative:s.C.fromHex(11730944)})}}class r extends s.T{constructor(e,t){super(e,t),Object.defineProperty(this,"_dp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"responsiveRules",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._dp=new s.M([this._root._rootContainer.onPrivate("width",(e=>{this._isUsed()&&this._maybeApplyRules()})),this._root._rootContainer.onPrivate("height",(e=>{this._isUsed()&&this._maybeApplyRules()}))])}static widthXXS(e,t){return e<=r.XXS}static widthXS(e,t){return e<=r.XS}static widthS(e,t){return e<=r.S}static widthM(e,t){return e<=r.M}static widthL(e,t){return e<=r.L}static widthXL(e,t){return e<=r.XL}static widthXXL(e,t){return e<=r.XXL}static heightXXS(e,t){return t<=r.XXS}static heightXS(e,t){return t<=r.XS}static heightS(e,t){return t<=r.S}static heightM(e,t){return t<=r.M}static heightL(e,t){return t<=r.L}static heightXL(e,t){return t<=r.XL}static heightXXL(e,t){return t<=r.XXL}static isXXS(e,t){return e<=r.XXS&&t<=r.XXS}static isXS(e,t){return e<=r.XS&&t<=r.XS}static isS(e,t){return e<=r.S&&t<=r.S}static isM(e,t){return e<=r.M&&t<=r.M}static isL(e,t){return e<=r.L&&t<=r.L}static isXL(e,t){return e<=r.XL&&t<=r.XL}static isXXL(e,t){return e<=r.XXL&&t<=r.XXL}static maybeXXS(e,t){return e<=r.XXS||t<=r.XXS}static maybeXS(e,t){return e<=r.XS||t<=r.XS}static maybeS(e,t){return e<=r.S||t<=r.S}static maybeM(e,t){return e<=r.M||t<=r.M}static maybeL(e,t){return e<=r.L||t<=r.L}static maybeXL(e,t){return e<=r.XL||t<=r.XL}static maybeXXL(e,t){return e<=r.XXL||t<=r.XXL}static newEmpty(e){return new this(e,!0)}addRule(e){return e.name&&!e.template&&(e.template=this.rule(e.name,e.tags)),this.responsiveRules.push(e),this._maybeApplyRule(e),e}removeRule(e){(0,s.r)(this.responsiveRules,e)}dispose(){this._dp&&this._dp.dispose()}_isUsed(){return-1!==this._root._rootContainer.get("themes").indexOf(this)}_maybeApplyRules(){(0,s.i)(this.responsiveRules,(e=>{this._maybeUnapplyRule(e)})),(0,s.i)(this.responsiveRules,(e=>{this._maybeApplyRule(e)}))}_maybeApplyRule(e){if(e.applied)return;const t=this._root._rootContainer.getPrivate("width"),i=this._root._rootContainer.getPrivate("height");e.relevant.call(e,t,i)&&(e.applied=!0,e.template&&e.settings&&e.template.setAll(e.settings),e.applying&&e.applying.call(e))}_maybeUnapplyRule(e){if(!e.applied)return;const t=this._root._rootContainer.getPrivate("width"),i=this._root._rootContainer.getPrivate("height");e.relevant.call(e,t,i)||(e.applied=!1,e.template&&e.template.removeAll(),e.removing&&e.removing.call(e))}setupDefaultRules(){super.setupDefaultRules();const e=e=>this.addRule(e);e({name:"Chart",relevant:r.widthXXS,settings:{paddingLeft:0,paddingRight:0}}),e({name:"Chart",relevant:r.heightXXS,settings:{paddingTop:0,paddingBottom:0}}),e({name:"Bullet",relevant:r.isXS,settings:{forceHidden:!0}}),e({name:"Legend",relevant:r.isXS,settings:{forceHidden:!0}}),e({name:"HeatLegend",tags:["vertical"],relevant:r.widthXS,settings:{forceHidden:!0}}),e({name:"HeatLegend",tags:["horizontal"],relevant:r.heightXS,settings:{forceHidden:!0}}),e({name:"Label",tags:["heatlegend","start"],relevant:r.maybeXS,settings:{forceHidden:!0}}),e({name:"Label",tags:["heatlegend","end"],relevant:r.maybeXS,settings:{forceHidden:!0}}),e({name:"Button",tags:["resize"],relevant:r.maybeXS,settings:{forceHidden:!0}}),e({name:"AxisRendererX",relevant:r.heightXS,settings:{inside:!0}}),e({name:"AxisRendererY",relevant:r.widthXS,settings:{inside:!0}}),e({name:"AxisRendererXLabel",relevant:r.heightXS,settings:{minPosition:.1,maxPosition:.9}}),e({name:"AxisLabel",tags:["y"],relevant:r.widthXS,settings:{centerY:s.a,maxPosition:.9}}),e({name:"AxisLabel",tags:["x"],relevant:r.heightXXS,settings:{forceHidden:!0}}),e({name:"AxisLabel",tags:["x","minor"],relevant:r.widthXXL,settings:{forceHidden:!0}}),e({name:"AxisLabel",tags:["y"],relevant:r.widthXXS,settings:{forceHidden:!0}}),e({name:"AxisLabel",tags:["y","minor"],relevant:r.heightXXL,settings:{forceHidden:!0}}),e({name:"AxisTick",tags:["x"],relevant:r.heightXS,settings:{inside:!0,minPosition:.1,maxPosition:.9}}),e({name:"AxisTick",tags:["y"],relevant:r.widthXXS,settings:{inside:!0,minPosition:.1,maxPosition:.9}}),e({name:"Grid",relevant:r.maybeXXS,settings:{forceHidden:!0}}),e({name:"RadialLabel",tags:["radial"],relevant:r.maybeXS,settings:{forceHidden:!0}}),e({name:"RadialLabel",tags:["circular"],relevant:r.maybeS,settings:{inside:!0}}),e({name:"AxisTick",relevant:r.maybeS,settings:{inside:!0}}),e({name:"RadialLabel",tags:["circular"],relevant:r.maybeXS,settings:{forceHidden:!0}}),e({name:"AxisTick",tags:["circular"],relevant:r.maybeXS,settings:{inside:!0}}),e({name:"PieChart",relevant:r.maybeXS,settings:{radius:(0,s.j)(99)}}),e({name:"PieChart",relevant:r.widthM,settings:{radius:(0,s.j)(99)}}),e({name:"RadialLabel",tags:["pie"],relevant:r.maybeXS,settings:{forceHidden:!0}}),e({name:"RadialLabel",tags:["pie"],relevant:r.widthM,settings:{forceHidden:!0}}),e({name:"Tick",tags:["pie"],relevant:r.maybeXS,settings:{forceHidden:!0}}),e({name:"Tick",tags:["pie"],relevant:r.widthM,settings:{forceHidden:!0}}),e({name:"FunnelSeries",relevant:r.widthM,settings:{alignLabels:!1}}),e({name:"Label",tags:["funnel","vertical"],relevant:r.widthL,settings:{forceHidden:!0}}),e({name:"Tick",tags:["funnel","vertical"],relevant:r.widthL,settings:{forceHidden:!0}}),e({name:"Label",tags:["funnel","horizontal"],relevant:r.heightS,settings:{forceHidden:!0}}),e({name:"Tick",tags:["funnel","horizontal"],relevant:r.heightS,settings:{forceHidden:!0}}),e({name:"PyramidSeries",relevant:r.widthM,settings:{alignLabels:!1}}),e({name:"Label",tags:["pyramid","vertical"],relevant:r.widthL,settings:{forceHidden:!0}}),e({name:"Tick",tags:["pyramid","vertical"],relevant:r.widthL,settings:{forceHidden:!0}}),e({name:"Label",tags:["pyramid","horizontal"],relevant:r.heightS,settings:{forceHidden:!0}}),e({name:"Tick",tags:["pyramid","horizontal"],relevant:r.heightS,settings:{forceHidden:!0}}),e({name:"PictorialStackedSeries",relevant:r.widthM,settings:{alignLabels:!1}}),e({name:"Label",tags:["pictorial","vertical"],relevant:r.widthL,settings:{forceHidden:!0}}),e({name:"Tick",tags:["pictorial","vertical"],relevant:r.widthL,settings:{forceHidden:!0}}),e({name:"Label",tags:["pictorial","horizontal"],relevant:r.heightS,settings:{forceHidden:!0}}),e({name:"Tick",tags:["pictorial","horizontal"],relevant:r.heightS,settings:{forceHidden:!0}}),e({name:"Label",tags:["flow","horizontal"],relevant:r.widthS,settings:{forceHidden:!0}}),e({name:"Label",tags:["flow","vertical"],relevant:r.heightS,settings:{forceHidden:!0}}),e({name:"Chord",relevant:r.maybeXS,settings:{radius:(0,s.j)(99)}}),e({name:"Label",tags:["hierarchy","node"],relevant:r.maybeXS,settings:{forceHidden:!0}})}}Object.defineProperty(r,"XXS",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(r,"XS",{enumerable:!0,configurable:!0,writable:!0,value:200}),Object.defineProperty(r,"S",{enumerable:!0,configurable:!0,writable:!0,value:300}),Object.defineProperty(r,"M",{enumerable:!0,configurable:!0,writable:!0,value:400}),Object.defineProperty(r,"L",{enumerable:!0,configurable:!0,writable:!0,value:600}),Object.defineProperty(r,"XL",{enumerable:!0,configurable:!0,writable:!0,value:800}),Object.defineProperty(r,"XXL",{enumerable:!0,configurable:!0,writable:!0,value:1e3});var n=i(57830),o=i(83067),l=i(37059);class h extends s.g{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:this._makeThumb()}),Object.defineProperty(this,"startGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"endGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"_thumbBusy",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_startDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_endDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_thumbDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_gripDown",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_addOrientationClass(){this._settings.themeTags=(0,s.m)(this._settings.themeTags,["scrollbar",this._settings.orientation]),this._settings.background||(this._settings.background=n.R.new(this._root,{themeTags:(0,s.m)(this._settings.themeTags,["main","background"])}))}_makeButton(){return this.children.push(n.B.new(this._root,{themeTags:["resize","button",this.get("orientation")],icon:s.e.new(this._root,{themeTags:["icon"]})}))}_makeThumb(){return this.children.push(n.R.new(this._root,{themeTags:["thumb",this.get("orientation")]}))}_handleAnimation(e){e&&this._disposers.push(e.events.on("stopped",(()=>{this.setPrivateRaw("isBusy",!1),this._thumbBusy=!1})))}_afterNew(){this._addOrientationClass(),super._afterNew();const e=this.startGrip,t=this.endGrip,i=this.thumb,a=this.get("background");a&&this._disposers.push(a.events.on("click",(e=>{this.setPrivateRaw("isBusy",!0);const t=this._display.toLocal(e.point),s=this.width(),a=this.height(),r=this.get("orientation");let n,o,l;n="vertical"==r?(t.y-i.height()/2)/a:(t.x-i.width()/2)/s,"vertical"==r?(o=n*a,l="y"):(o=n*s,l="x");const h=this.get("animationDuration",0);h>0?(this._thumbBusy=!0,this._handleAnimation(this.thumb.animate({key:l,to:o,duration:h,easing:this.get("animationEasing")}))):(this.thumb.set(l,o),this._root.events.once("frameended",(()=>{this.setPrivateRaw("isBusy",!1)})))}))),this._disposers.push(i.events.on("dblclick",(e=>{if(!(0,s.n)(e.originalEvent,this))return;const t=this.get("animationDuration",0),i=this.get("animationEasing");this.animate({key:"start",to:0,duration:t,easing:i}),this.animate({key:"end",to:1,duration:t,easing:i})}))),this._disposers.push(e.events.on("pointerdown",(()=>{this.setPrivateRaw("isBusy",!0),this._startDown=!0,this._gripDown="start"}))),this._disposers.push(t.events.on("pointerdown",(()=>{this.setPrivateRaw("isBusy",!0),this._endDown=!0,this._gripDown="end"}))),this._disposers.push(i.events.on("pointerdown",(()=>{this.setPrivateRaw("isBusy",!0),this._thumbDown=!0,this._gripDown=void 0}))),this._disposers.push(e.events.on("globalpointerup",(()=>{this._startDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._startDown=!1}))),this._disposers.push(t.events.on("globalpointerup",(()=>{this._endDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._endDown=!1}))),this._disposers.push(i.events.on("globalpointerup",(()=>{this._thumbDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._thumbDown=!1}))),this._disposers.push(e.on("x",(()=>{this._updateThumb()}))),this._disposers.push(t.on("x",(()=>{this._updateThumb()}))),this._disposers.push(e.on("y",(()=>{this._updateThumb()}))),this._disposers.push(t.on("y",(()=>{this._updateThumb()}))),this._disposers.push(i.events.on("positionchanged",(()=>{this._updateGripsByThumb()}))),"vertical"==this.get("orientation")?(e.set("x",0),t.set("x",0),this._disposers.push(i.adapters.add("y",(e=>Math.max(Math.min(Number(e),this.height()-i.height()),0)))),this._disposers.push(i.adapters.add("x",(e=>this.width()/2))),this._disposers.push(e.adapters.add("x",(e=>this.width()/2))),this._disposers.push(t.adapters.add("x",(e=>this.width()/2))),this._disposers.push(e.adapters.add("y",(e=>Math.max(Math.min(Number(e),this.height()),0)))),this._disposers.push(t.adapters.add("y",(e=>Math.max(Math.min(Number(e),this.height()),0))))):(e.set("y",0),t.set("y",0),this._disposers.push(i.adapters.add("x",(e=>Math.max(Math.min(Number(e),this.width()-i.width()),0)))),this._disposers.push(i.adapters.add("y",(e=>this.height()/2))),this._disposers.push(e.adapters.add("y",(e=>this.height()/2))),this._disposers.push(t.adapters.add("y",(e=>this.height()/2))),this._disposers.push(e.adapters.add("x",(e=>Math.max(Math.min(Number(e),this.width()),0)))),this._disposers.push(t.adapters.add("x",(e=>Math.max(Math.min(Number(e),this.width()),0)))))}_updateChildren(){super._updateChildren(),(this.isDirty("end")||this.isDirty("start")||this._sizeDirty)&&this.updateGrips()}_changed(){if(super._changed(),this.isDirty("start")||this.isDirty("end")){const e="rangechanged";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,start:this.get("start",0),end:this.get("end",1),grip:this._gripDown})}}_released(){const e="released";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this})}updateGrips(){const e=this.startGrip,t=this.endGrip,i=this.get("orientation"),s=this.height(),a=this.width();"vertical"==i?(e.set("y",s*this.get("start",0)),t.set("y",s*this.get("end",1))):(e.set("x",a*this.get("start",0)),t.set("x",a*this.get("end",1)));const r=this.getPrivate("positionTextFunction"),n=Math.round(100*this.get("start",0)),o=Math.round(100*this.get("end",0));let l,h;r?(l=r.call(this,this.get("start",0)),h=r.call(this,this.get("end",0))):(l=n+"%",h=o+"%"),e.set("ariaLabel",this._t("From %1",void 0,l)),e.set("ariaValueNow",""+n),e.set("ariaValueText",n+"%"),e.set("ariaValueMin","0"),e.set("ariaValueMax","100"),t.set("ariaLabel",this._t("To %1",void 0,h)),t.set("ariaValueNow",""+o),t.set("ariaValueText",o+"%"),t.set("ariaValueMin","0"),t.set("ariaValueMax","100")}_updateThumb(){const e=this.thumb,t=this.startGrip,i=this.endGrip,a=this.height(),r=this.width();let n=t.x(),o=i.x(),l=t.y(),h=i.y(),d=0,u=1;"vertical"==this.get("orientation")?(0,s.k)(l)&&(0,s.k)(h)&&(this._thumbBusy||e.isDragging()||(e.set("height",h-l),e.set("y",l)),d=l/a,u=h/a):(0,s.k)(n)&&(0,s.k)(o)&&(this._thumbBusy||e.isDragging()||(e.set("width",o-n),e.set("x",n)),d=n/r,u=o/r),!this.getPrivate("isBusy")||this.get("start")==d&&this.get("end")==u||(this.set("start",d),this.set("end",u));const c=this.getPrivate("positionTextFunction"),g=Math.round(100*this.get("start",0)),p=Math.round(100*this.get("end",0));let m,b;c?(m=c.call(this,this.get("start",0)),b=c.call(this,this.get("end",0))):(m=g+"%",b=p+"%"),e.set("ariaLabel",this._t("From %1 to %2",void 0,m,b)),e.set("ariaValueNow",""+g),e.set("ariaValueText",g+"%")}_updateGripsByThumb(){const e=this.thumb,t=this.startGrip,i=this.endGrip;if("vertical"==this.get("orientation")){const s=e.height();t.set("y",e.y()),i.set("y",e.y()+s)}else{const s=e.width();t.set("x",e.x()),i.set("x",e.x()+s)}}}Object.defineProperty(h,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Scrollbar"}),Object.defineProperty(h,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.g.classNames.concat([h.className])});class d extends s.T{setupDefaultRules(){super.setupDefaultRules(),this.rule("Component").setAll({interpolationDuration:600}),this.rule("Hierarchy").set("animationDuration",600),this.rule("Scrollbar").set("animationDuration",600),this.rule("Tooltip").set("animationDuration",300),this.rule("MapChart").set("animationDuration",1e3),this.rule("MapChart").set("wheelDuration",300),this.rule("Entity").setAll({stateAnimationDuration:600}),this.rule("Sprite").states.create("default",{stateAnimationDuration:600}),this.rule("Tooltip",["axis"]).setAll({animationDuration:200}),this.rule("WordCloud").set("animationDuration",500),this.rule("Polygon").set("animationDuration",600),this.rule("ArcDiagram").set("animationDuration",600)}}const u=["#2888B8","#EB7028","#48A375","#9370B1","#e55035","#3d9ccc","#DC7B04","#b87bb0","#3fa681","#EE6386"].map((e=>(0,s.d)(e)))},57830:(e,t,i)=>{i.d(t,{B:()=>r,R:()=>a});var s=i(65009);class a extends s.R{_beforeChanged(){super._beforeChanged(),(this.isDirty("cornerRadiusTL")||this.isDirty("cornerRadiusTR")||this.isDirty("cornerRadiusBR")||this.isDirty("cornerRadiusBL"))&&(this._clear=!0)}_draw(){let e=this.width(),t=this.height(),i=e,a=t,r=i/Math.abs(e),n=a/Math.abs(t);if((0,s.k)(i)&&(0,s.k)(a)){let e=Math.min(i,a)/2,t=(0,s.l)(this.get("cornerRadiusTL",8),e),o=(0,s.l)(this.get("cornerRadiusTR",8),e),l=(0,s.l)(this.get("cornerRadiusBR",8),e),h=(0,s.l)(this.get("cornerRadiusBL",8),e),d=Math.min(Math.abs(i/2),Math.abs(a/2));t=(0,s.f)(t,0,d),o=(0,s.f)(o,0,d),l=(0,s.f)(l,0,d),h=(0,s.f)(h,0,d);const u=this._display;u.moveTo(t*r,0),u.lineTo(i-o*r,0),o>0&&u.arcTo(i,0,i,o*n,o),u.lineTo(i,a-l*n),l>0&&u.arcTo(i,a,i-l*r,a,l),u.lineTo(h*r,a),h>0&&u.arcTo(0,a,0,a-h*n,h),u.lineTo(0,t*n),t>0&&u.arcTo(0,0,t*r,0,t),u.closePath()}}}Object.defineProperty(a,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RoundedRectangle"}),Object.defineProperty(a,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.R.classNames.concat([a.className])});class r extends s.g{_afterNew(){this._settings.themeTags=(0,s.m)(this._settings.themeTags,["button"]),super._afterNew(),this._settings.background||this.set("background",a.new(this._root,{themeTags:(0,s.m)(this._settings.themeTags,["background"])})),this.setPrivate("trustBounds",!0)}_prepareChildren(){if(super._prepareChildren(),this.isDirty("icon")){const e=this._prevSettings.icon,t=this.get("icon");t!==e&&(this._disposeProperty("icon"),e&&e.dispose(),t&&this.children.push(t),this._prevSettings.icon=t)}if(this.isDirty("label")){const e=this._prevSettings.label,t=this.get("label");t!==e&&(this._disposeProperty("label"),e&&e.dispose(),t&&this.children.push(t),this._prevSettings.label=t)}}}Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Button"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.g.classNames.concat([r.className])})},63872:(e,t,i)=>{i.d(t,{D:()=>r,s:()=>a});var s=i(65009);function a(e,t,i,s){e.set(t,i.get(s)),i.on(s,(i=>{e.set(t,i)}))}class r extends s.T{setupDefaultRules(){super.setupDefaultRules();const e=this._root.language,t=this._root.interfaceColors,i=this._root.horizontalLayout,r=this._root.verticalLayout,n=this.rule.bind(this);n("InterfaceColors").setAll({stroke:s.C.fromHex(15066597),fill:s.C.fromHex(15987699),primaryButton:s.C.fromHex(6788316),primaryButtonHover:s.C.fromHex(6779356),primaryButtonDown:s.C.fromHex(6872182),primaryButtonActive:s.C.fromHex(6872182),primaryButtonDisabled:s.C.fromHex(14342874),primaryButtonTextDisabled:s.C.fromHex(16777215),primaryButtonText:s.C.fromHex(16777215),primaryButtonStroke:s.C.fromHex(16777215),secondaryButton:s.C.fromHex(14277081),secondaryButtonHover:s.C.fromHex(10724259),secondaryButtonDown:s.C.fromHex(9276813),secondaryButtonActive:s.C.fromHex(15132390),secondaryButtonText:s.C.fromHex(0),secondaryButtonStroke:s.C.fromHex(16777215),grid:s.C.fromHex(0),background:s.C.fromHex(16777215),alternativeBackground:s.C.fromHex(0),text:s.C.fromHex(0),alternativeText:s.C.fromHex(16777215),disabled:s.C.fromHex(11382189),positive:s.C.fromHex(5288704),negative:s.C.fromHex(11730944)});{const e=n("ColorSet");e.setAll({passOptions:{hue:.05,saturation:0,lightness:0},colors:[s.C.fromHex(6797276)],step:1,reuse:!1,startIndex:0}),e.setPrivate("currentStep",0),e.setPrivate("currentPass",0)}n("Entity").setAll({stateAnimationDuration:0,stateAnimationEasing:(0,s.o)(s.c)}),n("Component").setAll({interpolationDuration:0,interpolationEasing:(0,s.o)(s.c)}),n("Sprite").setAll({visible:!0,scale:1,opacity:1,rotation:0,position:"relative",tooltipX:s.p,tooltipY:s.p,tooltipPosition:"fixed",isMeasured:!0}),n("Sprite").states.create("default",{visible:!0,opacity:1}),n("Container").setAll({interactiveChildren:!0,setStateOnChildren:!1}),n("Graphics").setAll({strokeWidth:1}),n("Chart").setAll({width:s.a,height:s.a,interactiveChildren:!1}),n("ZoomableContainer").setAll({width:s.a,height:s.a,wheelable:!0,pinchZoom:!0,maxZoomLevel:32,minZoomLevel:1,zoomStep:2,animationEasing:(0,s.o)(s.c),animationDuration:600,maxPanOut:.4}),n("Sprite",["horizontal","center"]).setAll({centerX:s.p,x:s.p}),n("Sprite",["vertical","center"]).setAll({centerY:s.p,y:s.p}),n("Container",["horizontal","layout"]).setAll({layout:i}),n("Container",["vertical","layout"]).setAll({layout:r}),n("Pattern").setAll({repetition:"repeat",width:50,height:50,rotation:0,fillOpacity:1}),n("LinePattern").setAll({gap:6,colorOpacity:1,width:49,height:49}),n("RectanglePattern").setAll({gap:6,checkered:!1,centered:!0,maxWidth:5,maxHeight:5,width:48,height:48,strokeWidth:0}),n("CirclePattern").setAll({gap:5,checkered:!1,centered:!1,radius:3,strokeWidth:0,width:45,height:45}),n("GrainPattern").setAll({width:200,height:200,colors:[s.C.fromHex(0)],size:1,horizontalGap:0,verticalGap:0,density:1,minOpacity:0,maxOpacity:.2});{const e=n("PatternSet");e.setAll({step:1}),a(e,"color",t,"stroke")}n("LinearGradient").setAll({rotation:90}),n("Legend").setAll({fillField:"fill",strokeField:"stroke",nameField:"name",layout:s.G.new(this._root,{}),layer:30,clickTarget:"itemContainer"}),n("Container",["legend","item","itemcontainer"]).setAll({paddingLeft:5,paddingRight:5,paddingBottom:5,paddingTop:5,layout:i,setStateOnChildren:!0,interactiveChildren:!1,ariaChecked:!0,focusable:!0,ariaLabel:e.translate("Press ENTER to toggle"),role:"checkbox"});{const e=n("Rectangle",["legend","item","background"]);e.setAll({fillOpacity:0}),a(e,"fill",t,"background")}n("Container",["legend","marker"]).setAll({setStateOnChildren:!0,centerY:s.p,paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0,width:18,height:18}),n("RoundedRectangle",["legend","marker","rectangle"]).setAll({width:s.a,height:s.a,cornerRadiusBL:3,cornerRadiusTL:3,cornerRadiusBR:3,cornerRadiusTR:3});{const e=n("RoundedRectangle",["legend","marker","rectangle"]).states.create("disabled",{});a(e,"fill",t,"disabled"),a(e,"stroke",t,"disabled")}n("Label",["legend","label"]).setAll({centerY:s.p,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,populateText:!0}),a(n("Label",["legend","label"]).states.create("disabled",{}),"fill",t,"disabled"),n("Label",["legend","value","label"]).setAll({centerY:s.p,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,width:50,centerX:s.a,populateText:!0}),a(n("Label",["legend","value","label"]).states.create("disabled",{}),"fill",t,"disabled"),n("HeatLegend").setAll({stepCount:1}),n("RoundedRectangle",["heatlegend","marker"]).setAll({cornerRadiusTR:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusBL:0}),n("RoundedRectangle",["vertical","heatlegend","marker"]).setAll({height:s.a,width:15}),n("RoundedRectangle",["horizontal","heatlegend","marker"]).setAll({width:s.a,height:15}),n("HeatLegend",["vertical"]).setAll({height:s.a}),n("HeatLegend",["horizontal"]).setAll({width:s.a}),n("Label",["heatlegend","start"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5}),n("Label",["heatlegend","end"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5});{const e=n("Label");e.setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontSize:"1em",populateText:!1}),a(e,"fill",t,"text")}n("RadialLabel").setAll({textType:"regular",centerY:s.p,centerX:s.p,inside:!1,radius:0,baseRadius:s.a,orientation:"auto",textAlign:"center"}),n("EditableLabel").setAll({editOn:"click",themeTags:["editablelabel"],multiLine:!0}),n("RoundedRectangle",["editablelabel","background"]).setAll({fillOpacity:0,fill:s.C.fromHex(0),cornerRadiusBL:3,cornerRadiusBR:3,cornerRadiusTL:3,cornerRadiusTR:3,strokeOpacity:0,stroke:s.C.fromHex(0)}),n("RoundedRectangle",["editablelabel","background"]).states.create("active",{strokeOpacity:.2}),n("RoundedRectangle").setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8}),n("PointedRectangle").setAll({pointerBaseWidth:15,pointerLength:10,cornerRadius:8}),n("Slice").setAll({shiftRadius:0,dRadius:0,dInnerRadius:0});{const e=n("Tick");e.setAll({strokeOpacity:.15,isMeasured:!1,length:4.5,position:"absolute",crisp:!0}),a(e,"stroke",t,"grid")}n("Bullet").setAll({locationX:.5,locationY:.5}),n("Tooltip").setAll({position:"absolute",getFillFromSprite:!0,getStrokeFromSprite:!1,autoTextColor:!0,paddingTop:9,paddingBottom:8,paddingLeft:10,paddingRight:10,marginBottom:5,pointerOrientation:"vertical",centerX:s.p,centerY:s.p,animationEasing:(0,s.o)(s.c),exportable:!1}),n("Polygon").setAll({animationEasing:(0,s.o)(s.c)}),n("PointedRectangle",["tooltip","background"]).setAll({strokeOpacity:.9,cornerRadius:4,pointerLength:4,pointerBaseWidth:8,fillOpacity:.9,stroke:s.C.fromHex(16777215)});{const e=n("Label",["tooltip"]);e.setAll({role:"tooltip",populateText:!0,paddingRight:0,paddingTop:0,paddingLeft:0,paddingBottom:0}),a(e,"fill",t,"alternativeText")}n("Button").setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,interactive:!0,layout:i,interactiveChildren:!1,setStateOnChildren:!0,focusable:!0}),n("Button").states.create("hover",{}),n("Button").states.create("down",{stateAnimationDuration:0}),n("Button").states.create("active",{}),n("Button").states.create("disabled",{forceInactive:!0});{const e=n("RoundedRectangle",["button","background"]);a(e,"fill",t,"primaryButton"),a(e,"stroke",t,"primaryButtonStroke")}a(n("RoundedRectangle",["button","background"]).states.create("hover",{}),"fill",t,"primaryButtonHover"),a(n("RoundedRectangle",["button","background"]).states.create("down",{stateAnimationDuration:0}),"fill",t,"primaryButtonDown"),a(n("RoundedRectangle",["button","background"]).states.create("active",{}),"fill",t,"primaryButtonActive"),a(n("RoundedRectangle",["button","background"]).states.create("disabled",{}),"fill",t,"primaryButtonDisabled"),a(n("Graphics",["button","icon"]).states.create("disabled",{}),"fill",t,"primaryButtonTextDisabled"),a(n("Label",["button"]).states.create("disabled",{}),"fill",t,"primaryButtonTextDisabled");{const e=n("Graphics",["button","icon"]);e.setAll({forceInactive:!0}),a(e,"stroke",t,"primaryButtonText")}a(n("Label",["button"]),"fill",t,"primaryButtonText"),n("Button",["zoom"]).setAll({paddingTop:18,paddingBottom:18,paddingLeft:12,paddingRight:12,centerX:46,centerY:-10,y:0,x:s.a,role:"button",ariaLabel:e.translate("Zoom Out"),layer:30});{const e=n("RoundedRectangle",["background","button","zoom"]);e.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),a(e,"fill",t,"primaryButton")}a(n("RoundedRectangle",["background","button","zoom"]).states.create("hover",{}),"fill",t,"primaryButtonHover"),a(n("RoundedRectangle",["background","button","zoom"]).states.create("down",{stateAnimationDuration:0}),"fill",t,"primaryButtonDown");{const e=n("Graphics",["icon","button","zoom"]);e.setAll({crisp:!0,strokeOpacity:.7,draw:e=>{e.moveTo(0,0),e.lineTo(12,0)}}),a(e,"stroke",t,"primaryButtonText")}n("Button",["resize"]).setAll({paddingTop:9,paddingBottom:9,paddingLeft:13,paddingRight:13,draggable:!0,centerX:s.p,centerY:s.p,position:"absolute",role:"slider",ariaValueMin:"0",ariaValueMax:"100",ariaLabel:e.translate("Use up and down arrows to move selection")});{const e=n("RoundedRectangle",["background","resize","button"]);e.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),a(e,"fill",t,"secondaryButton"),a(e,"stroke",t,"secondaryButtonStroke")}a(n("RoundedRectangle",["background","resize","button"]).states.create("hover",{}),"fill",t,"secondaryButtonHover"),a(n("RoundedRectangle",["background","resize","button"]).states.create("down",{stateAnimationDuration:0}),"fill",t,"secondaryButtonDown");{const e=n("Graphics",["resize","button","icon"]);e.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:e=>{e.moveTo(0,.5),e.lineTo(0,12.5),e.moveTo(4,.5),e.lineTo(4,12.5)}}),a(e,"stroke",t,"secondaryButtonText")}n("Button",["resize","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize"}),n("Button",["resize","horizontal"]).setAll({cursorOverStyle:"ew-resize"}),n("Button",["play"]).setAll({paddingTop:13,paddingBottom:13,paddingLeft:14,paddingRight:14,ariaLabel:e.translate("Play"),toggleKey:"active"});{const e=n("RoundedRectangle",["play","background"]);e.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),a(e,"fill",t,"primaryButton")}{const e=n("Graphics",["play","icon"]);e.setAll({stateAnimationDuration:0,dx:1,draw:e=>{e.moveTo(0,-5),e.lineTo(8,0),e.lineTo(0,5),e.lineTo(0,-5)}}),a(e,"fill",t,"primaryButtonText")}n("Graphics",["play","icon"]).states.create("default",{stateAnimationDuration:0}),n("Graphics",["play","icon"]).states.create("active",{stateAnimationDuration:0,draw:e=>{e.moveTo(-4,-5),e.lineTo(-1,-5),e.lineTo(-1,5),e.lineTo(-4,5),e.lineTo(-4,-5),e.moveTo(4,-5),e.lineTo(1,-5),e.lineTo(1,5),e.lineTo(4,5),e.lineTo(4,-5)}}),n("Button",["switch"]).setAll({paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,ariaLabel:e.translate("Press ENTER to toggle"),toggleKey:"active",width:40,height:24,layout:null});{const e=n("RoundedRectangle",["switch","background"]);e.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),a(e,"fill",t,"primaryButton")}{const e=n("Circle",["switch","icon"]);e.setAll({radius:8,centerY:0,centerX:0,dx:0}),a(e,"fill",t,"primaryButtonText")}n("Graphics",["switch","icon"]).states.create("active",{dx:16}),n("Scrollbar").setAll({start:0,end:1,layer:30,animationEasing:(0,s.o)(s.c)}),n("Scrollbar",["vertical"]).setAll({marginRight:13,marginLeft:13,minWidth:12,height:s.a}),n("Scrollbar",["horizontal"]).setAll({marginTop:13,marginBottom:13,minHeight:12,width:s.a}),this.rule("Button",["scrollbar"]).setAll({exportable:!1});{const e=n("RoundedRectangle",["scrollbar","main","background"]);e.setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8,fillOpacity:.8}),a(e,"fill",t,"fill")}{const e=n("RoundedRectangle",["scrollbar","thumb"]);e.setAll({role:"slider",ariaLive:"polite",position:"absolute",draggable:!0}),a(e,"fill",t,"secondaryButton")}a(n("RoundedRectangle",["scrollbar","thumb"]).states.create("hover",{}),"fill",t,"secondaryButtonHover"),a(n("RoundedRectangle",["scrollbar","thumb"]).states.create("down",{stateAnimationDuration:0}),"fill",t,"secondaryButtonDown"),n("RoundedRectangle",["scrollbar","thumb","vertical"]).setAll({x:s.p,width:s.a,centerX:s.p,ariaLabel:e.translate("Use up and down arrows to move selection")}),n("RoundedRectangle",["scrollbar","thumb","horizontal"]).setAll({y:s.p,centerY:s.p,height:s.a,ariaLabel:e.translate("Use left and right arrows to move selection")});{const e=n("PointedRectangle",["axis","tooltip","background"]);e.setAll({cornerRadius:0}),a(e,"fill",t,"alternativeBackground")}n("Label",["axis","tooltip"]).setAll({role:void 0}),n("Label",["axis","tooltip","y"]).setAll({textAlign:"right"}),n("Label",["axis","tooltip","y","opposite"]).setAll({textAlign:"left"}),n("Label",["axis","tooltip","x"]).setAll({textAlign:"center"}),n("Tooltip",["categoryaxis"]).setAll({labelText:"{category}"}),n("Star").setAll({spikes:5,innerRadius:5,radius:10}),n("Tooltip",["stock"]).setAll({paddingTop:6,paddingBottom:5,paddingLeft:7,paddingRight:7}),n("PointedRectangle",["tooltip","stock","axis"]).setAll({pointerLength:0,pointerBaseWidth:0,cornerRadius:3}),n("Label",["tooltip","stock"]).setAll({fontSize:"0.8em"}),n("SpriteResizer").setAll({rotationStep:10,isMeasured:!1}),n("Container",["resizer","grip"]).states.create("hover",{});{const e=n("RoundedRectangle",["resizer","grip"]);e.setAll({strokeOpacity:.7,strokeWidth:1,fillOpacity:1,width:12,height:12}),a(e,"fill",t,"background"),a(e,"stroke",t,"alternativeBackground")}{const e=n("RoundedRectangle",["resizer","grip","outline"]);e.setAll({strokeOpacity:0,fillOpacity:0,width:20,height:20}),e.states.create("hover",{fillOpacity:.3}),a(e,"fill",t,"alternativeBackground")}n("RoundedRectangle",["resizer","grip","left"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0}),n("RoundedRectangle",["resizer","grip","right"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0});{const e=n("Rectangle",["resizer","rectangle"]);e.setAll({strokeDasharray:[2,2],strokeOpacity:.5,strokeWidth:1}),a(e,"stroke",t,"alternativeBackground")}n("Graphics",["button","plus","icon"]).setAll({x:s.p,y:s.p,draw:e=>{e.moveTo(-4,0),e.lineTo(4,0),e.moveTo(0,-4),e.lineTo(0,4)}}),n("Graphics",["button","minus","icon"]).setAll({x:s.p,y:s.p,draw:e=>{e.moveTo(-4,0),e.lineTo(4,0)}}),n("Graphics",["button","home","icon"]).setAll({x:s.p,y:s.p,svgPath:"M 8 -1 L 6 -1 L 6 7 L 2 7 L 2 1 L -2 1 L -2 7 L -6 7 L -6 -1 L -8 -1 L 0 -9 L 8 -1 Z M 8 -1"}),n("Button",["zoomtools"]).setAll({marginTop:1,marginBottom:2}),n("ZoomTools").setAll({x:s.a,centerX:s.a,y:s.a,centerY:s.a,paddingRight:10,paddingBottom:10})}}},83067:(e,t,i)=>{i.d(t,{T:()=>r});var s=i(65009);class a extends s.e{_beforeChanged(){super._beforeChanged(),(this.isDirty("pointerBaseWidth")||this.isDirty("cornerRadius")||this.isDirty("pointerLength")||this.isDirty("pointerX")||this.isDirty("pointerY")||this.isDirty("width")||this.isDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){this.markDirtyBounds();let e=this.width(),t=this.height();if(e>0&&t>0){let i=this.get("cornerRadius",8);i=(0,s.f)(i,0,Math.min(e/2,t/2));let a=this.get("pointerX",0),r=this.get("pointerY",0),n=this.get("pointerBaseWidth",15)/2,o=0,l=0,h=0,d=(a-o)*(t-l)-(r-l)*(e-o),u=(a-h)*(0-t)-(r-t)*(e-h);const c=this._display;if(c.moveTo(i,0),d>0&&u>0){let t=Math.round((0,s.f)(a,i+n,e-n-i));r=(0,s.f)(r,-1/0,0),c.lineTo(t-n,0),c.lineTo(a,r),c.lineTo(t+n,0)}if(c.lineTo(e-i,0),c.arcTo(e,0,e,i,i),d>0&&u<0){let o=Math.round((0,s.f)(r,i+n,t-n-i));a=(0,s.f)(a,e,1/0),c.lineTo(e,i),c.lineTo(e,Math.max(o-n,i)),c.lineTo(a,r),c.lineTo(e,o+n)}if(c.lineTo(e,t-i),c.arcTo(e,t,e-i,t,i),d<0&&u<0){let o=Math.round((0,s.f)(a,i+n,e-n-i));r=(0,s.f)(r,t,1/0),c.lineTo(e-i,t),c.lineTo(o+n,t),c.lineTo(a,r),c.lineTo(o-n,t)}if(c.lineTo(i,t),c.arcTo(0,t,0,t-i,i),d<0&&u>0){let e=Math.round((0,s.f)(r,i+n,t-i-n));a=(0,s.f)(a,-1/0,0),c.lineTo(0,t-i),c.lineTo(0,e+n),c.lineTo(a,r),c.lineTo(0,Math.max(e-n,i))}c.lineTo(0,i),c.arcTo(0,0,i,0,i),c.closePath()}}}}Object.defineProperty(a,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PointedRectangle"}),Object.defineProperty(a,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.e.classNames.concat([a.className])});class r extends s.g{constructor(e,t,i,s=[]){super(e,t,i,s),Object.defineProperty(this,"_fx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_fy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fillDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_labelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_w",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_h",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_keepHoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlContentHovered",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._settings.themeTags=(0,s.m)(this._settings.themeTags,["tooltip"]),super._afterNew(),this._setDefaultFn("background",(()=>a.new(this._root,{}))).set("themeTags",["tooltip","background"]),this._label=this.children.push(s.L.new(this._root,{})),this._disposers.push(this._label.events.on("boundschanged",(()=>{this._updateBackground()}))),this._disposers.push(this.on("bounds",(()=>{this._updateBackground()}))),this._updateTextColor(),this._root.tooltipContainer.children.push(this),this.hide(0),this._disposers.push(this.label.onPrivate("htmlElement",(e=>{e&&(this._disposers.push((0,s.h)(e,"pointerover",(e=>{this._htmlContentHovered=!0}))),this._disposers.push((0,s.h)(e,"pointerout",(e=>{this._htmlContentHovered=!1}))))}))),this.on("visible",(e=>{this._handleReaderAnnouncement()})),this.label.events.on("dataitemchanged",(e=>{this._handleReaderAnnouncement()})),this._root._tooltips.push(this)}_handleReaderAnnouncement(){this.get("readerAnnounce")&&this.isVisibleDeep()&&this._root.readerAlert(this.label.getAccessibleText())}get label(){return this._label}_dispose(){super._dispose(),(0,s.r)(this._root._tooltips,this)}_updateChildren(){super._updateChildren(),(this.isDirty("pointerOrientation")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&this.get("background")._markDirtyKey("width"),null!=this.get("labelText")&&this.label.set("text",this.get("labelText")),null!=this.get("labelHTML")&&this.label.set("html",this.get("labelHTML")),null!=this.get("labelAriaLabel")&&this.label.set("ariaLabel",this.get("labelAriaLabel"))}_changed(){if(super._changed(),(this.isDirty("pointTo")||this.isDirty("pointerOrientation"))&&this._updateBackground(),this.isDirty("tooltipTarget")&&this.updateBackgroundColor(),this.isDirty("keepTargetHover"))if(this.get("keepTargetHover")){const e=this.get("background");this._keepHoverDp=new s.M([e.events.on("pointerover",(e=>{let t=this.get("tooltipTarget");t&&(t.parent&&t.parent.getPrivate("tooltipTarget")==t&&(t=t.parent),t.hover())})),e.events.on("pointerout",(e=>{let t=this.get("tooltipTarget");t&&(t.parent&&t.parent.getPrivate("tooltipTarget")==t&&(t=t.parent),this._htmlContentHovered||t.unhover())}))]),this.label.onPrivate("htmlElement",(t=>{this._keepHoverDp&&t&&this._keepHoverDp.disposers.push((0,s.h)(t,"pointerleave",(t=>{const i=this.root._renderer.getEvent(t);e.events.dispatch("pointerout",{type:"pointerout",originalEvent:i.event,point:i.point,simulated:!1,target:e})})))}))}else this._keepHoverDp&&(this._keepHoverDp.dispose(),this._keepHoverDp=void 0)}_onShow(){super._onShow(),this.updateBackgroundColor()}updateBackgroundColor(){let e=this.get("tooltipTarget");const t=this.get("background");let i,s;e&&t&&(i=e.get("fill"),s=e.get("stroke"),null==i&&(i=s),this.get("getFillFromSprite")&&(this._fillDp&&this._fillDp.dispose(),null!=i&&t.set("fill",i),this._fillDp=e.on("fill",(e=>{null!=e&&(t.set("fill",e),this._updateTextColor(e))})),this._disposers.push(this._fillDp)),this.get("getStrokeFromSprite")&&(this._strokeDp&&this._strokeDp.dispose(),null!=i&&t.set("stroke",i),this._strokeDp=e.on("fill",(e=>{null!=e&&t.set("stroke",e)})),this._disposers.push(this._strokeDp)),this.get("getLabelFillFromSprite")&&(this._labelDp&&this._labelDp.dispose(),null!=i&&this.label.set("fill",i),this._labelDp=e.on("fill",(e=>{null!=e&&this.label.set("fill",e)})),this._disposers.push(this._labelDp))),this._updateTextColor(i)}_updateTextColor(e){this.get("autoTextColor")&&(null==e&&(e=this.get("background").get("fill")),null==e&&(e=this._root.interfaceColors.get("background")),e instanceof s.C&&this.label.set("fill",s.C.alternative(e,this._root.interfaceColors.get("alternativeText"),this._root.interfaceColors.get("text"))))}_setDataItem(e){super._setDataItem(e),this.label._setDataItem(e)}_updateBackground(){super.updateBackground();const e=this._root.container;if(e){let t=.5,i=.5,r=this.get("centerX");r instanceof s.P&&(t=r.value);let n=this.get("centerY");n instanceof s.P&&(i=n.value);let o=e.width(),l=e.height(),h=this.parent,d=0,u=0;if(h){d=h.x(),u=h.y();const e=h.get("layerMargin");e&&(d+=e.left||0,u+=e.top||0,o+=(e.left||0)+(e.right||0),l+=(e.top||0)+(e.bottom||0))}const c=this.get("bounds",{left:-d,top:-u,right:o-d,bottom:l-u});this._updateBounds();let g=this.width(),p=this.height();0===g&&(g=this._w),0===p&&(p=this._h);let m=this.get("pointTo",{x:o/2,y:l/2}),b=m.x,f=m.y,_=this.get("pointerOrientation"),y=this.get("background"),v=0,x=0,w=0;y instanceof a&&(v=y.get("pointerLength",0),x=y.get("strokeWidth",0)/2,w=x,y.set("width",g),y.set("height",p));let P=0,k=0,T=c.right-c.left,D=c.bottom-c.top;"horizontal"==_||"left"==_||"right"==_?(x=0,"horizontal"==_?b>c.left+T/2?(b-=g*(1-t)+v,w*=-1):b+=g*t+v:"left"==_?b+=g*(1-t)+v:(b-=g*t+v,w*=-1)):(w=0,"vertical"==_?f>c.top+p/2+v?f-=p*(1-i)+v:(f+=p*i+v,x*=-1):"down"==_?f-=p*(1-i)+v:(f+=p*i+v,x*=-1)),b=(0,s.f)(b,c.left+g*t,c.left+T-g*(1-t))+w,f=(0,s.f)(f,c.top+p*i,c.top+D-p*(1-i))-x,P=m.x-b+g*t+w,k=m.y-f+p*i-x,this._fx=b,this._fy=f;const M=this.get("animationDuration",0);if(M>0&&this.get("visible")&&this.get("opacity")>.1){const e=this.get("animationEasing");this.animate({key:"x",to:b,duration:M,easing:e}),this.animate({key:"y",to:f,duration:M,easing:e})}else this.set("x",b),this.set("y",f);y instanceof a&&(y.set("pointerX",P),y.set("pointerY",k)),g>0&&(this._w=g),p>0&&(this._h=p)}}}Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tooltip"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.g.classNames.concat([r.className])})}}]);
"use strict";(self.webpackChunkforest_atlas_template=self.webpackChunkforest_atlas_template||[]).push([[910],{23034:(e,t,i)=>{i.d(t,{isAnimatedPNG:()=>c,parseApng:()=>d});var a,r=i(90618),s=i(37623),n=i(67900),o={exports:{}};o.exports;const l=(0,r.g)((a||(a=1,u=function(){return function(e){var t={};function i(a){if(t[a])return t[a].exports;var r=t[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}return i.m=e,i.c=t,i.p="",i(0)}([function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.isNotPNG=function(e){return e===s},t.isNotAPNG=function(e){return e===n},t.default=function(e){var t=new Uint8Array(e);if(Array.prototype.some.call(o,(function(e,i){return e!==t[i]})))return s;var i=!1;if(l(t,(function(e){return!(i="acTL"===e)})),!i)return n;var a=[],u=[],p=null,y=null,m=0,g=new r.APNG;if(l(t,(function(e,t,i,s){var n=new DataView(t.buffer);switch(e){case"IHDR":p=t.subarray(i+8,i+8+s),g.width=n.getUint32(i+8),g.height=n.getUint32(i+12);break;case"acTL":g.numPlays=n.getUint32(i+8+4);break;case"fcTL":y&&(g.frames.push(y),m++),(y=new r.Frame).width=n.getUint32(i+8+4),y.height=n.getUint32(i+8+8),y.left=n.getUint32(i+8+12),y.top=n.getUint32(i+8+16);var o=n.getUint16(i+8+20),l=n.getUint16(i+8+22);0===l&&(l=100),y.delay=1e3*o/l,y.delay<=10&&(y.delay=100),g.playTime+=y.delay,y.disposeOp=n.getUint8(i+8+24),y.blendOp=n.getUint8(i+8+25),y.dataParts=[],0===m&&2===y.disposeOp&&(y.disposeOp=1);break;case"fdAT":y&&y.dataParts.push(t.subarray(i+8+4,i+8+s));break;case"IDAT":y&&y.dataParts.push(t.subarray(i+8,i+8+s));break;case"IEND":u.push(d(t,i,12+s));break;default:a.push(d(t,i,12+s))}})),y&&g.frames.push(y),0==g.frames.length)return n;var f=new Blob(a),_=new Blob(u);return g.frames.forEach((function(e){var t=[];t.push(o),p.set(c(e.width),0),p.set(c(e.height),4),t.push(h("IHDR",p)),t.push(f),e.dataParts.forEach((function(e){return t.push(h("IDAT",e))})),t.push(_),e.imageData=new Blob(t,{type:"image/png"}),delete e.dataParts,t=null})),g};var a=function(e){return e&&e.__esModule?e:{default:e}}(i(1)),r=i(2),s=new Error("Not a PNG"),n=new Error("Not an animated PNG"),o=new Uint8Array([137,80,78,71,13,10,26,10]);function l(e,t){var i=new DataView(e.buffer),a=8,r=void 0,s=void 0,n=void 0;do{s=i.getUint32(a),n=t(r=u(e,a+4,4),e,a,s),a+=12+s}while(!1!==n&&"IEND"!=r&&a<e.length)}function u(e,t,i){var a=Array.prototype.slice.call(e.subarray(t,t+i));return String.fromCharCode.apply(String,a)}function d(e,t,i){var a=new Uint8Array(i);return a.set(e.subarray(t,t+i)),a}var h=function(e,t){var i=e.length+t.length,r=new Uint8Array(i+8),s=new DataView(r.buffer);s.setUint32(0,t.length),r.set(function(e){for(var t=new Uint8Array(e.length),i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(e),4),r.set(t,8);var n=(0,a.default)(r,4,i);return s.setUint32(i+4,n),r},c=function(e){return new Uint8Array([e>>>24&255,e>>>16&255,e>>>8&255,255&e])}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=-1,r=t,s=t+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-t);r<s;r++)a=a>>>8^i[255&(a^e[r])];return~a};for(var i=new Uint32Array(256),a=0;a<256;a++){for(var r=a,s=0;s<8;s++)r=1&r?3988292384^r>>>1:r>>>1;i[a]=r}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.Frame=t.APNG=void 0;var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(i(3));function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.APNG=function(){function e(){s(this,e),this.width=0,this.height=0,this.numPlays=0,this.playTime=0,this.frames=[]}return a(e,[{key:"createImages",value:function(){return Promise.all(this.frames.map((function(e){return e.createImage()})))}},{key:"getPlayer",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.createImages().then((function(){return new r.default(t,e,i)}))}}]),e}(),t.Frame=function(){function e(){s(this,e),this.left=0,this.top=0,this.width=0,this.height=0,this.delay=0,this.disposeOp=0,this.blendOp=0,this.imageData=null,this.imageElement=null}return a(e,[{key:"createImage",value:function(){var e=this;return this.imageElement?Promise.resolve():new Promise((function(t,i){var a=URL.createObjectURL(e.imageData);e.imageElement=document.createElement("img"),e.imageElement.onload=function(){URL.revokeObjectURL(a),t()},e.imageElement.onerror=function(){URL.revokeObjectURL(a),e.imageElement=null,i(new Error("Image creation error"))},e.imageElement.src=a}))}}]),e}()},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),r=function(e){function t(e,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.playbackRate=1,r._currentFrameNumber=0,r._ended=!1,r._paused=!0,r._numPlays=0,r._apng=e,r.context=i,r.stop(),a&&r.play(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"renderNextFrame",value:function(){this._currentFrameNumber=(this._currentFrameNumber+1)%this._apng.frames.length,this._currentFrameNumber===this._apng.frames.length-1&&(this._numPlays++,0!==this._apng.numPlays&&this._numPlays>=this._apng.numPlays&&(this._ended=!0,this._paused=!0)),this._prevFrame&&1==this._prevFrame.disposeOp?this.context.clearRect(this._prevFrame.left,this._prevFrame.top,this._prevFrame.width,this._prevFrame.height):this._prevFrame&&2==this._prevFrame.disposeOp&&this.context.putImageData(this._prevFrameData,this._prevFrame.left,this._prevFrame.top);var e=this.currentFrame;this._prevFrame=e,this._prevFrameData=null,2==e.disposeOp&&(this._prevFrameData=this.context.getImageData(e.left,e.top,e.width,e.height)),0==e.blendOp&&this.context.clearRect(e.left,e.top,e.width,e.height),this.context.drawImage(e.imageElement,e.left,e.top),this.emit("frame",this._currentFrameNumber),this._ended&&this.emit("end")}},{key:"play",value:function(){var e=this;this.emit("play"),this._ended&&this.stop(),this._paused=!1;var t=performance.now()+this.currentFrame.delay/this.playbackRate;requestAnimationFrame((function i(a){if(!e._ended&&!e._paused){if(a>=t){for(;a-t>=e._apng.playTime/e.playbackRate;)t+=e._apng.playTime/e.playbackRate,e._numPlays++;do{e.renderNextFrame(),t+=e.currentFrame.delay/e.playbackRate}while(!e._ended&&!e._paused&&a>t)}requestAnimationFrame(i)}}))}},{key:"pause",value:function(){this._paused||(this.emit("pause"),this._paused=!0)}},{key:"stop",value:function(){this.emit("stop"),this._numPlays=0,this._ended=!1,this._paused=!0,this._currentFrameNumber=-1,this.context.clearRect(0,0,this._apng.width,this._apng.height),this.renderNextFrame()}},{key:"currentFrameNumber",get:function(){return this._currentFrameNumber}},{key:"currentFrame",get:function(){return this._apng.frames[this._currentFrameNumber]}},{key:"paused",get:function(){return this._paused}},{key:"ended",get:function(){return this._ended}}]),t}(function(e){return e&&e.__esModule?e:{default:e}}(i(4)).default);t.default=r},function(e,t){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function a(e){return"function"==typeof e}function r(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,i,n,o,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}if(s(i=this._events[e]))return!1;if(a(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),i.apply(this,o)}else if(r(i))for(o=Array.prototype.slice.call(arguments,1),n=(u=i.slice()).length,l=0;l<n;l++)u[l].apply(this,o);return!0},i.prototype.addListener=function(e,t){var n;if(!a(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,a(t.listener)?t.listener:t),this._events[e]?r(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){if(!a(t))throw TypeError("listener must be a function");var i=!1;function r(){this.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},i.prototype.removeListener=function(e,t){var i,s,n,o;if(!a(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=(i=this._events[e]).length,s=-1,i===t||a(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(i)){for(o=n;o-- >0;)if(i[o]===t||i[o].listener&&i[o].listener===t){s=o;break}if(s<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(a(i=this._events[e]))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?a(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(a(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}}])},o.exports=u()),o.exports));var u;async function d(e,t){const i=l(e);if(i instanceof Error)throw i;await i.createImages(),(0,s.Te)(t);const{frames:a,width:r,height:o}=i,u=document.createElement("canvas");u.width=r,u.height=o;const d=u.getContext("2d",{willReadFrequently:!0}),h=[],c=[];let p=0;for(const e of a){const t=(0,n.l5)(e.delay||100);c.push(t),p+=t;const i=e.imageElement;0===e.blendOp?d.globalCompositeOperation="copy":d.globalCompositeOperation="source-over";const a=2===e.disposeOp?d.getImageData(e.left,e.top,e.width,e.height):void 0;d.drawImage(i,e.left,e.top);const s=d.getImageData(0,0,r,o);h.push(s),0===e.disposeOp||(1===e.disposeOp?d.clearRect(e.left,e.top,e.width,e.height):2===e.disposeOp&&d.putImageData(a,e.left,e.top))}return{frameCount:a.length,duration:p,frameDurations:c,getFrame:e=>h[e],width:r,height:o}}const h=[137,80,78,71,13,10,26,10];function c(e){if(!function(e){const t=new Uint8Array(e);return!h.some(((e,i)=>e!==t[i]))}(e))return!1;const t=new DataView(e),i=new Uint8Array(e);let a,r=8;do{const e=t.getUint32(r);if(a=String.fromCharCode.apply(String,Array.prototype.slice.call(i.subarray(r+4,r+8))),"acTL"===a)return!0;r+=12+e}while("IEND"!==a&&r<i.length);return!1}},23533:(e,t,i)=>{i.r(t),i.d(t,{default:()=>I});var a,r,s=i(82392),n=(i(3313),i(58842)),o=i(62991),l=i(80861),u=i(80294),d=i(67214),h=i(37623),c=i(61985),p=i(81482),y=(i(6273),i(67498),i(26325)),m=i(91101),g=i(45449),f=i(5525),_=i(88358);(r=a||(a={})).MULTIPLIER="multiplier",r.ABSOLUTE="absoluteValue";var b=i(83441),w=i(98496),v=i(347),M=i(75345),L=i(88181),x=i(20923),A=i(4648),S=i(22111),T=i(37549),C=i(6009),k=i(8e3),E=i(1912),D=i(38648);let N=class extends((0,A.q)((0,x.dM)((0,S.j)((0,d.P)(g.A))))){constructor(e){if(super(e),this.dataPreloadedInLocalCache=!1,this.defaultLinkChartConfig=null,this._currentLinkChartConfig={layoutMode:"RADIAL_TREE"},this._graphTypeLookup=new Map,this.dataManager=null,this.knowledgeGraph=null,this.layers=new(n.A.ofType(w.A)),this.entityLinkChartDiagramLookup=new Map,this.relationshipLinkChartDiagramLookup=new Map,this.linkChartExtent=new k.A({xmin:-1e-7,ymin:-1e-7,xmax:1e-7,ymax:1e-7}),this.memberEntityTypes=null,this.memberRelationshipTypes=null,this.operationalLayerType="LinkChartLayer",this.sublayerIdsCache=new Map,this.tables=new(n.A.ofType(w.A)),this.type="link-chart",this.chronologicalAuxiliaryGraphics=null,this._originalInclusionList=e?.inclusionModeDefinition,e?.dataPreloadedInLocalCache&&!e?.inclusionModeDefinition)throw new o.A("knowledge-graph:linkchart-layer-constructor","If creating a link chart composite layer and configured that data is already loaded in the cache, you must specify an inclusion list so the Composite Layer knows what records belong to it");this.addHandles((0,c.wB)((()=>this.layers.concat(this.tables)),((e,t)=>this._handleSublayersChange(e,t)),c.OH))}normalizeCtorArgs(e){if(!e)return{};const{url:t,title:i,dataPreloadedInLocalCache:a,defaultLinkChartConfig:r}=e;return{url:t,title:i,dataPreloadedInLocalCache:a,defaultLinkChartConfig:r}}_initializeLayerProperties(e){if(!this.title&&this.url){const e=this.url.split("/");this.title=e[e.length-2]}const t=new Set;let i=[],a=[];if(e.inclusionModeDefinition&&(!e.inclusionModeDefinition.namedTypeDefinitions||e.inclusionModeDefinition.namedTypeDefinitions.size<1))throw new o.A("knowledge-graph:composite-layer-constructor","If an explicit inclusion definition is defined, at least one namedTypeDefinition must also be defined");e.knowledgeGraph.dataModel.entityTypes?.forEach((e=>{e.name&&this._graphTypeLookup.set(e.name,e)})),e.knowledgeGraph.dataModel.relationshipTypes?.forEach((e=>{e.name&&this._graphTypeLookup.set(e.name,e)})),e.inclusionModeDefinition?.generateAllSublayers?(i=e.knowledgeGraph.dataModel.entityTypes??[],a=e.knowledgeGraph.dataModel.relationshipTypes??[]):e.inclusionModeDefinition?.namedTypeDefinitions&&e.inclusionModeDefinition?.namedTypeDefinitions.size>0?e.inclusionModeDefinition?.namedTypeDefinitions.forEach(((r,s)=>{const n=this._graphTypeLookup.get(s);if(!n)return l.A.getLogger(this).warn(`A named type, ${s}, was in the inclusion list that wasn't in the data model and will be removed`),void e.inclusionModeDefinition?.namedTypeDefinitions.delete(s);"relationship"===n.type?t.has(s)||(t.add(s),a.push(n)):"entity"===n.type?t.has(s)||(t.add(s),i.push(n)):(l.A.getLogger(this).warn(`A named type, ${s}, was in the inclusion list that wasn't properly modeled and will be removed`),e.inclusionModeDefinition?.namedTypeDefinitions.delete(s))})):(i=e.knowledgeGraph.dataModel.entityTypes??[],a=e.knowledgeGraph.dataModel.relationshipTypes??[]);const r=new b.P({knowledgeGraph:e.knowledgeGraph,inclusionModeDefinition:e.inclusionModeDefinition});this.knowledgeGraph=e.knowledgeGraph,this.memberEntityTypes=i,this.memberRelationshipTypes=a,this.dataManager=r}load(e){const t=async()=>{const e=[],t=[];this.loadLayerAssumingLocalCache(),await(0,v.qN)(this),this.dataManager.inclusionModeDefinition&&(this.dataManager.inclusionModeDefinition.generateAllSublayers=!1),this.dataManager.inclusionModeDefinition?.namedTypeDefinitions.forEach((e=>{e.useAllData=!1})),await this._initializeDiagram(),this.layers.forEach((i=>{t.push(i.refreshCachedQueryEngine()),e.push(new Promise((e=>{i.on("layerview-create",(()=>{e(null)}))})))})),this.tables.forEach((e=>{t.push(e.refreshCachedQueryEngine())})),await Promise.all(t)};return this.addResolvingPromise(new Promise((i=>{(0,C.fetchKnowledgeGraph)(this.url).then((async a=>{if(this._initializeLayerProperties({knowledgeGraph:a,inclusionModeDefinition:this._originalInclusionList}),this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.size||(this.dataManager.inclusionModeDefinition={generateAllSublayers:!1,namedTypeDefinitions:new Map},this.dataManager.knowledgeGraph.dataModel.entityTypes?.forEach((e=>{e.name&&this.dataManager.inclusionModeDefinition?.namedTypeDefinitions.set(e.name,{useAllData:!0})})),this.dataManager.knowledgeGraph.dataModel.relationshipTypes?.forEach((e=>{e.name&&this.dataManager.inclusionModeDefinition?.namedTypeDefinitions.set(e.name,{useAllData:!0})}))),this.dataPreloadedInLocalCache){const e=M.A.getInstance();for(const[t,i]of this.dataManager.inclusionModeDefinition?.namedTypeDefinitions??[])for(const a of i.members?.values()??[]){const i=e.readFromStoreById(`${t}__${a.id}`);i&&(0,u.tE)(this.dataManager.sublayerCaches,t,(()=>new Map)).set(a.id,i)}await t()}else{const i="GEOGRAPHIC"===this.defaultLinkChartConfig?.layoutMode;this.addResolvingPromise(this.dataManager.refreshCacheContent(void 0,!1,i,!0).then((async()=>{(0,h.Te)(e),await t()})))}i(null)}))}))),Promise.resolve(this)}set inclusionModeDefinition(e){"loaded"!==this.loadStatus&&"failed"!==this.loadStatus?this._set("inclusionModeDefinition",e):l.A.getLogger(this).error("#inclusionModeDefinition","inclusionModeDefinition cannot be changed after the layer is loaded.")}async addRecords(e,t){let i=[];t?.cascadeAddRelationshipEndNodes&&this.dataManager.knowledgeGraph.dataModel&&(i=await(0,L.aq)(e,this.dataManager.knowledgeGraph));const a=e.concat(i).filter((e=>!this.sublayerIdsCache.get(e.typeName)?.has(e.id)));await this._handleNewRecords(a)}async removeRecords(e,{cascadeRemoveRelationships:t=!0,recalculateLayout:i=!1}={cascadeRemoveRelationships:!0,recalculateLayout:!1}){let a=[];for(const t of e)!1===this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.get(t.typeName)?.useAllData&&this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.get(t.typeName)?.members?.has(t.id)&&a.push(t);if(t){const e=new Set,t=[];for(const t of a)if(this.dataManager.nodeConnectionsLookup.has(t.id))for(const i of this.dataManager.nodeConnectionsLookup.get(t.id))e.add(i);for(const i of e)if(this.dataManager.memberIdTypeLookup.has(i))for(const e of this.dataManager.memberIdTypeLookup.get(i))this.dataManager.relationshipTypeNames.has(e)&&t.push({id:i,typeName:e});a=a.concat(t)}this.dataManager.removeFromLayer(a);for(const e of a)this.sublayerIdsCache.get(e.typeName)?.delete(e.id),this.dataManager.relationshipTypeNames.has(e.typeName)?this.relationshipLinkChartDiagramLookup.delete(e.id):this.entityLinkChartDiagramLookup.delete(e.id);i&&await this._calculateLayoutWithSublayerTimeInfo(this._currentLinkChartConfig.layoutMode,this._currentLinkChartConfig.layoutOptions);const r=[];return this.layers.forEach((e=>{r.push(e.refreshCachedQueryEngine())})),await Promise.all(r),this._refreshNamedTypes(),a}async expand(e,t){const i=await this.dataManager.getConnectedRecordIds(e,t),a=i.filter((e=>!this.sublayerIdsCache.get(e.typeName)?.has(e.id)));return await this._handleNewRecords(i),{records:a}}loadLayerAssumingLocalCache(){const e=[...this.memberRelationshipTypes,...this.memberEntityTypes];this.originIdOf("layers")===m.Gr.DEFAULTS?this._createSublayers(e,this.layers,(e=>!!e.geometryType)):this._updateSublayers(e,this.layers),this.originIdOf("tables")===m.Gr.DEFAULTS?this._createSublayers(e,this.tables,(e=>!e.geometryType)):this._updateSublayers(e,this.tables),this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.forEach(((e,t)=>{const i=(0,u.tE)(this.sublayerIdsCache,t,(()=>new Set));e.members?.forEach((({id:e,linkChartLocation:a})=>{if(i.add(e),a){const i=a instanceof _.A?a:(0,f.Ux)(a);this.dataManager.relationshipTypeNames.has(t)?this.relationshipLinkChartDiagramLookup.set(e,i):this.entityLinkChartDiagramLookup.set(e,i)}}))}))}async calculateLinkChartLayout(e="RADIAL_TREE",t){const i=[],a=[],r=[];this.dataManager.sublayerCaches.forEach(((e,t)=>{this.dataManager.entityTypeNames.has(t)?e.forEach((e=>{i.push({typeName:t,feature:e})})):this.dataManager.relationshipTypeNames.has(t)&&e.forEach((e=>{a.push({typeName:t,feature:e})}))})),this.entityLinkChartDiagramLookup=new Map,this.relationshipLinkChartDiagramLookup=new Map;const s=new Map,n=new Map,u=new Map,d=new Map,h=new Uint8Array(i.length),c=new Float64Array(i.length),p=new Float64Array(i.length),y=new Float64Array(i.length),m=new Float64Array(i.length),g=new Uint32Array(a.length),_=new Uint32Array(a.length),b=new Float64Array(a.length),w=new Float64Array(a.length),M=[],L=new k.A({xmin:-1e-7,ymin:-1e-7,xmax:1e-7,ymax:1e-7});let x,A="FORCE_DIRECTED",S=0,C=0;const N=T.i6.apply;switch(A="GEOGRAPHIC"===e?"FORCE_DIRECTED":e,A){case"FORCE_DIRECTED":x=T.pM.apply;break;case"COMMUNITY":x=T.Tu.apply;break;case"HIERARCHICAL":x=T.$C.apply;break;case"RADIAL_TREE":x=T.vJ.apply;break;case"SMART_TREE":x=T.Xq.apply;break;default:x=T.Wg.apply}let I=!1;i.forEach((({typeName:i,feature:a})=>{if("CHRONOLOGICAL_SINGLE"!==e&&"CHRONOLOGICAL_MULTIPLE"!==e&&t?.lockedNodeLocations?.has(a.attributes[v.dr])){"GEOGRAPHIC"===e&&this.dataManager.geographicLookup.has(i)?h[S]=T.tx.IsGeographic:h[S]=T.tx.None;const r=t.lockedNodeLocations.get(a.attributes[v.dr]);c[S]=r.x,p[S]=r.y}else if("GEOGRAPHIC"===e&&this.dataManager.geographicLookup.has(i)){h[S]=T.tx.IsGeographic;let e=null;const t=a.attributes[this.dataManager.geographicLookup.get(i).name],r=this.dataManager.geographicLookup.get(i)?.geometryType;switch(r){case"esriGeometryPoint":c[S]=t?.x,p[S]=t?.y;break;case"esriGeometryPolygon":e=t?.centroid,null!=e?.x&&null!=e?.y?(c[S]=e.x,p[S]=e.y):h[S]=T.tx.IsMovable;break;case"esriGeometryPolyline":case"esriGeometryMultipoint":e=t?.extent?.center,null!=e?.x&&null!=e?.y?(c[S]=e.x,p[S]=e.y):h[S]=T.tx.IsMovable;break;default:h[S]=T.tx.IsMovable}(null==c[S]||null==p[S]||Number.isNaN(c[S])||Number.isNaN(p[S]))&&(h[S]=T.tx.IsMovable,c[S]=0,p[S]=0)}else if("CHRONOLOGICAL_SINGLE"===e||"CHRONOLOGICAL_MULTIPLE"===e){!I&&t?.lockedNodeLocations?.has(a.attributes[v.dr])&&(I=!0);const e=t?.timeInfoByTypeName?.get(i),r=e?.startField,s=r&&e?.startField?a.attributes[r]:null;y[S]=s?new Date(s).getTime():NaN;const n=e?.endField,o=n&&e?.endField?a.attributes[n]:null;m[S]=o?new Date(o).getTime():NaN,c[S]=0,p[S]=0,h[S]=T.tx.IsMovable}else h[S]=T.tx.IsMovable,c[S]=0,p[S]=0;d.set(a.attributes[v.dr],S),M[S]={feature:a,typeName:i},S++})),I&&l.A.getLogger(this).warn("Locked node locations are not supported for chronological layout at this time.  Requested node locations were ignored");let P=!1;const R=new Map;a.forEach((i=>{const a=i.feature.attributes[v.Cz],s=i.feature.attributes[v.KQ],n=d.get(a),o=d.get(s),l=t?.timeInfoByTypeName?.get(i.typeName),u=t?.timeInfoByTypeName?l?.startField:null,h=u?i.feature.attributes[u]:null,c=l?.endField,p=c?i.feature.attributes[c]:null;if(void 0!==n&&void 0!==o){let t=a+"-"+s;"CHRONOLOGICAL_SINGLE"!==e&&"CHRONOLOGICAL_MULTIPLE"!==e||(t=t+"-"+h+"-"+p);const l=R.get(t),u=l?.has(i.typeName);u||(g[C]=n,_[C]=o,"CHRONOLOGICAL_SINGLE"!==e&&"CHRONOLOGICAL_MULTIPLE"!==e||(b[C]=h?new Date(h).getTime():NaN,w[C]=p?new Date(p).getTime():NaN),void 0===l?R.set(t,new Map([[i.typeName,C]])):l.set(i.typeName,C),C++),r.push(i)}else P=!0,this.relationshipLinkChartDiagramLookup.set(a,null)})),P&&l.A.getLogger(this).warn("A relationship is a member of this layer that has either origin or destination entity nodes that are not members. The diagram geometry will be set to null");const O=this._validateLayoutSettings(e,t),F=this._convertLayoutSettingsToCalculationSettings(O);await(0,T.Hh)();let G=!1,j=null;if("CHRONOLOGICAL_SINGLE"===e||"CHRONOLOGICAL_MULTIPLE"===e){let i;({success:G,links:j,graphics:i}=N(h,c,p,y,m,g.subarray(0,C),_.subarray(0,C),b.subarray(0,C),w.subarray(0,C),"CHRONOLOGICAL_MULTIPLE"===e,t?.chronologicalLayoutSettings??{})),G&&(this.chronologicalAuxiliaryGraphics=i)}else({success:G,links:j}=x(h,c,p,g.subarray(0,C),_.subarray(0,C),F.computationBudgetTime,F.idealEdgeLengthMultiplier,F.repulsionRadiusMultiplier));if(!G)throw new o.A("knowledge-graph:layout-failed","Attempting to arrange the records in the specified layout failed");for(let e=0;e<M.length;e++){if(p[e]>84.9999?p[e]=84.9999:p[e]<-84.9999&&(p[e]=-84.9999),c[e]>179.9999?c[e]=179.9999:c[e]<-179.9999&&(c[e]=-179.9999),M[e].feature.attributes[v.T1]=new E.A(c[e],p[e]),s.has(M[e].typeName)){const t=s.get(M[e].typeName);t?.set(M[e].feature.attributes[v.dr],M[e].feature)}else{const t=new Map;t.set(M[e].feature.attributes[v.dr],M[e].feature),s.set(M[e].typeName,t)}u.set(M[e].feature.attributes[v.dr],M[e].feature);const t=(0,f.Ux)(M[e].feature.attributes[v.T1]);this.entityLinkChartDiagramLookup.set(M[e].feature.attributes[v.dr],M[e].feature.attributes[v.T1]?t:null),M[e].feature.attributes[v.T1].x<L.xmin&&(L.xmin=M[e].feature.attributes[v.T1].x),M[e].feature.attributes[v.T1].x>L.xmax&&(L.xmax=M[e].feature.attributes[v.T1].x),M[e].feature.attributes[v.T1].y<L.ymin&&(L.ymin=M[e].feature.attributes[v.T1].y),M[e].feature.attributes[v.T1].y>L.ymax&&(L.ymax=M[e].feature.attributes[v.T1].y)}if(this.linkChartExtent.xmin=L.xmin,this.linkChartExtent.xmax=L.xmax,this.linkChartExtent.ymin=L.ymin,this.linkChartExtent.ymax=L.ymax,!j)throw new o.A("knowledge-graph:layout-failed","Attempting to retrieve link geometry from diagram engine failed");const U=new Map,z=new Map,H=new Map,B=new Set;for(let i=0;i<r.length;i++){const a=[],s=r[i],o=s.feature.attributes[v.Cz],h=s.feature.attributes[v.KQ];let c=o+"-"+h;if("CHRONOLOGICAL_SINGLE"===e||"CHRONOLOGICAL_MULTIPLE"===e){const e=t?.timeInfoByTypeName?.get(s.typeName),i=t?.timeInfoByTypeName?e?.startField:null,a=i?s.feature.attributes[i]:null,r=e?.endField;c+="-"+a+"-"+(r?s.feature.attributes[r]:null)}const p=R.get(c).get(s.typeName),y=0===p?0:j?.vertexEndIndex[p-1];if(!B.has(p)){if(B.add(p),j.types[p]===T.J.Recursive){const e=[j.vertices[2*y],j.vertices[2*y+1]],t=[j.vertices[2*(y+1)],j.vertices[2*(y+1)+1]],i=[.5*(e[0]+t[0]),.5*(e[1]+t[1])],r=[i[0]-e[0],i[1]-e[1]],s=[i[0]+r[1],i[1]-r[0]],n=[i[0]-r[1],i[1]+r[0]];a.push(e),a.push(s),a.push(t),a.push(n),a.push(e)}else{if(j.types[p]!==T.J.Regular){l.A.getLogger(this).warn("A relationship generated an unsupported link geometry type.  It will not be rendered");continue}for(let e=y;e<j.vertexEndIndex[p];e++)a.push([j.vertices[2*e],j.vertices[2*e+1]])}if("CHRONOLOGICAL_SINGLE"!==e&&"CHRONOLOGICAL_MULTIPLE"!==e){const e=M[d.get(o)]?.feature.attributes[v.T1],t=M[d.get(h)]?.feature.attributes[v.T1];a[0][0]===e.x&&a[0][1]===e.y||(a[0]=[e.x,e.y]),a[a.length-1][0]===t.x&&a[a.length-1][1]===t.y||(a[a.length-1]=[t.x,t.y])}for(let e=1;e<a.length-1;e++)a[e][1]>85.5?a[e][1]=85.5:a[e][1]<-85.5&&(a[e][1]=-85.5),a[e][0]>179.9999?a[e][0]=179.9999:a[e][0]<-179.9999&&(a[e][0]=-179.9999);U.has(c)?U.get(c).push(a):U.set(c,[a])}const m=U.get(c);z.has(c)||(z.set(c,new Map),H.set(c,new Map));const g=z.get(c),_=H.get(c);g.has(s.typeName)||(g.set(s.typeName,m.shift()),_.set(s.typeName,0));const b=g.get(s.typeName);_.set(s.typeName,_.get(s.typeName)+1);const w=new D.A({paths:[b]});if(s.feature.attributes[v.T1]=w,n.has(s.typeName)){const e=n.get(s.typeName);e?.set(s.feature.attributes[v.dr],s.feature)}else{const e=new Map;e.set(s.feature.attributes[v.dr],s.feature),n.set(s.typeName,e)}u.set(s.feature.attributes[v.dr],s.feature);const L=(0,f.Ux)(s.feature.attributes[v.T1]);this.relationshipLinkChartDiagramLookup.set(s.feature.attributes[v.dr],s.feature.attributes[v.T1]?L:null)}for(const e of r)e.feature.attributes[v.M1]=H.get(e.feature.attributes[v.Cz]+"-"+e.feature.attributes[v.KQ])?.get(e.typeName)??null;return this._currentLinkChartConfig={layoutMode:e,layoutOptions:O},{nodes:s,links:n,idMap:u}}async applyNewLinkChartLayout(e="RADIAL_TREE",t){const i=[];await this._calculateLayoutWithSublayerTimeInfo(e,t),this.layers.forEach((e=>{i.push(e.refreshCachedQueryEngine())})),await Promise.all(i),this._refreshNamedTypes()}getCurrentNodeLocations(){const e=new Map;return this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.forEach((t=>{t?.members?.forEach((t=>{const i=t.linkChartLocation;let a;const r=t.id;i&&(a="x"in i?{x:i.x,y:i.y}:{x:i.coords[0],y:i.coords[1]},e.set(r,new E.A({x:a.x,y:a.y})))}))})),e}async synchronizeInclusionListWithCache(){return new Promise((e=>{this.dataManager.inclusionModeDefinition?.namedTypeDefinitions.forEach(((e,t)=>{if(e.useAllData=!1,e.members&&e.members.size>0){if(!this.dataManager.sublayerCaches.get(t))return;const i=new Set(Array.from(this.dataManager.sublayerCaches.get(t).keys()));Array.from(e.members.keys()).filter((e=>!i.has(e))).forEach((t=>{e.members?.delete(t)}))}})),e()}))}async refreshLinkChartCache(e){await this.dataManager.refreshCacheContent(e);const t=[];this.layers.forEach((e=>{t.push(e.refreshCachedQueryEngine())})),await Promise.all(t),this._refreshNamedTypes()}async connectBetweenEntities(e){let t=[];for(const e of this.dataManager.relationshipTypeNames){const i=this.sublayerIdsCache.get(e);i&&(t=t.concat(Array.from(i.keys())))}const i=await this.dataManager.getRelationshipsBetweenNodes(e,t);return await this._handleNewRecords(i),{records:i}}async connectFromEntities(e){let t=[];for(const e of this.dataManager.relationshipTypeNames){const i=this.sublayerIdsCache.get(e);i&&(t=t.concat(Array.from(i.keys())))}let i=[];for(const e of this.dataManager.entityTypeNames){const t=this.sublayerIdsCache.get(e);t&&(i=i.concat(Array.from(t)))}const a=await this.dataManager.getRelationshipsFromNodes(e,i,t);return await this._handleNewRecords(a),{records:a}}getCurrentLayout(){return this._currentLinkChartConfig.layoutMode}async _calculateLayoutWithSublayerTimeInfo(e="RADIAL_TREE",t){const i=new Map;this.layers.forEach((e=>{i.set(e.objectType.name,e.timeInfo)})),await this.calculateLinkChartLayout(e,{timeInfoByTypeName:i,...t})}async _handleNewRecords(e){const t=[];this.dataManager.addToLayer(e);for(const i of e)this.sublayerIdsCache.has(i.typeName)||(this.sublayerIdsCache.set(i.typeName,new Set),t.push(i.typeName)),this.sublayerIdsCache.get(i.typeName).add(i.id);for(const e of t){const t=this._graphTypeLookup.get(e);if(t){const i=this._createSublayer(t);"entity"===t.type?this.dataManager.entityTypeNames.add(e):this.dataManager.relationshipTypeNames.add(e),i.geometryType?this.layers.push(i):this.tables.push(i),this.dataManager.sublayerCaches.set(e,new Map)}}await(0,v.qN)(this,t),await this.dataManager.refreshCacheContent(e.map((e=>e.id)));const i=Object.assign({},this._currentLinkChartConfig.layoutOptions);i.lockedNodeLocations=new Map;for(const[e,t]of this.entityLinkChartDiagramLookup.entries())t&&i.lockedNodeLocations.set(e,new E.A(t.coords[0],t.coords[1]));await this.applyNewLinkChartLayout(this._currentLinkChartConfig.layoutMode,i)}_createSublayers(e,t,i){e.forEach((e=>{const a=this._createSublayer(e);i(a)&&t.push(a),this._updateSublayerCaches(e)}))}_updateSublayers(e,t){t.forEach((t=>{t.parentCompositeLayer=this;const i=e.find((e=>e.type===t.graphType&&e.name===t.graphTypeName));i&&(t.objectType=i,t.read({title:i.name},{origin:"service"}),this._updateSublayerCaches(i))}))}_updateSublayerCaches(e){const t=this.dataManager.sublayerCaches;t.has(e.name)||t.set(e.name,new Map)}async _initializeDiagram(){this.defaultLinkChartConfig?this.defaultLinkChartConfig.doNotRecalculateLayout?(this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.forEach(((e,t)=>{e?.members?.forEach((e=>{const i=e.linkChartLocation;let a;const r=e.id;if(!i)return;a="x"in i?{x:i.x,y:i.y}:{x:i.coords[0],y:i.coords[1]};const s=(0,f.Ux)(a);this.dataManager.relationshipTypeNames.has(t)?this.relationshipLinkChartDiagramLookup.set(r,s):this.entityLinkChartDiagramLookup.set(r,s),this.linkChartExtent.xmin>a.x&&(this.linkChartExtent.xmin=a.x),this.linkChartExtent.xmax<a.x&&(this.linkChartExtent.xmax=a.x),this.linkChartExtent.ymin>a.y&&(this.linkChartExtent.ymin=a.y),this.linkChartExtent.ymax<a.y&&(this.linkChartExtent.ymax=a.y)}))})),this.memberRelationshipTypes.forEach((e=>{e.name&&this.dataManager.sublayerCaches.get(e.name)?.forEach((e=>{const t=this.relationshipLinkChartDiagramLookup.get(e.attributes[v.Cz]),i=this.relationshipLinkChartDiagramLookup.get(e.attributes[v.KQ]);if(t&&i){const a=(0,f.Ux)(new D.A({paths:[[[t.coords[0],t.coords[1]],[i.coords[0],i.coords[1]]]]}));this.relationshipLinkChartDiagramLookup.set(e.attributes[v.dr],a)}else this.relationshipLinkChartDiagramLookup.set(e.attributes[v.dr],null)}))}))):await this._calculateLayoutWithSublayerTimeInfo(this.defaultLinkChartConfig.layoutMode,{lockedNodeLocations:this.getCurrentNodeLocations(),...this.defaultLinkChartConfig.layoutOptions||{}}):await this._calculateLayoutWithSublayerTimeInfo("RADIAL_TREE",{lockedNodeLocations:this.getCurrentNodeLocations()})}_refreshNamedTypes(){for(const e of this.layers)e.emit("refresh",{dataChanged:!0});for(const e of this.tables)e.emit("refresh",{dataChanged:!0})}_validateLayoutSettings(e,t){const i=e=>"number"==typeof e&&!isNaN(e),r={organicLayoutSettings:{},chronologicalLayoutSettings:{}};if(!new Set(["FORCE_DIRECTED","COMMUNITY","GEOGRAPHIC","CHRONOLOGICAL_MULTIPLE","CHRONOLOGICAL_SINGLE"]).has(e)||!t)return r;t.organicLayoutSettings??={};const{computationBudgetTime:s,repulsionRadiusMultiplier:n,idealEdgeLength:o,idealEdgeLengthType:u}=t.organicLayoutSettings;if((e=>i(e)&&e>=1)(s)?r.organicLayoutSettings.computationBudgetTime=s:void 0!==s&&l.A.getLogger(this).warn("Invalid layout computationBudgetTime setting, will revert to default setting"),(e=>i(e)&&e>=1)(n)?r.organicLayoutSettings.repulsionRadiusMultiplier=n:void 0!==n&&l.A.getLogger(this).warn("Invalid layout repulsionRadiusMultiplier setting, will revert to default setting"),"GEOGRAPHIC"===e&&(void 0!==o||void 0!==u)&&((e=>Object.values(a).includes(e))(u)?r.organicLayoutSettings.idealEdgeLengthType=u:void 0!==u&&l.A.getLogger(this).warn('Invalid layout idealEdgeLengthType setting, will revert to "multiplier" setting'),(e=>i(e)&&e>=0)(o)?r.organicLayoutSettings.idealEdgeLength=o:void 0!==o&&l.A.getLogger(this).warn("Invalid layout idealEdgeLength setting, will revert to default setting")),("CHRONOLOGICAL_MULTIPLE"===e||"CHRONOLOGICAL_SINGLE"===e)&&t.chronologicalLayoutSettings){const e=t.chronologicalLayoutSettings;e.durationLineWidth&&e.durationLineWidth<0&&l.A.getLogger(this).warn("Invalid layout durationLineWidth setting, will revert to default setting")}return r}_convertLayoutSettingsToCalculationSettings(e){e.organicLayoutSettings??={};let t=e.organicLayoutSettings.idealEdgeLength;return e.organicLayoutSettings.idealEdgeLengthType===a.ABSOLUTE&&(void 0===t?t=-1:t*=-1),{computationBudgetTime:e.organicLayoutSettings.computationBudgetTime,repulsionRadiusMultiplier:e.organicLayoutSettings.repulsionRadiusMultiplier,idealEdgeLengthMultiplier:t}}_createSublayer(e){return new w.A({objectType:e,parentCompositeLayer:this,graphType:e.type})}_handleSublayersChange(e,t){t&&(t.forEach((e=>{e.parent=null})),this.removeHandles("sublayers-owner")),e&&(e.forEach((e=>{e.parent=this})),this.addHandles([e.on("after-add",(({item:e})=>{e.parent=this})),e.on("after-remove",(({item:e})=>{e.parent=null}))],"sublayers-owner"))}};(0,s._)([(0,p.MZ)()],N.prototype,"dataPreloadedInLocalCache",void 0),(0,s._)([(0,p.MZ)()],N.prototype,"defaultLinkChartConfig",void 0),(0,s._)([(0,p.MZ)()],N.prototype,"dataManager",void 0),(0,s._)([(0,p.MZ)()],N.prototype,"inclusionModeDefinition",null),(0,s._)([(0,p.MZ)()],N.prototype,"knowledgeGraph",void 0),(0,s._)([(0,p.MZ)({type:n.A.ofType(w.A),json:{write:{ignoreOrigin:!0}}})],N.prototype,"layers",void 0),(0,s._)([(0,p.MZ)()],N.prototype,"entityLinkChartDiagramLookup",void 0),(0,s._)([(0,p.MZ)()],N.prototype,"relationshipLinkChartDiagramLookup",void 0),(0,s._)([(0,p.MZ)()],N.prototype,"linkChartExtent",void 0),(0,s._)([(0,p.MZ)()],N.prototype,"memberEntityTypes",void 0),(0,s._)([(0,p.MZ)()],N.prototype,"memberRelationshipTypes",void 0),(0,s._)([(0,p.MZ)({type:["LinkChartLayer"]})],N.prototype,"operationalLayerType",void 0),(0,s._)([(0,p.MZ)()],N.prototype,"sublayerIdsCache",void 0),(0,s._)([(0,p.MZ)({type:n.A.ofType(w.A),json:{write:{ignoreOrigin:!0}}})],N.prototype,"tables",void 0),(0,s._)([(0,p.MZ)({json:{read:!1}})],N.prototype,"type",void 0),(0,s._)([(0,p.MZ)({json:{read:!1}})],N.prototype,"chronologicalAuxiliaryGraphics",void 0),N=(0,s._)([(0,y.$)("esri.layers.LinkChartLayer")],N);const I=N},36502:(e,t,i)=>{i.r(t),i.d(t,{default:()=>xe});var a=i(82392),r=i(14755),s=i(58842),n=i(62991),o=i(52686),l=i(67214),u=i(37623),d=i(61985),h=i(80189),c=i(19759),p=i(81482),y=(i(6273),i(80861)),m=(i(67498),i(25376)),g=i(26325),f=i(45449),_=i(94763),b=i(30179),w=i(20923),v=i(27303),M=i(88940),L=i(71207),x=i(4648),A=i(60368),S=i(51177),T=i(22111),C=i(2960),k=i(63457),E=i(9014),D=i(16948),N=i(83693),I=i(46227),P=i(42957),R=(i(8499),i(72502),i(2394),i(1318),i(46243)),O=i(79645),F=i(1851),G=(i(29221),i(60861)),j=i(9283),U=i(93611),z=i(54866);const H={key:"type",base:R.A,errorContext:"renderer",typeMap:{simple:O.A,"unique-value":F.A,"class-breaks":P.A}},B=(0,j.C)({types:H}),Z=["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"];var q=i(20879),V=i(23377),J=i(15565),X=i(11965),$=i(21750),Y=i(48524),W=i(97851),Q=i(44153),K=i(84700),ee=i(15724),te=i(6488),ie=i(33432),ae=i(95610),re=i(61793),se=i(44046);const ne=(0,N.p)();let oe=0;function le(e){const t=e.json.write;return"object"==typeof t?t.ignoreOrigin=!0:e.json.write={ignoreOrigin:!0},e}function ue(e){switch(e){case"point":case"multipoint":return re.UK.clone();case"polyline":return re.A7.clone();case"polygon":case"multipatch":return re.Cx.clone();default:return null}}function de(e,t){return null==e?null:t.subtypes?.find((t=>t.code===e))}function he(e,t){let i=null;switch(t.geometryType){case"esriGeometryPoint":case"esriGeometryMultipoint":i="point";break;case"esriGeometryPolyline":i="line";break;case"esriGeometryPolygon":case"esriGeometryMultiPatch":i="polygon";break;default:t.type,i=null}const a={},r=de(e,t);if(null!=r){const{defaultValues:e}=r;for(const t in e)a[t]=e[t]}return a[t.subtypeField]=e,new K.A({name:"New Feature",drawingTool:i,prototype:{attributes:a}})}let ce=class extends((0,l.P)((0,r.O)((0,V.sA)(X.A)))){constructor(e){super(e),this.attributeTableTemplate=null,this.charts=null,this.editingEnabled=!0,this.fieldOverrides=null,this.fieldsIndex=null,this.formTemplate=null,this.id=`${Date.now().toString(16)}-subtype-sublayer-${oe++}`,this.type="subtype-sublayer",this.labelsVisible=!0,this.labelingInfo=null,this.layerType="ArcGISFeatureLayer",this.legendEnabled=!0,this.listMode="show",this.minScale=0,this.maxScale=0,this.opacity=1,this.parent=null,this.popupEnabled=!0,this.popupTemplate=null,this.subtypeCode=null,this.templates=null,this.title=null,this.visible=!0}load(e){return(0,I.yp)(this.renderer,this.fieldsIndex),Promise.resolve(this)}get capabilities(){return this.parent?.capabilities}get effectiveCapabilities(){return this.parent?.effectiveCapabilities}get effectiveEditingEnabled(){const{parent:e}=this;return e?e.effectiveEditingEnabled&&this.editingEnabled:this.editingEnabled}get elevationInfo(){return this.parent?.elevationInfo}writeFieldOverrides(e,t,i){const{fields:a,parent:r}=this;let s;if(a){s=[];let e=0;a.forEach((({name:t,alias:i,editable:a,visible:n})=>{if(!n)return;const o=r?.fields?.find((e=>e.name===t));if(!o)return;const l={name:t};let u=!1;i!==o.alias&&(l.alias=i,u=!0),a!==o.editable&&(l.editable=a,u=!0),s.push(l),u&&e++})),0===e&&s.length===a.length&&(s=null)}else s=(0,J.o8)(e);s?.length&&(0,$.sM)(i,s,t)}get fields(){const{parent:e,fieldOverrides:t,subtypeCode:i}=this,a=e?.fields;if(!e||!a?.length)return null;const{subtypes:r,subtypeField:s}=e,n=r?.find((e=>e.code===i)),o=n?.defaultValues,l=n?.domains,u=[];for(const e of a){const a=e.clone(),{name:r}=a,n=t?.find((e=>e.name===r));if(a.visible=!t||!!n,n){const{alias:e,editable:t}=n;e&&(a.alias=e),!1===t&&(a.editable=!1)}const d=o?.[r]??null;a.defaultValue=r===s?i:d;const h=l?.[r]??null;a.domain=r===s?null:h?"inherited"===h.type?a.domain:h.clone():null,u.push(a)}return u}get floorInfo(){return this.parent?.floorInfo}get geometryType(){return this.parent?.geometryType}get effectiveScaleRange(){const{minScale:e,maxScale:t}=this;return{minScale:e,maxScale:t}}get objectIdField(){return this.parent||y.A.getLogger(this).error(me("objectIdField")),this.parent?.objectIdField}get defaultPopupTemplate(){return this.createPopupTemplate()}get relationships(){return this.parent?.relationships}set renderer(e){(0,I.yp)(e,this.fieldsIndex),this._override("renderer",e)}get renderer(){if(this._isOverridden("renderer"))return this._get("renderer");const{parent:e}=this;return e&&!e.isTable&&"mesh"!==e.geometryType?function(e){return new O.A({symbol:ue(e)})}(e.geometryType):null}readRendererFromService(e,t,i){if("Table"===t.type)return null;const a=t.drawingInfo?.renderer,r=B(a,t,i);let s;const{subtypeCode:n}=this;if(null!=n&&function(e,t){return!(!t||"unique-value"!==e?.type||null==e.field||e.field.toLowerCase()!==t.toLowerCase()||e.field2||e.field3||e.valueExpression)}(r,t.subtypeField)){const e=r.uniqueValueInfos?.find((({value:e})=>(e="number"==typeof e?String(e):e)===String(n)));e&&(s=new O.A({symbol:e.symbol}))}else"simple"!==r?.type||r.visualVariables?.length||(s=r);return s}readRenderer(e,t,i){const a=t?.layerDefinition?.drawingInfo?.renderer;if(!a)return;const r=a.visualVariables?.some((e=>"rotationInfo"!==e.type));return r?void 0:B(a,t,i)||void 0}get spatialReference(){return this.parent?.spatialReference??Q.A.WGS84}get subtypeField(){return this.parent?.subtypeField}readTemplatesFromService(e,t){return[he(this.subtypeCode,t)]}readTitleFromService(e,t){const i=de(this.subtypeCode,t);return null!=i?i.name:null}get url(){return this.parent?.url}get userHasUpdateItemPrivileges(){return!!this.parent?.userHasUpdateItemPrivileges}async addAttachment(e,t){const{parent:i}=this;if(!i)throw me("addAttachment");if(e.getAttribute(i.subtypeField)!==this.subtypeCode)throw new n.A("subtype-sublayer:addAttachment","The feature provided does not belong to this SubtypeSublayer");return i.addAttachment(e,t)}async updateAttachment(e,t,i){const{parent:a}=this;if(!a)throw me("updateAttachment");if(e.getAttribute(a.subtypeField)!==this.subtypeCode)throw new n.A("subtype-sublayer:updateAttachment","The feature provided does not belong to this SubtypeSublayer");return a.updateAttachment(e,t,i)}async deleteAttachments(e,t){const{parent:i}=this;if(!i)throw me("deleteAttachments");if(e.getAttribute(i.subtypeField)!==this.subtypeCode)throw new n.A("subtype-sublayer:deleteAttachments","The feature provided does not belong to this SubtypeSublayer");return i.deleteAttachments(e,t)}async applyEdits(e,t){if(!this.parent)throw me("applyEdits");return this.parent.applyEdits(e,t)}createPopupTemplate(e){let t=this;const{parent:i,fields:a,title:r}=this;if(i){const{displayField:e,editFieldsInfo:s,objectIdField:n}=i;t={displayField:e,editFieldsInfo:s,fields:a,objectIdField:n,title:r}}return(0,ae.tn)(t,e)}createQuery(){if(!this.parent)throw me("createQuery");const e=(0,D.VZ)(this.parent),t=`${this.parent.subtypeField}=${this.subtypeCode}`;return e.where=(0,h.m)(t,this.parent.definitionExpression),e}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e,t){if(!t?.excludeImpliedDomains&&this.parent){const t=(0,D.pc)(this.parent,e);if(t)return t}return this._getLayerDomain(e)}async queryAttachments(e,t){const i=await this.load();if(!i.parent)throw me("queryAttachments");const a=e.clone();return a.where=ye(a.where,i.parent.subtypeField,i.subtypeCode),i.parent.queryAttachments(e,t)}async queryFeatureCount(e,t){const i=await this.load();if(!i.parent)throw me("queryFeatureCount");return i.parent.queryFeatureCount(pe(i.parent,i,e),t)}async queryFeatures(e,t){const i=await this.load();if(!i.parent)throw me("queryFeatures");return i.parent.queryFeatures(pe(i.parent,i,e),t)}async queryObjectIds(e,t){const i=await this.load();if(!i.parent)throw me("queryObjectIds");return i.parent.queryObjectIds(pe(i.parent,i,e),t)}async queryRelatedFeatures(e,t){const i=await this.load();if(!i.parent)throw me("queryRelatedFeatures");return i.parent.queryRelatedFeatures(e,t)}async queryRelatedFeaturesCount(e,t){const i=await this.load();if(!i.parent)throw me("queryRelatedFeaturesCount");return i.parent.queryRelatedFeaturesCount(e,t)}_getLayerDomain(e){const t=this.fieldsIndex.get(e);return t?t.domain:null}};(0,a._)([(0,p.MZ)({type:se.A,json:{name:"attributeTableInfo",write:{ignoreOrigin:!0}}})],ce.prototype,"attributeTableTemplate",void 0),(0,a._)([(0,p.MZ)({readOnly:!0,json:{read:!1}})],ce.prototype,"capabilities",null),(0,a._)([(0,p.MZ)({readOnly:!0,json:{read:!1}})],ce.prototype,"effectiveCapabilities",null),(0,a._)([(0,p.MZ)({json:{write:{ignoreOrigin:!0}}})],ce.prototype,"charts",void 0),(0,a._)([(0,p.MZ)({type:Boolean,nonNullable:!0,json:{name:"enableEditing",write:{ignoreOrigin:!0}}})],ce.prototype,"editingEnabled",void 0),(0,a._)([(0,p.MZ)({type:Boolean,readOnly:!0})],ce.prototype,"effectiveEditingEnabled",null),(0,a._)([(0,p.MZ)({readOnly:!0,json:{read:!1}})],ce.prototype,"elevationInfo",null),(0,a._)([(0,p.MZ)({json:{name:"layerDefinition.fieldOverrides",origins:{service:{read:!1}},write:{ignoreOrigin:!0,allowNull:!0}}})],ce.prototype,"fieldOverrides",void 0),(0,a._)([(0,Y.K)("fieldOverrides")],ce.prototype,"writeFieldOverrides",null),(0,a._)([(0,p.MZ)({...ne.fields,readOnly:!0,json:{read:!1}})],ce.prototype,"fields",null),(0,a._)([(0,p.MZ)(ne.fieldsIndex)],ce.prototype,"fieldsIndex",void 0),(0,a._)([(0,p.MZ)({readOnly:!0,json:{read:!1}})],ce.prototype,"floorInfo",null),(0,a._)([(0,p.MZ)({type:W.A,json:{name:"formInfo",write:{ignoreOrigin:!0}}})],ce.prototype,"formTemplate",void 0),(0,a._)([(0,p.MZ)({type:String,clonable:!1,json:{origins:{service:{read:!1},"portal-item":{read:!1}},write:{ignoreOrigin:!0}}})],ce.prototype,"id",void 0),(0,a._)([(0,p.MZ)({readOnly:!0,json:{read:!1}})],ce.prototype,"geometryType",null),(0,a._)([(0,p.MZ)({readOnly:!0,json:{read:!1}})],ce.prototype,"type",void 0),(0,a._)([(0,p.MZ)(le((0,J.o8)(E.kF)))],ce.prototype,"labelsVisible",void 0),(0,a._)([(0,p.MZ)({type:[ee.A],json:{name:"layerDefinition.drawingInfo.labelingInfo",origins:{service:{read:!1}},read:{reader:te.w},write:{ignoreOrigin:!0}}})],ce.prototype,"labelingInfo",void 0),(0,a._)([(0,p.MZ)({type:["ArcGISFeatureLayer"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],ce.prototype,"layerType",void 0),(0,a._)([(0,p.MZ)(le((0,J.o8)(E.fV)))],ce.prototype,"legendEnabled",void 0),(0,a._)([(0,p.MZ)({type:["show","hide"]})],ce.prototype,"listMode",void 0),(0,a._)([(0,p.MZ)((()=>{const e=(0,J.o8)(E.hn);return e.json.origins.service.read=!1,le(e)})())],ce.prototype,"minScale",void 0),(0,a._)([(0,p.MZ)((()=>{const e=(0,J.o8)(E.hG);return e.json.origins.service.read=!1,le(e)})())],ce.prototype,"maxScale",void 0),(0,a._)([(0,p.MZ)({readOnly:!0})],ce.prototype,"effectiveScaleRange",null),(0,a._)([(0,p.MZ)({readOnly:!0,json:{read:!1}})],ce.prototype,"objectIdField",null),(0,a._)([(0,p.MZ)({type:Number,range:{min:0,max:1},nonNullable:!0,json:{write:{ignoreOrigin:!0}}})],ce.prototype,"opacity",void 0),(0,a._)([(0,p.MZ)({clonable:!1})],ce.prototype,"parent",void 0),(0,a._)([(0,p.MZ)(le((0,J.o8)(E.M6)))],ce.prototype,"popupEnabled",void 0),(0,a._)([(0,p.MZ)({type:q.A,json:{name:"popupInfo",write:{ignoreOrigin:!0}}})],ce.prototype,"popupTemplate",void 0),(0,a._)([(0,p.MZ)({readOnly:!0})],ce.prototype,"defaultPopupTemplate",null),(0,a._)([(0,p.MZ)({readOnly:!0,json:{read:!1}})],ce.prototype,"relationships",null),(0,a._)([(0,p.MZ)({types:H,json:{write:{target:"layerDefinition.drawingInfo.renderer",ignoreOrigin:!0}}})],ce.prototype,"renderer",null),(0,a._)([(0,m.w)("service","renderer",["drawingInfo.renderer","subtypeField","type"])],ce.prototype,"readRendererFromService",null),(0,a._)([(0,m.w)("renderer",["layerDefinition.drawingInfo.renderer"])],ce.prototype,"readRenderer",null),(0,a._)([(0,p.MZ)({readOnly:!0,json:{read:!1}})],ce.prototype,"spatialReference",null),(0,a._)([(0,p.MZ)({type:Number,json:{origins:{service:{read:!1}},write:{ignoreOrigin:!0}}})],ce.prototype,"subtypeCode",void 0),(0,a._)([(0,p.MZ)({readOnly:!0,json:{read:!1}})],ce.prototype,"subtypeField",null),(0,a._)([(0,p.MZ)({type:[K.A],json:{name:"layerDefinition.templates",write:{ignoreOrigin:!0}}})],ce.prototype,"templates",void 0),(0,a._)([(0,m.w)("service","templates",["geometryType","subtypeField","subtypes","type"])],ce.prototype,"readTemplatesFromService",null),(0,a._)([(0,p.MZ)({type:String,json:{write:{ignoreOrigin:!0}}})],ce.prototype,"title",void 0),(0,a._)([(0,m.w)("service","title",["subtypes"])],ce.prototype,"readTitleFromService",null),(0,a._)([(0,p.MZ)({readOnly:!0,json:{read:!1}})],ce.prototype,"url",null),(0,a._)([(0,p.MZ)({readOnly:!0})],ce.prototype,"userHasUpdateItemPrivileges",null),(0,a._)([(0,p.MZ)({type:Boolean,nonNullable:!0,json:{name:"visibility",write:{ignoreOrigin:!0}}})],ce.prototype,"visible",void 0),ce=(0,a._)([(0,g.$)("esri.layers.support.SubtypeSublayer")],ce);const pe=(e,t,i)=>{if(!i)return t.createQuery();const a=ie.A.from(i);return a.where=ye(a.where,e.subtypeField,t.subtypeCode),a},ye=(e,t,i)=>{const a=new RegExp(`${t}\\s*=\\s*\\d+`),r=`${t}=${i}`,s=e??"";return a.test(s)?s.replace(a,r):(0,h.m)(r,s)},me=e=>new n.A(`This sublayer must have a parent SubtypeGroupLayer in order to use ${e}`),ge=ce;var fe=i(72523),_e=i(23123),be=i(29759);const we="SubtypeGroupLayer";function ve(e,t){return new n.A("layer:unsupported",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`,{layer:e})}const Me=(0,N.p)();let Le=class extends((0,L.j)((0,M.w6)((0,w.dM)((0,C.e)((0,T.j)((0,S.J)((0,b.b)((0,x.q)((0,A.A)((0,l.P)((0,v.d)((0,_.p)((0,r.O)(f.A)))))))))))))){constructor(...e){super(...e),this._sublayerLookup=new Map,this.fields=null,this.fieldsIndex=null,this.outFields=null,this.sublayers=new(s.A.ofType(ge)),this.useUniqueColorsForSublayers=!0,this.supportedSourceTypes=new Set(["Feature Layer"]),this.timeInfo=null,this.title="Layer",this.type="subtype-group",this._debouncedSaveOperations=(0,u.sg)((async(e,t,a)=>{const{save:r,saveAs:s}=await i.e(102).then(i.bind(i,10900));switch(e){case be.X.SAVE:return r(this,t);case be.X.SAVE_AS:return s(this,a,t)}})),this.addHandles((0,d.wB)((()=>this.sublayers),((e,t)=>this._handleSublayersChange(e,t)),d.OH))}destroy(){this.source?.destroy()}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}load(e){const t=null!=e?e.signal:null,i=this.loadFromPortal({supportedTypes:["Feature Service"]},e).catch(u.QP).then((async()=>{if(!this.url)throw new n.A("subtype-grouplayer:missing-url-or-source","SubtypeGroupLayer must be created with either a url or a portal item");if(null==this.layerId)throw new n.A("subtype-grouplayer:missing-layerid","layerId is required for a SubtypeGroupLayer created with url");return this._initLayerProperties(await this.createGraphicsSource(t))})).then((()=>(0,D.VA)(this,"load",e)));return this.addResolvingPromise(i),Promise.resolve(this)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){return this.loaded&&null!=this.capabilities&&this.capabilities.operations.supportsEditing&&this.userHasEditingPrivileges}get effectiveEditingEnabled(){return(0,D.C$)(this)}get parsedUrl(){const e=(0,c.An)(this.url);return null!=e&&null!=this.layerId&&(e.path=(0,c.fj)(e.path,this.layerId.toString())),e}set source(e){this._get("source")!==e&&this._set("source",e)}readTitleFromService(e,{name:t}){return this.url?(0,k.yG)(this.url,t):t}async addAttachment(e,t){const i=await(0,D.Xl)(this,e,t,we);return this.lastEditsEventDate=new Date,i}async updateAttachment(e,t,i){const a=await(0,D.bt)(this,e,t,i,we);return this.lastEditsEventDate=new Date,a}async applyEdits(e,t){return(0,D.ct)(this,e,t)}on(e,t){return super.on(e,t)}async createGraphicsSource(e){const{default:t}=await(0,u.qr)(i.e(102).then(i.bind(i,52886)),e);return new t({layer:this,supportedSourceTypes:this.supportedSourceTypes}).load({signal:e})}createQuery(){const e=(0,D.VZ)(this),t=this.sublayers.map((e=>e.subtypeCode));return e.where=(0,h.m)(`${this.subtypeField} IN (${t.join(",")})`,this.definitionExpression),e}async deleteAttachments(e,t){const i=await(0,D.mm)(this,e,t,we);return this.lastEditsEventDate=new Date,i}async fetchRecomputedExtents(e){return(0,D.WP)(this,e,we)}findSublayerForFeature(e){const t=this.fieldsIndex.get(this.subtypeField),i=e.attributes[t.name];return this.findSublayerForSubtypeCode(i)}findSublayerForSubtypeCode(e){return this._sublayerLookup.get(e)}getFieldDomain(e,t){if(!t?.excludeImpliedDomains){const t=(0,D.pc)(this,e);if(t)return t}const i=(0,D.Nv)(this,t?.feature);if(i){const t=i.domains?.[e];return"inherited"===t?.type?this._getLayerDomain(e):t}return this._getLayerDomain(e)}getField(e){return this.fieldsIndex.get(e)}loadAll(){return(0,o.g)(this,(e=>{e(this.sublayers)}))}async queryAttachments(e,t){return(0,D.lV)(this,e,t,we)}async queryFeatures(e,t){const i=await this.load(),a=ie.A.from(e)??i.createQuery(),r=a.outFields??[];r.includes(this.subtypeField)||(r.push(this.subtypeField),a.outFields=r);const s=await i.source.queryFeatures(a,t);if(s?.features)for(const e of s.features)e.layer=e.sourceLayer=this.findSublayerForFeature(e);return s}async queryObjectIds(e,t){return(0,D.sg)(this,e,t,we)}async queryFeatureCount(e,t){return(0,D.Ye)(this,e,t,we)}async queryExtent(e,t){return(0,D.B5)(this,e,t,we)}async queryRelatedFeatures(e,t){return(0,D.hM)(this,e,t,we)}async queryRelatedFeaturesCount(e,t){return(0,D.S2)(this,e,t,we)}async save(e){return this._debouncedSaveOperations(be.X.SAVE,e)}async saveAs(e,t){return this._debouncedSaveOperations(be.X.SAVE_AS,t,e)}write(e,t){const{origin:i,layerContainerType:a,messages:r}=t;if(this.isTable){if("web-scene"===i||"web-map"===i&&"tables"!==a)return r?.push(ve(this,"using a table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&"web-map"===i&&"tables"===a)return r?.push(ve(this,"using a non-table source cannot be written to tables in web maps")),null;return this.sublayers?.length?super.write(e,t):(r?.push(new n.A("web-document-write:invalid-property",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' has invalid value for 'sublayers' property. 'sublayers' collection should contain at least one sublayer`,{layer:this})),null)}serviceSupportsSpatialReference(e){return!!this.loaded&&(0,_e.D)(this,e)}_getLayerDomain(e){const t=this.fieldsIndex.get(e);return t?t.domain:null}async _initLayerProperties(e){this._set("source",e);const{sourceJSON:t}=e;if(t&&(this.sourceJSON=t,this.read(t,{origin:"service",url:this.parsedUrl})),!this.subtypes?.length)throw new n.A("subtype-grouplayer:missing-subtypes","SubtypeGroupLayer must be created using a layer with subtypes");this._verifyFields(),(0,I.sv)(this.timeInfo,this.fieldsIndex)}async hasDataChanged(){return(0,D.jp)(this)}_verifyFields(){const e=this.parsedUrl?.path??"undefined";this.objectIdField||console.log("SubtypeGroupLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||-1!==e.search(/\/FeatureServer\//i)||this.fields?.some((e=>"geometry"===e.type))||console.log("SubtypeGroupLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}_handleSublayersChange(e,t){t&&(t.forEach((e=>{e.parent=null})),this.removeHandles("sublayers-owner"),this._sublayerLookup.clear()),e&&(e.forEach((e=>{e.parent=this,this._sublayerLookup.set(e.subtypeCode,e)})),this.addHandles([e.on("after-add",(({item:e})=>{e.parent=this,this._sublayerLookup.set(e.subtypeCode,e)})),e.on("after-remove",(({item:e})=>{e.parent=null,this._sublayerLookup.delete(e.subtypeCode)}))],"sublayers-owner"))}};(0,a._)([(0,p.MZ)({readOnly:!0})],Le.prototype,"createQueryVersion",null),(0,a._)([(0,p.MZ)({readOnly:!0})],Le.prototype,"editingEnabled",null),(0,a._)([(0,p.MZ)({readOnly:!0})],Le.prototype,"effectiveEditingEnabled",null),(0,a._)([(0,p.MZ)({...Me.fields,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],Le.prototype,"fields",void 0),(0,a._)([(0,p.MZ)(Me.fieldsIndex)],Le.prototype,"fieldsIndex",void 0),(0,a._)([(0,p.MZ)(E.id)],Le.prototype,"id",void 0),(0,a._)([(0,p.MZ)({type:["show","hide","hide-children"],json:{origins:{"portal-item":{read:!1,write:!1}}}})],Le.prototype,"listMode",void 0),(0,a._)([(0,p.MZ)({value:"SubtypeGroupLayer",type:["SubtypeGroupLayer"],json:{origins:{"portal-item":{name:"layerType",write:{enabled:!0,ignoreOrigin:!0}}}}})],Le.prototype,"operationalLayerType",void 0),(0,a._)([(0,p.MZ)(Me.outFields)],Le.prototype,"outFields",void 0),(0,a._)([(0,p.MZ)({readOnly:!0})],Le.prototype,"parsedUrl",null),(0,a._)([(0,p.MZ)({clonable:!1})],Le.prototype,"source",null),(0,a._)([(0,p.MZ)({type:s.A.ofType(ge),json:{origins:{service:{read:{source:"subtypes",reader(e,t,i){let a=null;if(this.useUniqueColorsForSublayers){const r=function(e,t){const i=e.drawingInfo?.renderer,a=i?B(i,e,t):null;if("simple"===a?.type)return(0,z.Sx)(a.symbol,null)?a.symbol.clone():null}(t,i);a=r?function(e,t){return(0,G.Iy)(Z,e,{offset:!0,shuffle:!0}).reverse().map((e=>{const i=t.clone();return"cim"===i.type?(0,U.Fe)(i,e):(0,z.dt)(i,e),new O.A({symbol:i})}))}(e.length,r):null}const r=e.map((({code:e},r)=>{const s=new ge({subtypeCode:e});s.read(t,i);const n=a?.[r];return n&&s.read({drawingInfo:{renderer:n.toJSON()}},i),s}));return new(s.A.ofType(ge))(r)}}}},name:"layers",write:{ignoreOrigin:!0}}})],Le.prototype,"sublayers",void 0),(0,a._)([(0,p.MZ)()],Le.prototype,"useUniqueColorsForSublayers",void 0),(0,a._)([(0,p.MZ)({type:fe.A})],Le.prototype,"timeInfo",void 0),(0,a._)([(0,p.MZ)({json:{origins:{"portal-item":{write:{enabled:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}}}}})],Le.prototype,"title",void 0),(0,a._)([(0,m.w)("service","title",["name"])],Le.prototype,"readTitleFromService",null),(0,a._)([(0,p.MZ)({json:{read:!1}})],Le.prototype,"type",void 0),Le=(0,a._)([(0,g.$)("esri.layers.SubtypeGroupLayer")],Le);const xe=Le},38817:(e,t,i)=>{i.r(t),i.d(t,{default:()=>a});const a={_decimalSeparator:",",_thousandSeparator:" ",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - dd MMM",_date_hour:"HH:mm",_date_hour_full:"HH:mm - dd MMM",_date_day:"dd MMM",_date_day_full:"dd MMM",_date_week:"ww",_date_week_full:"dd MMM",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"A",P:"P",AM:"AM",PM:"PM","A.M.":"A.M.","P.M.":"P.M.",January:"Janvier",February:"Fvrier",March:"Mars",April:"Avril",May:"Mai",June:"Juin",July:"Juillet",August:"Aot",September:"Septembre",October:"Octobre",November:"Novembre",December:"Dcembre",Jan:"Jan",Feb:"Fv",Mar:"Mar",Apr:"Avr","May(short)":"Mai",Jun:"Jui",Jul:"Jul",Aug:"Ao",Sep:"Sep",Oct:"Oct",Nov:"Nov",Dec:"Dc",Sunday:"Dimanche",Monday:"Lundi",Tuesday:"Mardi",Wednesday:"Mercredi",Thursday:"Jeudi",Friday:"Vendredi",Saturday:"Samedi",Sun:"Dim",Mon:"Lun",Tue:"Mar",Wed:"Mer",Thu:"Jeu",Fri:"Ven",Sat:"Sam",_dateOrd:function(e){let t="e";return(e<11||e>13)&&e%10==1&&(t="er"),t},"Zoom Out":"Zoom Arrire",Play:"Joue",Stop:"Arrte",Legend:"Lgende","Press ENTER to toggle":"cliquez, appuyez ou appuyez sur entre pour basculer",Loading:"Charger",Home:"Accueil",Chart:"Graphique","Serial chart":"Graphique srial","X/Y chart":"Graphique X/Y","Pie chart":"Camembert","Gauge chart":"Jauge graphique","Radar chart":"Carte radar","Sankey diagram":"Graphique Sankey","Flow diagram":"reprsentation schmatique","Chord diagram":"diagramme d'accord","TreeMap chart":"carte de l'arbre","Sliced chart":"graphique en tranches",Series:"Sries","Candlestick Series":"Sries chandelier","OHLC Series":"Sries OHLC","Column Series":"Sries de colonnes","Line Series":"Srie de lignes","Pie Slice Series":"Tarte tranche Sries","Funnel Series":"Sries d'entonnoir","Pyramid Series":"Sries pyramidale","X/Y Series":"Sries X/Y",Map:"Mappe","Press ENTER to zoom in":"Appuyez sur ENTER pour zoomer","Press ENTER to zoom out":"Appuyez sur ENTER pour effectuer un zoom arrire","Use arrow keys to zoom in and out":"Utilisez les touches flches pour zoomer et dzoomer","Use plus and minus keys on your keyboard to zoom in and out":"Utilisez les touches plus et moins de votre clavier pour effectuer un zoom avant ou arrire",Export:"Exporter",Image:"Image",Data:"Data",Print:"Imprimer","Press ENTER to open":"Cliquez, appuyez ou appuyez sur ENTER pour ouvrir","Press ENTER to print.":"Cliquez, appuyez ou appuyez sur ENTER pour imprimer","Press ENTER to export as %1.":"Cliquez, appuyez ou appuyez sur ENTER pour exporter comme %1","(Press ESC to close this message)":"(Appuyez sur ESC pour fermer ce message)","Image Export Complete":"Exportation d'image termine","Export operation took longer than expected. Something might have gone wrong.":"L'exportation a pris plus de temps que prvu. Quelque chose aurait mal tourn.","Saved from":"Enregistr de",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"Utilisez la touche TAB pour slectionner les boutons des poignes ou les flches gauche et droite pour modifier la slection.","Use left and right arrows to move selection":"Utilisez les flches gauche et droite pour dplacer la slection","Use left and right arrows to move left selection":"Utilisez les flches gauche et droite pour dplacer la slection gauche","Use left and right arrows to move right selection":"Utilisez les flches gauche et droite pour dplacer la slection droite","Use TAB select grip buttons or up and down arrows to change selection":"Utilisez les boutons de slection TAB ou les flches vers le haut et le bas pour modifier la slection.","Use up and down arrows to move selection":"Utilisez les flches haut et bas pour dplacer la slection","Use up and down arrows to move lower selection":"Utilisez les flches haut et bas pour dplacer la slection infrieure","Use up and down arrows to move upper selection":"Utilisez les flches haut et bas pour dplacer la slection suprieure","From %1 to %2":"De %1  %2","From %1":"De %1","To %1":" %1","No parser available for file: %1":"Aucun analyseur disponible pour le fichier: %1","Error parsing file: %1":"Erreur d'analyse du fichier: %1","Unable to load file: %1":"Impossible de charger le fichier: %1","Invalid date":"Date invalide"}},74727:(e,t,i)=>{i.d(t,{PieChartAm5:()=>I,PieSeriesAm5:()=>P});var a=i(82392),r=i(12103),s=i(65009),n=i(37059),o=i(63872);class l extends s.w{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeRadialText("",this.textStyle)})}_afterNew(){super._afterNew()}_beforeChanged(){super._beforeChanged(),this._display.clear(),this.isDirty("textType")&&(this._display.textType=this.get("textType"),this.markDirtyBounds()),this.isDirty("radius")&&(this._display.radius=this.get("radius"),this.markDirtyBounds()),this.isDirty("startAngle")&&(this._display.startAngle=(this.get("startAngle",0)+90)*s.x,this.markDirtyBounds()),this.isDirty("inside")&&(this._display.inside=this.get("inside"),this.markDirtyBounds()),this.isDirty("orientation")&&(this._display.orientation=this.get("orientation"),this.markDirtyBounds()),this.isDirty("kerning")&&(this._display.kerning=this.get("kerning"),this.markDirtyBounds())}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialText"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.w.classNames.concat([l.className])});class u extends s.L{constructor(){super(...arguments),Object.defineProperty(this,"_flipped",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._textKeys.push("textType","kerning"),super._afterNew()}_makeText(){this._text=this.children.push(l.new(this._root,{}))}baseRadius(){const e=this.getPrivate("radius",0),t=this.getPrivate("innerRadius",0),i=this.get("baseRadius",0);return t+(0,s.l)(i,e-t)}radius(){const e=this.get("inside",!1);return this.baseRadius()+this.get("radius",0)*(e?-1:1)}_updateChildren(){if(super._updateChildren(),this.isDirty("baseRadius")||this.isPrivateDirty("radius")||this.isPrivateDirty("innerRadius")||this.isDirty("labelAngle")||this.isDirty("radius")||this.isDirty("inside")||this.isDirty("orientation")||this.isDirty("textType")){const e=this.get("textType","adjusted"),t=this.get("inside",!1),i=this.get("orientation");let a=(0,s.y)(this.get("labelAngle",0));this._text.set("startAngle",this.get("labelAngle",0)),this._text.set("inside",t);const r=(0,s.A)(a),n=(0,s.z)(a);let o=this.baseRadius(),l=this.radius();if(this._display.angle=0,"circular"==e)this.setAll({paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}),this.setRaw("x",void 0),this.setRaw("y",void 0),this._text.set("orientation",i),this._text.set("radius",l);else{0==o&&(a=0,l=0);let t=l*n,u=l*r;"radial"==e?(this.setRaw("x",t),this.setRaw("y",u),a<90||a>270||"auto"!=i?(this._display.angle=a,this._flipped=!1):(this._display.angle=a+180,this._flipped=!0),this._dirty.rotation=!1):"adjusted"==e?(this.setRaw("centerX",s.p),this.setRaw("centerY",s.p),this.setRaw("x",t),this.setRaw("y",u)):"regular"==e&&(this.setRaw("x",t),this.setRaw("y",u))}this.markDirtyPosition(),this.markDirtyBounds()}}_updatePosition(){const e=this.get("textType","regular"),t=this.get("inside",!1);let i=0,a=0,r=this.get("labelAngle",0),n=this.localBounds(),o=n.right-n.left,l=n.bottom-n.top;if("radial"==e){if(this._flipped){let e=this.get("centerX");e instanceof s.P&&(o*=1-2*e.value),i=o*(0,s.z)(r),a=o*(0,s.A)(r)}}else t||"adjusted"!=e||(i=o/2*(0,s.z)(r),a=l/2*(0,s.A)(r));this.setRaw("dx",i),this.setRaw("dy",a),super._updatePosition()}get text(){return this._text}}Object.defineProperty(u,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialLabel"}),Object.defineProperty(u,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.L.classNames.concat([u.className])});const d=Math.abs,h=Math.atan2,c=Math.cos,p=Math.max,y=Math.min,m=Math.sin,g=Math.sqrt,f=1e-12,_=Math.PI,b=_/2,w=2*_;function v(e){return e>=1?b:e<=-1?-b:Math.asin(e)}function M(e){return e.innerRadius}function L(e){return e.outerRadius}function x(e){return e.startAngle}function A(e){return e.endAngle}function S(e){return e&&e.padAngle}function T(e,t,i,a,r,s,n){var o=e-i,l=t-a,u=(n?s:-s)/g(o*o+l*l),d=u*l,h=-u*o,c=e+d,y=t+h,m=i+d,f=a+h,_=(c+m)/2,b=(y+f)/2,w=m-c,v=f-y,M=w*w+v*v,L=r-s,x=c*f-m*y,A=(v<0?-1:1)*g(p(0,L*L*M-x*x)),S=(x*v-w*A)/M,T=(-x*w-v*A)/M,C=(x*v+w*A)/M,k=(-x*w+v*A)/M,E=S-_,D=T-b,N=C-_,I=k-b;return E*E+D*D>N*N+I*I&&(S=C,T=k),{cx:S,cy:T,x01:-d,y01:-h,x11:S*(r/L-1),y11:T*(r/L-1)}}function C(){var e=M,t=L,i=(0,r.c)(0),a=null,s=x,n=A,o=S,l=null,u=(0,r.w)(p);function p(){var r,p,M=+e.apply(this,arguments),L=+t.apply(this,arguments),x=s.apply(this,arguments)-b,A=n.apply(this,arguments)-b,S=d(A-x),C=A>x;if(l||(l=r=u()),L<M&&(p=L,L=M,M=p),L>f)if(S>w-f)l.moveTo(L*c(x),L*m(x)),l.arc(0,0,L,x,A,!C),M>f&&(l.moveTo(M*c(A),M*m(A)),l.arc(0,0,M,A,x,C));else{var k,E,D=x,N=A,I=x,P=A,R=S,O=S,F=o.apply(this,arguments)/2,G=F>f&&(a?+a.apply(this,arguments):g(M*M+L*L)),j=y(d(L-M)/2,+i.apply(this,arguments)),U=j,z=j;if(G>f){var H=v(G/M*m(F)),B=v(G/L*m(F));(R-=2*H)>f?(I+=H*=C?1:-1,P-=H):(R=0,I=P=(x+A)/2),(O-=2*B)>f?(D+=B*=C?1:-1,N-=B):(O=0,D=N=(x+A)/2)}var Z=L*c(D),q=L*m(D),V=M*c(P),J=M*m(P);if(j>f){var X,$=L*c(N),Y=L*m(N),W=M*c(I),Q=M*m(I);if(S<_)if(X=function(e,t,i,a,r,s,n,o){var l=i-e,u=a-t,d=n-r,h=o-s,c=h*l-d*u;if(!(c*c<f))return[e+(c=(d*(t-s)-h*(e-r))/c)*l,t+c*u]}(Z,q,W,Q,$,Y,V,J)){var K=Z-X[0],ee=q-X[1],te=$-X[0],ie=Y-X[1],ae=1/m(function(e){return e>1?0:e<-1?_:Math.acos(e)}((K*te+ee*ie)/(g(K*K+ee*ee)*g(te*te+ie*ie)))/2),re=g(X[0]*X[0]+X[1]*X[1]);U=y(j,(M-re)/(ae-1)),z=y(j,(L-re)/(ae+1))}else U=z=0}O>f?z>f?(k=T(W,Q,Z,q,L,z,C),E=T($,Y,V,J,L,z,C),l.moveTo(k.cx+k.x01,k.cy+k.y01),z<j?l.arc(k.cx,k.cy,z,h(k.y01,k.x01),h(E.y01,E.x01),!C):(l.arc(k.cx,k.cy,z,h(k.y01,k.x01),h(k.y11,k.x11),!C),l.arc(0,0,L,h(k.cy+k.y11,k.cx+k.x11),h(E.cy+E.y11,E.cx+E.x11),!C),l.arc(E.cx,E.cy,z,h(E.y11,E.x11),h(E.y01,E.x01),!C))):(l.moveTo(Z,q),l.arc(0,0,L,D,N,!C)):l.moveTo(Z,q),M>f&&R>f?U>f?(k=T(V,J,$,Y,M,-U,C),E=T(Z,q,W,Q,M,-U,C),l.lineTo(k.cx+k.x01,k.cy+k.y01),U<j?l.arc(k.cx,k.cy,U,h(k.y01,k.x01),h(E.y01,E.x01),!C):(l.arc(k.cx,k.cy,U,h(k.y01,k.x01),h(k.y11,k.x11),!C),l.arc(0,0,M,h(k.cy+k.y11,k.cx+k.x11),h(E.cy+E.y11,E.cx+E.x11),C),l.arc(E.cx,E.cy,U,h(E.y11,E.x11),h(E.y01,E.x01),!C))):l.arc(0,0,M,P,I,C):l.lineTo(V,J)}else l.moveTo(0,0);if(l.closePath(),r)return l=null,r+""||null}return p.centroid=function(){var i=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,a=(+s.apply(this,arguments)+ +n.apply(this,arguments))/2-_/2;return[c(a)*i,m(a)*i]},p.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:(0,r.c)(+t),p):e},p.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:(0,r.c)(+e),p):t},p.cornerRadius=function(e){return arguments.length?(i="function"==typeof e?e:(0,r.c)(+e),p):i},p.padRadius=function(e){return arguments.length?(a=null==e?null:"function"==typeof e?e:(0,r.c)(+e),p):a},p.startAngle=function(e){return arguments.length?(s="function"==typeof e?e:(0,r.c)(+e),p):s},p.endAngle=function(e){return arguments.length?(n="function"==typeof e?e:(0,r.c)(+e),p):n},p.padAngle=function(e){return arguments.length?(o="function"==typeof e?e:(0,r.c)(+e),p):o},p.context=function(e){return arguments.length?(l=e??null,p):l},p}class k extends s.e{constructor(){super(...arguments),Object.defineProperty(this,"ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"iy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_generator",{enumerable:!0,configurable:!0,writable:!0,value:C()})}_getTooltipPoint(){let e=this.get("tooltipX"),t=this.get("tooltipY"),i=0,a=0;(0,s.k)(e)&&(i=e),(0,s.k)(t)&&(a=t);let r=this.get("radius",0),n=this.get("innerRadius",0);return r+=this.get("dRadius",0),n+=this.get("dInnerRadius",0),n<0&&(n=r+n),e instanceof s.P&&(i=this.ix*(n+(r-n)*e.value)),t instanceof s.P&&(a=this.iy*(n+(r-n)*t.value)),this.get("arc")>=360&&0==n&&(i=0,a=0),{x:i,y:a}}_beforeChanged(){super._beforeChanged(),(this.isDirty("radius")||this.isDirty("arc")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("dRadius")||this.isDirty("dInnerRadius")||this.isDirty("cornerRadius")||this.isDirty("shiftRadius"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){let e=this.get("startAngle",0),t=this.get("arc",0);const i=this._generator;t<0&&(e+=t,t*=-1),t>.1&&i.cornerRadius(this.get("cornerRadius",0)),i.context(this._display);let a=this.get("radius",0),r=this.get("innerRadius",0);a+=this.get("dRadius",0),r+=this.get("dInnerRadius",0),r<0&&(r=a+r),i({innerRadius:r,outerRadius:a,startAngle:(e+90)*s.x,endAngle:(e+t+90)*s.x});let n=e+t/2;this.ix=(0,s.z)(n),this.iy=(0,s.A)(n);const o=this.get("shiftRadius",0);this.setRaw("dx",this.ix*o),this.setRaw("dy",this.iy*o),this.markDirtyPosition()}}}Object.defineProperty(k,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slice"}),Object.defineProperty(k,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.e.classNames.concat([k.className])});class E extends s.T{setupDefaultRules(){super.setupDefaultRules();const e=this._root.interfaceColors,t=this.rule.bind(this);t("PercentSeries").setAll({legendLabelText:"{category}",legendValueText:"{valuePercentTotal.formatNumber('0.00p')}",colors:n.C.new(this._root,{}),width:s.a,height:s.a}),t("PieChart").setAll({radius:(0,s.j)(80),startAngle:-90,endAngle:270}),t("PieSeries").setAll({alignLabels:!0,startAngle:-90,endAngle:270}),t("PieSeries").states.create("hidden",{endAngle:-90,opacity:0}),t("Slice",["pie"]).setAll({position:"absolute",isMeasured:!1,x:0,y:0,toggleKey:"active",tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}",strokeWidth:1,strokeOpacity:1,role:"figure",lineJoin:"round"}),t("Slice",["pie"]).states.create("active",{shiftRadius:20,scale:1}),t("Slice",["pie"]).states.create("hoverActive",{scale:1.04}),t("Slice",["pie"]).states.create("hover",{scale:1.04}),t("RadialLabel",["pie"]).setAll({textType:"aligned",radius:10,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",paddingTop:5,paddingBottom:5,populateText:!0}),t("Tick",["pie"]).setAll({location:1}),t("SlicedChart").setAll({paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10}),t("FunnelSeries").setAll({startLocation:0,endLocation:1,orientation:"vertical",alignLabels:!0,sequencedInterpolation:!0}),t("FunnelSlice").setAll({interactive:!0,expandDistance:0}),t("FunnelSlice").states.create("hover",{expandDistance:.15}),t("Label",["funnel"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:s.p}),t("Label",["funnel","horizontal"]).setAll({centerX:0,centerY:s.p,rotation:-90}),t("Label",["funnel","vertical"]).setAll({centerY:s.p,centerX:0}),t("Tick",["funnel"]).setAll({location:1}),t("FunnelSlice",["funnel","link"]).setAll({fillOpacity:.5,strokeOpacity:0,expandDistance:-.1}),t("FunnelSlice",["funnel","link","vertical"]).setAll({height:10}),t("FunnelSlice",["funnel","link","horizontal"]).setAll({width:10}),t("PyramidSeries").setAll({valueIs:"area"}),t("FunnelSlice",["pyramid","link"]).setAll({fillOpacity:.5}),t("FunnelSlice",["pyramid","link","vertical"]).setAll({height:0}),t("FunnelSlice",["pyramid","link","horizontal"]).setAll({width:0}),t("FunnelSlice",["pyramid"]).setAll({interactive:!0,expandDistance:0}),t("FunnelSlice",["pyramid"]).states.create("hover",{expandDistance:.15}),t("Label",["pyramid"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:s.p}),t("Label",["pyramid","horizontal"]).setAll({centerX:0,centerY:s.p,rotation:-90}),t("Label",["pyramid","vertical"]).setAll({centerY:s.p,centerX:0}),t("Tick",["pyramid"]).setAll({location:1}),t("FunnelSlice",["pictorial"]).setAll({interactive:!0,tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}"}),t("Label",["pictorial"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:s.p}),t("Label",["pictorial","horizontal"]).setAll({centerX:0,centerY:s.p,rotation:-90}),t("Label",["pictorial","vertical"]).setAll({centerY:s.p,centerX:0}),t("FunnelSlice",["pictorial","link"]).setAll({fillOpacity:.5,width:0,height:0}),t("Tick",["pictorial"]).setAll({location:.5});{const i=t("Graphics",["pictorial","background"]);i.setAll({fillOpacity:.2}),(0,o.s)(i,"fill",e,"alternativeBackground")}}}class D extends r.S{_afterNew(){this._defaultThemes.push(E.new(this._root)),super._afterNew(),this.chartContainer.children.push(this.seriesContainer),this.seriesContainer.children.push(this.bulletsContainer)}_processSeries(e){super._processSeries(e),this.seriesContainer.children.moveValue(this.bulletsContainer,this.seriesContainer.children.length-1)}}Object.defineProperty(D,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentChart"}),Object.defineProperty(D,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:r.S.classNames.concat([D.className])});class N extends r.a{constructor(){super(...arguments),Object.defineProperty(this,"slicesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(s.g.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(s.g.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"ticksContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(s.g.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"_lLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_rLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_hLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"slices",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeSlices())}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeLabels())}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeTicks())})}makeSlice(e){const t=this.slicesContainer.children.push(this.slices.make());return t.on("fill",(()=>{this.updateLegendMarker(e)})),t.on("fillPattern",(()=>{this.updateLegendMarker(e)})),t.on("stroke",(()=>{this.updateLegendMarker(e)})),t._setDataItem(e),e.set("slice",t),this.slices.push(t),t}makeLabel(e){const t=this.labelsContainer.children.push(this.labels.make());return t._setDataItem(e),e.set("label",t),this.labels.push(t),t}_shouldMakeBullet(e){return null!=e.get("value")}makeTick(e){const t=this.ticksContainer.children.push(this.ticks.make());return t._setDataItem(e),e.set("tick",t),this.ticks.push(t),t}_afterNew(){this.fields.push("category","fill"),super._afterNew()}_onDataClear(){const e=this.get("colors");e&&e.reset();const t=this.get("patterns");t&&t.reset()}_prepareChildren(){if(super._prepareChildren(),this._lLabels=[],this._rLabels=[],this._hLabels=[],this._valuesDirty){let e=0,t=0,i=0,a=1/0,r=0;(0,s.i)(this._dataItems,(i=>{let a=i.get("valueWorking",0);e+=a,t+=Math.abs(a)})),(0,s.i)(this._dataItems,(e=>{let s=e.get("valueWorking",0);s>i&&(i=s),s<a&&(a=s),r++;let n=s/t;0==t&&(n=0),e.setRaw("valuePercentTotal",100*n)})),this.setPrivateRaw("valueLow",a),this.setPrivateRaw("valueHigh",i),this.setPrivateRaw("valueSum",e),this.setPrivateRaw("valueAverage",e/r),this.setPrivateRaw("valueAbsoluteSum",t)}}show(e){const t=Object.create(null,{show:{get:()=>super.show}});return(0,a.d)(this,void 0,void 0,(function*(){let i=[];i.push(t.show.call(this,e)),i.push(this._sequencedShowHide(!0,e)),yield Promise.all(i)}))}hide(e){const t=Object.create(null,{hide:{get:()=>super.hide}});return(0,a.d)(this,void 0,void 0,(function*(){let i=[];i.push(t.hide.call(this,e)),i.push(this._sequencedShowHide(!1,e)),yield Promise.all(i)}))}_updateChildren(){super._updateChildren(),this._valuesDirty&&(0,s.i)(this._dataItems,(e=>{e.get("label").text.markDirtyText()})),(this.isDirty("legendLabelText")||this.isDirty("legendValueText"))&&(0,s.i)(this._dataItems,(e=>{this.updateLegendValue(e)})),this._arrange()}_arrange(){this._arrangeDown(this._lLabels),this._arrangeUp(this._lLabels),this._arrangeDown(this._rLabels),this._arrangeUp(this._rLabels),this._arrangeLeft(this._hLabels),this._arrangeRight(this._hLabels),(0,s.i)(this.dataItems,(e=>{this._updateTick(e)}))}_afterChanged(){super._afterChanged(),this._arrange()}processDataItem(e){if(super.processDataItem(e),null==e.get("fill")){let t=this.get("colors");t&&e.setRaw("fill",t.next())}if(null==e.get("fillPattern")){let t=this.get("patterns");t&&e.setRaw("fillPattern",t.next())}}showDataItem(e,t){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return(0,a.d)(this,void 0,void 0,(function*(){const a=[i.showDataItem.call(this,e,t)];(0,s.k)(t)||(t=this.get("stateAnimationDuration",0));const r=this.get("stateAnimationEasing");let n=e.get("value");const o=e.animate({key:"valueWorking",to:n,duration:t,easing:r});o&&a.push(o.waitForStop());const l=e.get("tick");l&&a.push(l.show(t));const u=e.get("label");u&&a.push(u.show(t));const d=e.get("slice");d&&a.push(d.show(t)),d.get("active")&&d.states.applyAnimate("active"),yield Promise.all(a)}))}hideDataItem(e,t){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return(0,a.d)(this,void 0,void 0,(function*(){const a=[i.hideDataItem.call(this,e,t)],r=this.states.create("hidden",{});(0,s.k)(t)||(t=r.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));const n=r.get("stateAnimationEasing",this.get("stateAnimationEasing")),o=e.animate({key:"valueWorking",to:0,duration:t,easing:n});o&&a.push(o.waitForStop());const l=e.get("tick");l&&a.push(l.hide(t));const u=e.get("label");u&&a.push(u.hide(t));const d=e.get("slice");d.hideTooltip(),d&&a.push(d.hide(t)),yield Promise.all(a)}))}disposeDataItem(e){super.disposeDataItem(e);let t=e.get("label");t&&(this.labels.removeValue(t),t.dispose());let i=e.get("tick");i&&(this.ticks.removeValue(i),i.dispose());let a=e.get("slice");a&&(this.slices.removeValue(a),a.dispose())}hoverDataItem(e){const t=e.get("slice");t&&!t.isHidden()&&t.hover()}unhoverDataItem(e){const t=e.get("slice");t&&t.unhover()}updateLegendMarker(e){if(e){const t=e.get("slice");if(t){const i=e.get("legendDataItem");if(i){const e=i.get("markerRectangle");(0,s.i)(s.v,(i=>{null!=t.get(i)&&e.set(i,t.get(i))}))}}}}_arrangeDown(e){if(e){let t=this._getNextDown();e.sort(((e,t)=>e.y>t.y?1:e.y<t.y?-1:0)),(0,s.i)(e,(e=>{const i=e.label.adjustedLocalBounds();let a=i.top;e.y+a<t&&(e.y=t-a),e.label.set("y",e.y),t=e.y+i.bottom}))}}_getNextUp(){return this.labelsContainer.maxHeight()}_getNextDown(){return 0}_arrangeUp(e){if(e){let t=this._getNextUp();e.sort(((e,t)=>e.y<t.y?1:e.y>t.y?-1:0)),(0,s.i)(e,(e=>{const i=e.label.adjustedLocalBounds();let a=i.bottom;e.y+a>t&&(e.y=t-a),e.label.set("y",e.y),t=e.y+i.top}))}}_arrangeRight(e){if(e){let t=0;e.sort(((e,t)=>e.y>t.y?1:e.y<t.y?-1:0)),(0,s.i)(e,(e=>{const i=e.label.adjustedLocalBounds();let a=i.left;e.y+a<t&&(e.y=t-a),e.label.set("x",e.y),t=e.y+i.right}))}}_arrangeLeft(e){if(e){let t=this.labelsContainer.maxWidth();e.sort(((e,t)=>e.y<t.y?1:e.y>t.y?-1:0)),(0,s.i)(e,(e=>{const i=e.label.adjustedLocalBounds();let a=i.right;e.y+a>t&&(e.y=t-a),e.label.set("x",e.y),t=e.y+i.left}))}}_updateSize(){super._updateSize(),this.markDirty()}_updateTick(e){}_dispose(){super._dispose();const e=this.chart;e&&e.series.removeValue(this)}}Object.defineProperty(N,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentSeries"}),Object.defineProperty(N,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:r.a.classNames.concat([N.className])});class I extends D{constructor(){super(...arguments),Object.defineProperty(this,"_maxRadius",{enumerable:!0,configurable:!0,writable:!0,value:1})}_afterNew(){super._afterNew(),this.seriesContainer.setAll({x:s.p,y:s.p})}_prepareChildren(){super._prepareChildren();const e=this.chartContainer,t=e.innerWidth(),i=e.innerHeight(),a=this.get("startAngle",0),r=this.get("endAngle",0),n=this.get("innerRadius");let o=(0,s.B)(0,0,a,r,1);const l=t/(o.right-o.left),u=i/(o.bottom-o.top);let d={left:0,right:0,top:0,bottom:0};if(n instanceof s.P){let e=n.value,o=Math.min(l,u);e=Math.max(o*e,o-Math.min(i,t))/o,d=(0,s.B)(0,0,a,r,e),this.setPrivateRaw("irModifyer",e/n.value)}o=(0,s.D)([o,d]);const h=this._maxRadius;this._maxRadius=Math.min(l,u);const c=(0,s.l)(this.get("radius",0),this._maxRadius);this.seriesContainer.setAll({dy:-c*(o.bottom+o.top)/2,dx:-c*(o.right+o.left)/2}),(this.isDirty("startAngle")||this.isDirty("endAngle")||h!=this._maxRadius)&&this.series.each((e=>{e._markDirtyKey("startAngle")})),(this.isDirty("innerRadius")||this.isDirty("radius"))&&this.series.each((e=>{e._markDirtyKey("innerRadius")}))}radius(e){let t=(0,s.l)(this.get("radius",0),this._maxRadius),i=(0,s.l)(this.get("innerRadius",0),t);if(e){let a=this.series.indexOf(e),r=this.series.length,n=e.get("radius");return null!=n?i+(0,s.l)(n,t-i):i+(t-i)/r*(a+1)}return t}innerRadius(e){const t=this.radius();let i=(0,s.l)(this.get("innerRadius",0),t);if(i<0&&(i=t+i),e){let a=this.series.indexOf(e),r=this.series.length,n=e.get("innerRadius");return null!=n?i+(0,s.l)(n,t-i):i+(t-i)/r*a}return i}_updateSize(){super._updateSize(),this.markDirtyKey("radius")}}Object.defineProperty(I,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieChart"}),Object.defineProperty(I,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:D.classNames.concat([I.className])});class P extends N{_makeSlices(){return new s.t(s.u.new({}),(()=>k._new(this._root,{themeTags:(0,s.m)(this.slices.template.get("themeTags",[]),["pie","series"])},[this.slices.template])))}_makeLabels(){return new s.t(s.u.new({}),(()=>u._new(this._root,{themeTags:(0,s.m)(this.labels.template.get("themeTags",[]),["pie","series"])},[this.labels.template])))}_makeTicks(){return new s.t(s.u.new({}),(()=>r.T._new(this._root,{themeTags:(0,s.m)(this.ticks.template.get("themeTags",[]),["pie","series"])},[this.ticks.template])))}processDataItem(e){super.processDataItem(e);const t=this.makeSlice(e);t.on("scale",(()=>{this._updateTick(e)})),t.on("shiftRadius",(()=>{this._updateTick(e)})),t.events.on("positionchanged",(()=>{this._updateTick(e)}));const i=this.makeLabel(e);i.events.on("positionchanged",(()=>{this._updateTick(e)})),this.makeTick(e),t.events.on("positionchanged",(()=>{i.markDirty()}))}_getNextUp(){const e=this.chart;return e?e._maxRadius:this.labelsContainer.maxHeight()/2}_getNextDown(){const e=this.chart;return e?-e._maxRadius:-this.labelsContainer.maxHeight()/2}_prepareChildren(){super._prepareChildren();const e=this.chart;if(e){if(this.isDirty("alignLabels")){let e=this.labels.template;if(this.get("alignLabels"))e.set("textType","aligned");else{let t=e.get("textType");null!=t&&"aligned"!=t||e.set("textType","adjusted")}}if(this._valuesDirty||this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("endAngle")||this.isDirty("alignLabels")){this.markDirtyBounds();const t=this.get("startAngle",e.get("startAngle",-90)),i=this.get("endAngle",e.get("endAngle",270))-t;let a=t;const r=e.radius(this);this.setPrivateRaw("radius",r);let n=e.innerRadius(this)*e.getPrivate("irModifyer",1);n<0&&(n=r+n),(0,s.i)(this._dataItems,(e=>{this.updateLegendValue(e);let t=i*e.get("valuePercentTotal")/100;const o=e.get("slice");if(o){o.set("radius",r),o.set("innerRadius",n),o.set("startAngle",a),o.set("arc",t);const i=e.get("fill");o._setDefault("fill",i),o._setDefault("stroke",i);const s=e.get("fillPattern");o._setDefault("fillPattern",s)}let l=(0,s.y)(a+t/2);const u=e.get("label");if(u&&(u.setPrivate("radius",r),u.setPrivate("innerRadius",n),u.set("labelAngle",l),"aligned"==u.get("textType"))){let e=r+u.get("radius",0),t=r*(0,s.A)(l);l>90&&l<=270?(u.isHidden()||u.isHiding()||this._lLabels.push({label:u,y:t}),e*=-1,e-=this.labelsContainer.get("paddingLeft",0),u.set("centerX",s.a),u.setPrivateRaw("left",!0)):(u.isHidden()||u.isHiding()||this._rLabels.push({label:u,y:t}),e+=this.labelsContainer.get("paddingRight",0),u.set("centerX",0),u.setPrivateRaw("left",!1)),u.set("x",e),u.set("y",r*(0,s.A)(l))}a+=t,this._updateTick(e)}))}}}_updateTick(e){const t=e.get("tick"),i=e.get("label"),a=e.get("slice"),r=t.get("location",1);if(t&&i&&a){const e=(a.get("shiftRadius",0)+a.get("radius",0))*a.get("scale",1)*r,n=i.get("labelAngle",0),o=(0,s.z)(n),l=(0,s.A)(n),u=this.labelsContainer,d=u.get("paddingLeft",0),h=u.get("paddingRight",0);let c=0,p=0;c=i.x(),p=i.y();let y=[];if(0!=c||0!=p){if("circular"==i.get("textType")){const e=i.radius()-i.get("paddingBottom",0),t=i.get("labelAngle",0);c=e*(0,s.z)(t),p=e*(0,s.A)(t)}let t=-h;i.getPrivate("left")&&(t=d),y=[{x:a.x()+e*o,y:a.y()+e*l},{x:c+t,y:p},{x:c,y:p}]}t.set("points",y)}}_positionBullet(e){const t=e.get("sprite");if(t){const i=t.dataItem.get("slice");if(i){const a=i.get("innerRadius",0),r=i.get("radius",0),n=i.get("startAngle",0)+i.get("arc",0)*e.get("locationX",.5),o=a+(r-a)*e.get("locationY",.5);t.setAll({x:(0,s.z)(n)*o,y:(0,s.A)(n)*o})}}}}Object.defineProperty(P,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieSeries"}),Object.defineProperty(P,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:N.classNames.concat([P.className])})},99107:(e,t,i)=>{i.r(t),i.d(t,{default:()=>a});const a={_decimalSeparator:",",_thousandSeparator:".",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - dd MMM",_date_hour:"HH:mm",_date_hour_full:"HH:mm - dd MMM",_date_day:"dd MMM",_date_day_full:"dd MMM",_date_week:"ww",_date_week_full:"dd MMM",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"HH:mm:ss SSS",_duration_millisecond_day:"d'g' mm:ss SSS",_duration_millisecond_week:"d'g' mm:ss SSS",_duration_millisecond_month:"M'm' dd'g' mm:ss SSS",_duration_millisecond_year:"y'a' MM'm' dd'g' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'g' hh:mm:ss",_duration_second_week:"d'g' hh:mm:ss",_duration_second_month:"M'm' dd'g' hh:mm:ss",_duration_second_year:"y'a' MM'm' dd'g' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'g' hh:mm",_duration_minute_week:"d'g' hh:mm",_duration_minute_month:"M'm' dd'g' hh:mm",_duration_minute_year:"y'a' MM'm' dd'g' hh:mm",_duration_hour:"hh'o'",_duration_hour_day:"d'g' hh'o'",_duration_hour_week:"d'g' hh'o'",_duration_hour_month:"M'm' dd'g' hh'o'",_duration_hour_year:"y'a' MM'm' dd'g' hh'o'",_duration_day:"d'g'",_duration_day_week:"d'g'",_duration_day_month:"M'm' dd'g'",_duration_day_year:"y'a' MM'm' dd'g'",_duration_week:"w's'",_duration_week_month:"w's'",_duration_week_year:"w's'",_duration_month:"M'm'",_duration_month_year:"y'a' MM'm'",_duration_year:"y'a'",_era_ad:"A.C.",_era_bc:"D.C.",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"Gennaio",February:"Febbraio",March:"Marzo",April:"Aprile",May:"Maggio",June:"Giugno",July:"Luglio",August:"Agosto",September:"Settembre",October:"Ottobre",November:"Novembre",December:"Dicembre",Jan:"Gen",Feb:"Feb",Mar:"Mar",Apr:"Apr","May(short)":"Mag",Jun:"Giu",Jul:"Lug",Aug:"Ago",Sep:"Set",Oct:"Ott",Nov:"Nov",Dec:"Dic",Sunday:"Domenica",Monday:"Luned",Tuesday:"Marted",Wednesday:"Mercoled",Thursday:"Gioved",Friday:"Venerd",Saturday:"Sabato",Sun:"Dom",Mon:"Lun",Tue:"Mar",Wed:"Mer",Thu:"Gio",Fri:"Ven",Sat:"Sab",_dateOrd:function(e){return e+""},"Zoom Out":"Riduci zoom",Play:"Avvia",Stop:"Ferma",Legend:"Legenda","Press ENTER to toggle":"Clicca, tappa o premi ENTER per attivare",Loading:"Caricamento",Home:"Home",Chart:"Grafico","Serial chart":"Grafico combinato","X/Y chart":"Grafico X/Y","Pie chart":"Grafico a torta","Gauge chart":"Diagramma di livello","Radar chart":"Grafico radar","Sankey diagram":"Diagramma di Sankey","Flow diagram":"Diagramma di flusso","Chord diagram":"Diagramma a corda","TreeMap chart":"Mappa ad albero","Sliced chart":"Grafico a fette",Series:"Serie","Candlestick Series":"Serie a candele","OHLC Series":"Serie OHLC","Column Series":"Serie a colonne","Line Series":"Serie a linee","Pie Slice Series":"Serie a fetta di torta","Funnel Series":"Serie ad imbuto","Pyramid Series":"Serie a piramide","X/Y Series":"Serie X/Y",Map:"Mappa","Press ENTER to zoom in":"Premi ENTER per ingrandire","Press ENTER to zoom out":"Premi ENTER per ridurre","Use arrow keys to zoom in and out":"Usa le frecce per ingrandire e ridurre","Use plus and minus keys on your keyboard to zoom in and out":"Utilizza i tasti pi e meno sulla tastiera per ingrandire e ridurre",Export:"Esporta",Image:"Immagine",Data:"Dati",Print:"Stampa","Press ENTER to open":"Clicca, tappa o premi ENTER per aprire","Press ENTER to print.":"Clicca, tappa o premi ENTER per stampare.","Press ENTER to export as %1.":"Clicca, tappa o premi ENTER per esportare come %1.","(Press ESC to close this message)":"(Premere ESC per chiudere questo messaggio)","Image Export Complete":"Esportazione immagine completata","Export operation took longer than expected. Something might have gone wrong.":"L'operazione di esportazione ha richiesto pi tempo del previsto. Potrebbe esserci qualche problema.","Saved from":"Salvato da",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"Utilizzare TAB per selezionare i punti di ancoraggio o i tasti freccia sinistra e destra per modificare la selezione","Use left and right arrows to move selection":"Utilizzare le frecce sinistra e destra per spostare la selezione","Use left and right arrows to move left selection":"Utilizzare frecce destra e sinistra per spostare la selezione sinistra","Use left and right arrows to move right selection":"Utilizzare frecce destra e sinistra per spostare la selezione destra","Use TAB select grip buttons or up and down arrows to change selection":"Utilizzare TAB per selezionare i punti di ancoraggio o premere le frecce su e gi per modificare la selezione","Use up and down arrows to move selection":"Utilizzare le frecce su e gi per spostare la selezione","Use up and down arrows to move lower selection":"Utilizzare le frecce su e gi per spostare la selezione inferiore","Use up and down arrows to move upper selection":"Utilizzare le frecce su e gi per spostare la selezione superiore","From %1 to %2":"Da %1 a %2","From %1":"Da %1","To %1":"a %1","No parser available for file: %1":"Nessun parser disponibile per il file: %1","Error parsing file: %1":"Errore durante l'analisi del file: %1","Unable to load file: %1":"Impossibile caricare il file: %1","Invalid date":"Data non valida"}}}]);